{"ast":null,"code":"export const RUTA_SERVIDOR_ALUMNOS = process.env.VUE_APP_RUTA_API_ALUMNOS;\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS;\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      nombreAutor: \"\"\n    };\n  },\n\n  props: {\n    variable: {\n      type: Number,\n      default: 0\n    }\n  },\n  methods: {\n    consultarAutor() {\n      if (this.variable > 0) {\n        fetch(RUTA_SERVIDOR_LIBROS + \"/autor/\" + this.variable).then(respuesta => respuesta.json()).then(datosRespuesta => {\n          this.nombreAutor = datosRespuesta.nombre;\n        }).catch(console.log);\n      }\n    },\n\n    agregarAutor() {\n      if (this.nombreAutor.trim() === \"\") {\n        alert('Por favor, El campo de nombre del autor no pueden estar vacios.');\n        return;\n      }\n\n      axios.post(RUTA_SERVIDOR_LIBROS + \"/autor/\", {\n        nombre: this.nombreAutor.toUpperCase(),\n        idEmpleado: parseInt(localStorage.getItem('id')),\n        activo: 1\n      }).then(function (response) {\n        console.log(response);\n        location.reload();\n      }).then(alert(\"El autor se agrego correctamente\")).catch(function (error) {\n        console.log(error);\n      });\n    },\n\n    reset() {\n      Object.assign(this.$data, this.$options.data());\n      this.consultarEditorial();\n      this.consultarAutor();\n      this.consultarCarreras();\n    },\n\n    volver() {\n      location.reload();\n    },\n\n    obterAutor() {\n      this.preNombre = this.autor.find(x => x.id == this.libro.idAutor).nombre;\n    },\n\n    Previa() {\n      let index = 0;\n\n      while (index != this.libro.idAutor) {\n        if (this.libro.idAutor == this.autor[index].id) {\n          this.preNombre = this.autor[index].nombre;\n          index = this.libro.idAutor;\n        } else {\n          index++;\n        }\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAsCA;AACA;AAEA;AACA;EACAA;IACA;MACAC;IADA;EAGA,CALA;;EAMAC;IACAC;MACAC,YADA;MAEAC;IAFA;EADA,CANA;EAeAC;IACAC;MACA;QACAC,wDACAC,IADA,CACAC,6BADA,EAEAD,IAFA,CAEAE;UACA;QACA,CAJA,EAKAC,KALA,CAKAC,WALA;MAMA;IACA,CAVA;;IAYAC;MACA,IACA,8BADA,EAGA;QACAC;QACA;MACA;;MAEAC,MACAC,IADA,CACAC,gCADA,EACA;QACAC,sCADA;QAEAC,gDAFA;QAGAC;MAHA,CADA,EAMAZ,IANA,CAMA;QACAI;QACAS;MACA,CATA,EAUAb,IAVA,CAUAM,yCAVA,EAWAH,KAXA,CAWA;QACAC;MACA,CAbA;IAcA,CAnCA;;IAqCAU;MACAC;MACA;MACA;MACA;IACA,CA1CA;;IA2CAC;MACAH;IACA,CA7CA;;IA8CAI;MACA,iCACAC,+BADA,EAEAR,MAFA;IAGA,CAlDA;;IAmDAS;MACA;;MACA;QACA;UACA;UACAC;QACA,CAHA,MAGA;UACAA;QACA;MACA;IACA;;EA7DA;AAfA","names":["data","nombreAutor","props","variable","type","default","methods","consultarAutor","fetch","then","respuesta","datosRespuesta","catch","console","agregarAutor","alert","axios","post","RUTA_SERVIDOR_LIBROS","nombre","idEmpleado","activo","location","reset","Object","volver","obterAutor","x","Previa","index"],"sourceRoot":"src/components","sources":["CrearAutor.vue"],"sourcesContent":["<template>\n  <div class=\"container row\" ref=\"accionEditar\">\n   \n    <form v-on:submit.prevent=\"agregarAutor\" class=\"col\">\n      <div class=\"row align-items-center\">\n        <div class=\"form-group col-sm\">\n          <label for=\"titulo\">nombre del autor</label>\n          <input\n            required\n            type=\"text\"\n            name=\"nombre\"\n            v-model=\"nombreAutor\"\n            id=\"titulo\"\n            class=\"form-control\"\n            placeholder=\"Nombre del autor\"\n            aria-describedby=\"titulo\"\n          />\n        </div>\n      </div>\n\n      <br />\n      <div class=\"container row justify-content-md-center\" raria-label=\"\">\n        <a\n          v-if=\"variable < 0\"\n          v-on:click.stop=\"agregarAutor()\"\n          class=\"btn btn-success col-3\"\n        >\n          Agregar nuevo autor\n        </a>\n     \n        \n        <a v-on:click.stop=\"volver()\" class=\"btn btn-danger col-3\">Cancelar</a>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\n  export const RUTA_SERVIDOR_ALUMNOS = process.env.VUE_APP_RUTA_API_ALUMNOS;\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS;\n\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      nombreAutor: \"\",\n    };\n  },\n  props: {\n    variable: {\n      type: Number,\n      default: 0,\n    },\n  },\n\n\n\n  methods: {\n    consultarAutor() {\n      if (this.variable > 0) {\n        fetch(RUTA_SERVIDOR_LIBROS+\"/autor/\" + this.variable)\n          .then((respuesta) => respuesta.json())\n          .then((datosRespuesta) => {\n            this.nombreAutor = datosRespuesta.nombre;\n          })\n          .catch(console.log);\n      }\n    },\n\n    agregarAutor() {\n      if (\n    this.nombreAutor.trim() === \"\" \n  \n  ) {\n    alert('Por favor, El campo de nombre del autor no pueden estar vacios.');\n    return;\n  }\n\n      axios\n        .post(RUTA_SERVIDOR_LIBROS+\"/autor/\", {\n          nombre: this.nombreAutor.toUpperCase(),\n          idEmpleado: parseInt(localStorage.getItem('id')),\n          activo: 1,\n        })\n        .then(function (response) {\n          console.log(response);\n          location.reload();\n        })\n        .then(alert(\"El autor se agrego correctamente\"))\n        .catch(function (error) {\n          console.log(error);\n        });\n    },\n\n    reset() {\n      Object.assign(this.$data, this.$options.data());\n      this.consultarEditorial();\n      this.consultarAutor();\n      this.consultarCarreras();\n    },\n    volver() {\n      location.reload();\n    },\n    obterAutor() {\n      this.preNombre = this.autor.find(\n        (x) => x.id == this.libro.idAutor\n      ).nombre;\n    },\n    Previa() {\n      let index = 0;\n      while (index != this.libro.idAutor) {\n        if (this.libro.idAutor == this.autor[index].id) {\n          this.preNombre = this.autor[index].nombre;\n          index = this.libro.idAutor;\n        } else {\n          index++;\n        }\n      }\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}