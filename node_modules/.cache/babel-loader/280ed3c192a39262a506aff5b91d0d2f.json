{"ast":null,"code":"import { defineComponent, computed, shallowRef, resolveComponent, openBlock, createElementBlock, normalizeClass, normalizeStyle, Fragment, withKeys, withModifiers, renderSlot, createVNode, withCtx, createCommentVNode, renderList, mergeProps, normalizeProps, guardReactiveProps, createTextVNode, toDisplayString, createElementVNode } from \"vue\";\nimport { u as useCarousel } from \"./hooks/useCarousel.js\";\nimport { u as useCarouselAnimation } from \"./hooks/useCarouselAnimation.js\";\nimport { u as useCarouselColor } from \"./hooks/useCarouselColors.js\";\nimport { u as useComponentPresetProp } from \"../../composables/useComponentPreset.js\";\nimport { a as useStatefulProps, u as useStatefulEmits, b as useStateful } from \"../../composables/useStateful.js\";\nimport { u as useSwipeProps, a as useSwipe } from \"../../composables/useSwipe.js\";\nimport { u as useTranslation } from \"../../composables/useTranslation.js\";\nimport { V as VaImage } from \"../va-image/index.js\";\nimport { V as VaButton } from \"../va-button/index.js\";\nimport { V as VaHover } from \"../va-hover/index.js\";\nimport { e as extractComponentProps } from \"../../utils/component-options/extract-component-options.js\";\nimport { f as filterComponentProps } from \"../../utils/component-options/filter-props.js\";\nimport { _ as _export_sfc } from \"../../../plugin-vue_export-helper.js\";\n\nvar VaCarousel_vue_vue_type_style_index_0_lang = /* @__PURE__ */(() => ':root{--va-carousel-background: var(--va-background-secondary);--va-carousel-border-radius: var(--va-block-border-radius);--va-carousel-box-shadow: var(--va-box-shadow);--va-carousel-slides-transition: all .3s ease-in-out;--va-carousel-indicators-gap: .25rem;--va-carousel-min-height: 80px;--va-carousel-padding: 16px}@-webkit-keyframes va-carousel-fade-appear{0%{opacity:0}to{opacity:1}}@keyframes va-carousel-fade-appear{0%{opacity:0}to{opacity:1}}.va-carousel{display:flex;width:100%;height:100%;max-height:100%;min-height:var(--va-carousel-min-height);background:var(--va-carousel-background);box-shadow:var(--va-carousel-box-shadow);border-radius:var(--va-carousel-border-radius);position:relative;overflow:hidden}.va-carousel__content{flex:1;width:100%;white-space:nowrap}.va-carousel__slides{width:100%;height:100%;transition:var(--va-carousel-slides-transition)}.va-carousel__slide{display:inline-flex;justify-content:center;align-items:center;width:100%;height:100%;overflow:hidden}.va-carousel__indicators{width:100%;position:absolute;bottom:var(--va-carousel-padding);display:flex;justify-content:center;z-index:2;overflow-x:auto;left:50%;transform:translate(-50%);scrollbar-color:var(--va-background-element) transparent;scrollbar-width:thin}.va-carousel__indicators::-webkit-scrollbar{width:4px;height:4px}.va-carousel__indicators::-webkit-scrollbar-track{box-shadow:none;border-radius:10px}.va-carousel__indicators::-webkit-scrollbar-thumb{background:var(--va-background-element);opacity:.3;border-radius:2px}.va-carousel__indicators>*{margin:0 var(--va-carousel-indicators-gap)}.va-carousel__arrow{z-index:1;width:-webkit-max-content;width:-moz-max-content;width:max-content;height:-webkit-max-content;height:-moz-max-content;height:max-content}.va-carousel__arrow--right{right:var(--va-carousel-padding);position:absolute;top:50%;transform:translateY(-50%)}.va-carousel__arrow--left{left:var(--va-carousel-padding);position:absolute;top:50%;transform:translateY(-50%)}.va-carousel--vertical .va-carousel__slide{display:flex}.va-carousel--vertical .va-carousel__arrow{z-index:1}.va-carousel--vertical .va-carousel__arrow--right{bottom:var(--va-carousel-padding);top:auto;left:50%;transform:translate(-50%)}.va-carousel--vertical .va-carousel__arrow--left{top:var(--va-carousel-padding);left:50%;transform:translate(-50%)}.va-carousel--vertical .va-carousel__indicators{left:var(--va-carousel-padding);flex-direction:column;width:auto;height:100%;top:50%;transform:translateY(-50%);overflow-x:hidden;overflow-y:auto}.va-carousel--vertical .va-carousel__indicators>*{margin:var(--va-carousel-indicators-gap) 0}.va-carousel .va-image{height:100%;width:100%}.va-carousel .va-button:focus-visible{outline:2px solid var(--va-focus)!important;border-radius:\"inherit\";outline-offset:-2px}\\n')();\n\nconst VaImageProps = extractComponentProps(VaImage, [\"src\", \"alt\"]);\n\nconst _sfc_main = defineComponent({\n  name: \"VaCarousel\",\n  components: {\n    VaImage,\n    VaButton,\n    VaHover\n  },\n  props: { ...useSwipeProps,\n    ...useStatefulProps,\n    ...useComponentPresetProp,\n    ...VaImageProps,\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    items: {\n      type: Array,\n      required: true\n    },\n    autoscroll: {\n      type: Boolean,\n      default: false\n    },\n    autoscrollInterval: {\n      type: Number,\n      default: 1e3\n    },\n    autoscrollPauseDuration: {\n      type: Number,\n      default: 2e3\n    },\n    infinite: {\n      type: Boolean,\n      default: false\n    },\n    fadeKeyframe: {\n      type: String,\n      default: \"va-carousel-fade-appear 1s\"\n    },\n    arrows: {\n      type: Boolean,\n      default: true\n    },\n    indicators: {\n      type: Boolean,\n      default: true\n    },\n    indicatorTrigger: {\n      type: String,\n      default: \"click\",\n      validator: value => [\"click\", \"hover\"].includes(value)\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    height: {\n      type: String,\n      default: \"300px\"\n    },\n    effect: {\n      type: String,\n      default: \"transition\",\n      validator: value => [\"fade\", \"transition\"].includes(value)\n    },\n    color: {\n      type: String,\n      default: \"primary\"\n    },\n    ratio: {\n      type: Number\n    }\n  },\n  emits: useStatefulEmits,\n\n  setup(props, {\n    emit\n  }) {\n    const {\n      valueComputed: currentSlide\n    } = useStateful(props, emit, \"modelValue\", {\n      defaultValue: 0\n    });\n    const {\n      goTo,\n      next,\n      prev,\n      doShowNextButton,\n      doShowPrevButton\n    } = useCarousel(props, currentSlide);\n    const {\n      withPause,\n      computedSlidesStyle,\n      slides\n    } = useCarouselAnimation(props, currentSlide);\n    const isObjectSlides = computed(() => {\n      return props.items.length && props.items.every(el => !!el && typeof el === \"object\" && !!(el == null ? void 0 : el.src));\n    });\n\n    const isCurrentSlide = index => index === currentSlide.value;\n\n    const slideStyleComputed = computed(() => ({\n      animation: props.effect === \"fade\" ? \"fadeKeyframe\" : void 0\n    }));\n    const slidesContainer = shallowRef();\n\n    const onSwipe = state => {\n      switch (state.direction) {\n        case \"right\":\n        case \"up\":\n          doShowPrevButton.value && prev();\n          break;\n\n        case \"left\":\n        case \"down\":\n          doShowNextButton.value && next();\n      }\n    };\n\n    useSwipe(props, slidesContainer, onSwipe);\n    return {\n      vaImageProps: filterComponentProps(VaImageProps),\n      doShowNextButton,\n      doShowPrevButton,\n      computedSlidesStyle,\n      slideStyleComputed,\n      goTo: withPause(goTo),\n      prev: withPause(prev),\n      next: withPause(next),\n      slides,\n      isObjectSlides,\n      isCurrentSlide,\n      ...useCarouselColor(),\n      ...useTranslation(),\n      slidesContainer\n    };\n  }\n\n});\n\nconst _hoisted_1 = [\"aria-label\"];\nconst _hoisted_2 = {\n  key: 1,\n  class: \"va-carousel__indicators\"\n};\nconst _hoisted_3 = {\n  class: \"va-carousel__content\"\n};\nconst _hoisted_4 = [\"aria-hidden\", \"aria-current\", \"aria-label\"];\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_button = resolveComponent(\"va-button\");\n\n  const _component_va_hover = resolveComponent(\"va-hover\");\n\n  const _component_va_image = resolveComponent(\"va-image\");\n\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([\"va-carousel\", {\n      \"va-carousel--vertical\": _ctx.$props.vertical,\n      [`va-carousel--${_ctx.$props.effect}`]: true\n    }]),\n    style: normalizeStyle({\n      height: _ctx.ratio ? \"auto\" : _ctx.height\n    }),\n    role: \"region\",\n    \"aria-label\": _ctx.t(\"carousel\")\n  }, [_ctx.$props.arrows ? (openBlock(), createElementBlock(Fragment, {\n    key: 0\n  }, [_ctx.doShowPrevButton ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    class: \"va-carousel__arrow va-carousel__arrow--left\",\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.prev && _ctx.prev(...args)),\n    onKeydown: _cache[1] || (_cache[1] = withKeys(withModifiers((...args) => _ctx.prev && _ctx.prev(...args), [\"stop\"]), [\"enter\"]))\n  }, [renderSlot(_ctx.$slots, \"prev-arrow\", {}, () => [createVNode(_component_va_hover, {\n    stateful: \"\"\n  }, {\n    default: withCtx(({\n      hover\n    }) => [createVNode(_component_va_button, {\n      color: hover ? _ctx.computedHoverColor : _ctx.computedColor,\n      icon: _ctx.vertical ? \"va-arrow-up\" : \"va-arrow-left\",\n      \"aria-label\": _ctx.t(\"goPreviousSlide\")\n    }, null, 8, [\"color\", \"icon\", \"aria-label\"])]),\n    _: 1\n  })])], 32)) : createCommentVNode(\"\", true), _ctx.doShowNextButton ? (openBlock(), createElementBlock(\"div\", {\n    key: 1,\n    class: \"va-carousel__arrow va-carousel__arrow--right\",\n    onClick: _cache[2] || (_cache[2] = (...args) => _ctx.next && _ctx.next(...args)),\n    onKeydown: _cache[3] || (_cache[3] = withKeys(withModifiers((...args) => _ctx.next && _ctx.next(...args), [\"stop\"]), [\"enter\"]))\n  }, [renderSlot(_ctx.$slots, \"next-arrow\", {}, () => [createVNode(_component_va_hover, {\n    stateful: \"\"\n  }, {\n    default: withCtx(({\n      hover\n    }) => [createVNode(_component_va_button, {\n      color: hover ? _ctx.computedHoverColor : _ctx.computedColor,\n      icon: _ctx.vertical ? \"va-arrow-down\" : \"va-arrow-right\",\n      \"aria-label\": _ctx.t(\"goNextSlide\")\n    }, null, 8, [\"color\", \"icon\", \"aria-label\"])]),\n    _: 1\n  })])], 32)) : createCommentVNode(\"\", true)], 64)) : createCommentVNode(\"\", true), _ctx.$props.indicators ? (openBlock(), createElementBlock(\"div\", _hoisted_2, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.$props.items, (item, index) => {\n    return openBlock(), createElementBlock(\"div\", mergeProps({\n      class: [\"va-carousel__indicator\", {\n        \"va-carousel__indicator--active\": index === _ctx.modelValue\n      }],\n      key: index\n    }, _ctx.indicatorTrigger === \"hover\" ? {\n      onmouseover: () => _ctx.goTo(index)\n    } : {\n      onclick: () => _ctx.goTo(index)\n    }), [renderSlot(_ctx.$slots, \"indicator\", normalizeProps(guardReactiveProps({\n      item,\n      index,\n      goTo: _ctx.goTo,\n      isActive: _ctx.isCurrentSlide(index)\n    })), () => [createVNode(_component_va_hover, {\n      stateful: \"\"\n    }, {\n      default: withCtx(({\n        hover\n      }) => [createVNode(_component_va_button, {\n        \"aria-label\": _ctx.t(`goSlide`, {\n          index: index + 1\n        }),\n        round: \"\",\n        color: _ctx.isCurrentSlide(index) ? _ctx.computedActiveColor : hover ? _ctx.computedHoverColor : _ctx.computedColor\n      }, {\n        default: withCtx(() => [createTextVNode(toDisplayString(index + 1), 1)]),\n        _: 2\n      }, 1032, [\"aria-label\", \"color\"])]),\n      _: 2\n    }, 1024)])], 16);\n  }), 128))])) : createCommentVNode(\"\", true), createElementVNode(\"div\", _hoisted_3, [createElementVNode(\"div\", {\n    ref: \"slidesContainer\",\n    class: \"va-carousel__slides\",\n    style: normalizeStyle(_ctx.computedSlidesStyle),\n    role: \"list\"\n  }, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.slides, (item, index) => {\n    return openBlock(), createElementBlock(\"div\", {\n      key: item,\n      role: \"listitem\",\n      class: \"va-carousel__slide\",\n      style: normalizeStyle(_ctx.slideStyleComputed),\n      \"aria-hidden\": !_ctx.isCurrentSlide(index),\n      \"aria-current\": _ctx.isCurrentSlide(index),\n      \"aria-label\": _ctx.t(\"slideOf\", {\n        index: index + 1,\n        length: _ctx.slides.length\n      })\n    }, [renderSlot(_ctx.$slots, \"default\", normalizeProps(guardReactiveProps({\n      item,\n      index,\n      goTo: _ctx.goTo,\n      isActive: _ctx.isCurrentSlide(index)\n    })), () => [createVNode(_component_va_image, mergeProps(_ctx.vaImageProps, {\n      src: _ctx.isObjectSlides ? item.src : item,\n      alt: _ctx.isObjectSlides ? item.alt : \"\",\n      draggable: false\n    }), null, 16, [\"src\", \"alt\"])])], 12, _hoisted_4);\n  }), 128))], 4)])], 14, _hoisted_1);\n}\n\nvar _VaCarousel = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { _VaCarousel as _ };\nimport './VaCarousel.css';","map":{"version":3,"mappings":"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","names":["VaImageProps","extractComponentProps","VaImage","_sfc_main","defineComponent","name","components","VaButton","VaHover","props","useSwipeProps","useStatefulProps","useComponentPresetProp","modelValue","type","Number","default","items","Array","required","autoscroll","Boolean","autoscrollInterval","autoscrollPauseDuration","infinite","fadeKeyframe","String","arrows","indicators","indicatorTrigger","validator","value","includes","vertical","height","effect","color","ratio","emits","useStatefulEmits","setup","emit","valueComputed","currentSlide","useStateful","defaultValue","goTo","next","prev","doShowNextButton","doShowPrevButton","useCarousel","withPause","computedSlidesStyle","slides","useCarouselAnimation","computed","length","every","el","src","isCurrentSlide","index","animation","slidesContainer","shallowRef","state","direction","useSwipe","onSwipe","vaImageProps","filterComponentProps","slideStyleComputed","isObjectSlides","useCarouselColor","useTranslation","class","_createElementBlock","_normalizeClass","_ctx","$props","style","_normalizeStyle","role","t","openBlock","_Fragment","key","onClick","_cache","onKeydown","_renderSlot","_createVNode","_component_va_hover","stateful","_withCtx","hover","_component_va_button","computedHoverColor","icon","_openBlock","_renderList","item","_mergeProps","onmouseover","onclick","$slots","_normalizeProps","isActive","round","_toDisplayString","_createTextVNode","_","_createElementVNode","ref","_component_va_image","alt","draggable"],"sources":["../../../../../src/components/va-carousel/VaCarousel.vue"],"sourcesContent":["<template>\n  <div\n    class=\"va-carousel\"\n    :class=\"{\n      'va-carousel--vertical': $props.vertical,\n      [`va-carousel--${$props.effect}`]: true\n    }\"\n    :style=\"{ height: ratio ? 'auto' : height }\"\n    role=\"region\"\n    :aria-label=\"t('carousel')\"\n  >\n    <template v-if=\"$props.arrows\">\n      <div\n        v-if=\"doShowPrevButton\"\n        class=\"va-carousel__arrow va-carousel__arrow--left\"\n        @click=\"prev\"\n        @keydown.enter.stop=\"prev\"\n      >\n        <slot name=\"prev-arrow\">\n          <va-hover #default=\"{ hover }\" stateful>\n            <va-button\n              :color=\"hover ? computedHoverColor : computedColor\"\n              :icon=\"vertical ? 'va-arrow-up' : 'va-arrow-left'\"\n              :aria-label=\"t('goPreviousSlide')\"\n            />\n          </va-hover>\n        </slot>\n      </div>\n      <div\n        v-if=\"doShowNextButton\"\n        class=\"va-carousel__arrow va-carousel__arrow--right\"\n        @click=\"next\"\n        @keydown.enter.stop=\"next\"\n      >\n        <slot name=\"next-arrow\">\n          <va-hover #default=\"{ hover }\" stateful>\n            <va-button\n              :color=\"hover ? computedHoverColor : computedColor\"\n              :icon=\"vertical ? 'va-arrow-down' : 'va-arrow-right'\"\n              :aria-label=\"t('goNextSlide')\"\n            />\n          </va-hover>\n        </slot>\n      </div>\n    </template>\n\n    <div class=\"va-carousel__indicators\" v-if=\"$props.indicators\">\n      <div\n        class=\"va-carousel__indicator\"\n        v-for=\"(item, index) in $props.items\" :key=\"index\"\n        :class=\"{ 'va-carousel__indicator--active': index === modelValue }\"\n        v-bind=\"indicatorTrigger === 'hover' ? { onmouseover: () => goTo(index) } : { onclick: () => goTo(index) }\"\n      >\n        <slot name=\"indicator\" v-bind=\"{ item, index, goTo, isActive: isCurrentSlide(index) }\">\n          <va-hover #default=\"{ hover }\" stateful>\n            <va-button\n              :aria-label=\"t(`goSlide`, { index: index + 1 })\"\n              round\n              :color=\"isCurrentSlide(index) ? computedActiveColor : (hover ? computedHoverColor : computedColor)\"\n            >\n              {{ index + 1 }}\n            </va-button>\n          </va-hover>\n        </slot>\n      </div>\n    </div>\n\n    <div class=\"va-carousel__content\">\n      <div\n        ref=\"slidesContainer\"\n        class=\"va-carousel__slides\"\n        :style=\"computedSlidesStyle\"\n        role=\"list\"\n      >\n        <div\n          v-for=\"(item, index) in slides\" :key=\"item\"\n          role=\"listitem\"\n          class=\"va-carousel__slide\"\n          :style=\"slideStyleComputed\"\n          :aria-hidden=\"!isCurrentSlide(index)\"\n          :aria-current=\"isCurrentSlide(index)\"\n          :aria-label=\"t('slideOf', { index: index + 1, length: slides.length })\"\n        >\n          <slot v-bind=\"{ item, index, goTo, isActive: isCurrentSlide(index) }\">\n            <va-image\n              v-bind=\"vaImageProps\"\n              :src=\"isObjectSlides ? item.src : item\"\n              :alt=\"isObjectSlides ? item.alt : ''\"\n              :draggable=\"false\"\n            />\n          </slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, shallowRef, PropType, computed } from 'vue'\nimport { useCarousel } from './hooks/useCarousel'\nimport { useCarouselAnimation } from './hooks/useCarouselAnimation'\nimport { useCarouselColor } from './hooks/useCarouselColors'\nimport {\n  useStateful, useStatefulProps, useStatefulEmits,\n  useSwipe, useSwipeProps, useComponentPresetProp,\n  useTranslation,\n} from '../../composables'\n\nimport { VaImage } from '../va-image'\nimport { VaButton } from '../va-button'\nimport { VaHover } from '../va-hover'\n\nimport type { SwipeState } from '../../composables'\n\nimport { extractComponentProps, filterComponentProps } from '../../utils/component-options'\n\nconst VaImageProps = extractComponentProps(VaImage, ['src', 'alt'])\n\nexport default defineComponent({\n  name: 'VaCarousel',\n\n  components: { VaImage, VaButton, VaHover },\n\n  props: {\n    ...useSwipeProps,\n    ...useStatefulProps,\n    ...useComponentPresetProp,\n    ...VaImageProps,\n\n    modelValue: { type: Number, default: 0 },\n    items: { type: Array as PropType<any[]>, required: true },\n\n    // Animations\n    autoscroll: { type: Boolean, default: false },\n    autoscrollInterval: { type: Number, default: 1000 },\n    autoscrollPauseDuration: { type: Number, default: 2000 },\n    infinite: { type: Boolean, default: false },\n    fadeKeyframe: { type: String, default: 'va-carousel-fade-appear 1s' },\n\n    // Visual\n    arrows: { type: Boolean, default: true },\n    indicators: { type: Boolean, default: true },\n    indicatorTrigger: {\n      type: String as PropType<'click' | 'hover'>,\n      default: 'click',\n      validator: (value: string) => ['click', 'hover'].includes(value),\n    },\n    vertical: { type: Boolean, default: false },\n    height: { type: String, default: '300px' },\n    effect: {\n      type: String as PropType<'fade' | 'transition'>,\n      default: 'transition',\n      validator: (value: string) => ['fade', 'transition'].includes(value),\n    },\n    color: { type: String, default: 'primary' },\n    ratio: { type: Number },\n  },\n\n  emits: useStatefulEmits,\n\n  setup (props, { emit }) {\n    const { valueComputed: currentSlide } = useStateful(props, emit, 'modelValue', { defaultValue: 0 })\n\n    const {\n      goTo, next, prev,\n      doShowNextButton, doShowPrevButton,\n    } = useCarousel(props, currentSlide)\n\n    const { withPause, computedSlidesStyle, slides } = useCarouselAnimation(props, currentSlide)\n    const isObjectSlides = computed(() => {\n      return props.items.length && props.items.every((el) => !!el && typeof el === 'object' && !!el?.src)\n    })\n    const isCurrentSlide = (index: number) => index === currentSlide.value\n\n    const slideStyleComputed = computed(() => ({\n      animation: props.effect === 'fade' ? 'fadeKeyframe' : undefined,\n    }))\n\n    // swiping\n    const slidesContainer = shallowRef<HTMLElement>()\n    const onSwipe = (state: SwipeState) => {\n      switch (state.direction) {\n        case 'right':\n        case 'up':\n          doShowPrevButton.value && prev()\n          break\n        case 'left':\n        case 'down':\n          doShowNextButton.value && next()\n      }\n    }\n    useSwipe(props, slidesContainer, onSwipe)\n\n    return {\n      vaImageProps: filterComponentProps(VaImageProps),\n      doShowNextButton,\n      doShowPrevButton,\n      computedSlidesStyle,\n      slideStyleComputed,\n      goTo: withPause(goTo),\n      prev: withPause(prev),\n      next: withPause(next),\n      slides,\n      isObjectSlides,\n      isCurrentSlide,\n      ...useCarouselColor(),\n      ...useTranslation(),\n      slidesContainer,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"./_variables.scss\";\n\n@keyframes va-carousel-fade-appear {\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n\n.va-carousel {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  min-height: var(--va-carousel-min-height);\n  background: var(--va-carousel-background);\n  box-shadow: var(--va-carousel-box-shadow);\n  border-radius: var(--va-carousel-border-radius);\n  position: relative;\n  overflow: hidden;\n\n  &__content {\n    flex: 1;\n    width: 100%;\n    white-space: nowrap;\n  }\n\n  &__slides {\n    width: 100%;\n    height: 100%;\n    transition: var(--va-carousel-slides-transition);\n  }\n\n  &__slide {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  &__indicators {\n    width: 100%;\n    position: absolute;\n    bottom: var(--va-carousel-padding);\n    display: flex;\n    justify-content: center;\n    z-index: 2;\n    overflow-x: auto;\n    left: 50%;\n    transform: translateX(-50%);\n\n    @include va-scroll();\n\n    & > * {\n      margin: 0 var(--va-carousel-indicators-gap);\n    }\n  }\n\n  &__arrow {\n    z-index: 1;\n    width: max-content;\n    height: max-content;\n\n    &--right {\n      right: var(--va-carousel-padding);\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n\n    &--left {\n      left: var(--va-carousel-padding);\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n  }\n\n  &--vertical {\n    .va-carousel {\n      &__slide {\n        display: flex;\n      }\n\n      &__arrow {\n        z-index: 1;\n\n        &--right {\n          bottom: var(--va-carousel-padding);\n          top: auto;\n          left: 50%;\n          transform: translateX(-50%);\n        }\n\n        &--left {\n          top: var(--va-carousel-padding);\n          left: 50%;\n          transform: translateX(-50%);\n        }\n      }\n\n      &__indicators {\n        left: var(--va-carousel-padding);\n        flex-direction: column;\n        width: auto;\n        height: 100%;\n        top: 50%;\n        transform: translateY(-50%);\n        overflow-x: hidden;\n        overflow-y: auto;\n\n        & > * {\n          margin: var(--va-carousel-indicators-gap) 0;\n        }\n      }\n    }\n  }\n\n  .va-image {\n    height: 100%;\n    width: 100%;\n  }\n\n  .va-button {\n    @include keyboard-focus-outline($offset: -2px);\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}