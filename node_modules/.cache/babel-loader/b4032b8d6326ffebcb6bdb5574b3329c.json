{"ast":null,"code":"import { defineComponent, computed, resolveComponent, openBlock, createElementBlock, normalizeClass, createBlock, mergeProps, withCtx, createVNode, toHandlers, withKeys, withModifiers, renderSlot, createTextVNode, toDisplayString, createCommentVNode } from \"vue\";\nimport { e as extractComponentProps } from \"../../utils/component-options/extract-component-options.js\";\nimport { f as filterComponentProps } from \"../../utils/component-options/filter-props.js\";\nimport { u as useBem } from \"../../composables/useBem.js\";\nimport { o as omit_1 } from \"../../../vendor.js\";\nimport { u as useComponentPresetProp } from \"../../composables/useComponentPreset.js\";\nimport { p as placementsPositions } from \"../../composables/useDropdown.js\";\nimport { u as useEmitProxy } from \"../../composables/useEmitProxy.js\";\nimport { a as useStatefulProps, b as useStateful } from \"../../composables/useStateful.js\";\nimport { u as useTranslation } from \"../../composables/useTranslation.js\";\nimport { V as VaButton } from \"../va-button/index.js\";\nimport { V as VaButtonGroup } from \"../va-button-group/index.js\";\nimport { V as VaDropdown } from \"../va-dropdown/index.js\";\nimport { _ as _export_sfc } from \"../../../plugin-vue_export-helper.js\";\nimport { V as VaDropdownContent } from \"../va-dropdown/components/VaDropdownContent/index.js\";\n\nvar VaButtonDropdown_vue_vue_type_style_index_0_lang = /* @__PURE__ */(() => ':root{--va-button-dropdown-button-margin: 0}.va-button-dropdown{display:inline-block;font-family:var(--va-font-family);vertical-align:middle}.va-button-dropdown .va-button,.va-button-dropdown--split .va-dropdown .va-dropdown__anchor{margin:var(--va-button-dropdown-button-margin)}.va-button-dropdown--split .va-button-group__left-icon .va-dropdown .va-button{border-top-right-radius:0;border-bottom-right-radius:0}.va-button-dropdown--split .va-button-group__left-icon>.va-button{border-top-left-radius:0;border-bottom-left-radius:0;border-left:none}.va-button-dropdown--split :not(.va-button-group__left-icon) .va-dropdown .va-button{border-top-left-radius:0;border-bottom-left-radius:0}.va-button-dropdown--split .va-button:focus-visible{outline:2px solid var(--va-focus)!important;border-radius:\"inherit\";outline-offset:-2px}\\n')();\n\nconst {\n  createEmits,\n  createVOnListeners: createListeners\n} = useEmitProxy([\"click\"]);\nconst {\n  createEmits: createMainButtonEmits,\n  createVOnListeners: createMainButtonListeners\n} = useEmitProxy([{\n  listen: \"click\",\n  emit: \"main-button-click\"\n}]);\nconst VaButtonProps = omit_1(extractComponentProps(VaButton), [\"iconRight\", \"block\"]);\nconst VaDropdownProps = extractComponentProps(VaDropdown);\n\nconst _sfc_main = defineComponent({\n  name: \"VaButtonDropdown\",\n  components: {\n    VaButton,\n    VaDropdown,\n    VaButtonGroup,\n    VaDropdownContent\n  },\n  emits: [\"update:modelValue\", ...createEmits(), ...createMainButtonEmits()],\n  props: { ...useComponentPresetProp,\n    ...VaButtonProps,\n    ...VaDropdownProps,\n    ...useStatefulProps,\n    modelValue: {\n      type: Boolean,\n      default: false\n    },\n    stateful: {\n      type: Boolean,\n      default: true\n    },\n    icon: {\n      type: String,\n      default: \"va-arrow-down\"\n    },\n    openedIcon: {\n      type: String,\n      default: \"va-arrow-up\"\n    },\n    hideIcon: {\n      type: Boolean,\n      default: false\n    },\n    leftIcon: {\n      type: Boolean,\n      default: false\n    },\n    iconColor: {\n      type: String,\n      default: \"\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    disableButton: {\n      type: Boolean,\n      default: false\n    },\n    disableDropdown: {\n      type: Boolean,\n      default: false\n    },\n    placement: {\n      type: String,\n      default: \"bottom\",\n      validator: placement => placementsPositions.includes(placement)\n    },\n    offset: {\n      type: [Number, Array],\n      default: 2\n    },\n    keepAnchorWidth: {\n      type: Boolean,\n      default: false\n    },\n    closeOnContentClick: {\n      type: Boolean,\n      default: true\n    },\n    split: {\n      type: Boolean\n    },\n    splitTo: {\n      type: String,\n      default: \"\"\n    },\n    splitHref: {\n      type: String,\n      default: \"\"\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    label: {\n      type: String\n    }\n  },\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const {\n      valueComputed\n    } = useStateful(props, emit);\n    const computedIcon = computed(() => valueComputed.value ? props.openedIcon : props.icon);\n    const computedClass = useBem(\"va-button-dropdown\", () => ({\n      split: props.split\n    }));\n    const computedButtonIcons = computed(() => {\n      if (props.hideIcon) {\n        return {};\n      }\n\n      const propName = (props.label || slots.label) && !props.leftIcon ? \"icon-right\" : \"icon\";\n      return {\n        [propName]: computedIcon.value\n      };\n    });\n    const buttonPropsFiltered = computed(() => {\n      let ignoredProps = [\"to\", \"href\", \"loading\", \"icon\"];\n      const presetProps = [\"plain\", \"textOpacity\", \"backgroundOpacity\", \"hoverOpacity\", \"hoverBehavior\", \"hoverOpacity\", \"pressedOpacity\", \"pressedBehavior\", \"pressedOpacity\"];\n\n      if (props.preset) {\n        ignoredProps = [...ignoredProps, ...presetProps];\n      }\n\n      const filteredProps = omit_1(VaButtonProps, ignoredProps);\n      return Object.keys(filteredProps);\n    });\n    const buttonPropsComputed = computed(() => Object.entries(props).filter(([key, _]) => buttonPropsFiltered.value.includes(key)).reduce((acc, [key, value]) => {\n      Object.assign(acc, {\n        [key]: value\n      });\n      return acc;\n    }, {}));\n    const computedMainButtonProps = computed(() => ({\n      to: props.splitTo,\n      href: props.splitHref,\n      loading: props.loading\n    }));\n    const splitButtonClassComputed = computed(() => ({\n      \"va-button-group__left-icon\": props.leftIcon\n    }));\n\n    const hideDropdown = () => {\n      valueComputed.value = false;\n    };\n\n    return { ...useTranslation(),\n      vaDropdownProps: filterComponentProps(VaDropdownProps),\n      hideDropdown,\n      valueComputed,\n      computedIcon,\n      computedClass,\n      computedButtonIcons,\n      buttonPropsComputed,\n      computedMainButtonProps,\n      splitButtonClassComputed,\n      listeners: createListeners(emit),\n      mainButtonListeners: createMainButtonListeners(emit)\n    };\n  }\n\n});\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_button = resolveComponent(\"va-button\");\n\n  const _component_va_dropdown_content = resolveComponent(\"va-dropdown-content\");\n\n  const _component_va_dropdown = resolveComponent(\"va-dropdown\");\n\n  const _component_va_button_group = resolveComponent(\"va-button-group\");\n\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([\"va-button-dropdown\", _ctx.computedClass])\n  }, [!_ctx.$props.split ? (openBlock(), createBlock(_component_va_dropdown, mergeProps({\n    key: 0\n  }, _ctx.vaDropdownProps, {\n    modelValue: _ctx.valueComputed,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.valueComputed = $event),\n    disabled: _ctx.$props.disabled || _ctx.$props.disableDropdown\n  }), {\n    anchor: withCtx(() => [createVNode(_component_va_button, mergeProps({ ..._ctx.computedButtonIcons,\n      ..._ctx.buttonPropsComputed\n    }, toHandlers(_ctx.listeners), {\n      onKeydown: withKeys(withModifiers(_ctx.hideDropdown, [\"prevent\"]), [\"esc\"])\n    }), {\n      default: withCtx(() => [renderSlot(_ctx.$slots, \"label\", {}, () => [createTextVNode(toDisplayString(_ctx.label), 1)])]),\n      _: 3\n    }, 16, [\"onKeydown\"])]),\n    default: withCtx(() => [renderSlot(_ctx.$slots, \"content\", {}, () => [createVNode(_component_va_dropdown_content, null, {\n      default: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n      _: 3\n    })])]),\n    _: 3\n  }, 16, [\"modelValue\", \"disabled\"])) : (openBlock(), createBlock(_component_va_button_group, mergeProps({\n    key: 1,\n    class: _ctx.splitButtonClassComputed\n  }, _ctx.buttonPropsComputed), {\n    default: withCtx(() => [!_ctx.$props.leftIcon ? (openBlock(), createBlock(_component_va_button, mergeProps({\n      key: 0,\n      disabled: _ctx.$props.disabled || _ctx.$props.disableButton\n    }, _ctx.computedMainButtonProps, toHandlers(_ctx.mainButtonListeners)), {\n      default: withCtx(() => [renderSlot(_ctx.$slots, \"label\", {}, () => [createTextVNode(toDisplayString(_ctx.label), 1)])]),\n      _: 3\n    }, 16, [\"disabled\"])) : createCommentVNode(\"\", true), createVNode(_component_va_dropdown, mergeProps({\n      modelValue: _ctx.valueComputed,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.valueComputed = $event)\n    }, _ctx.vaDropdownProps, {\n      disabled: _ctx.$props.disabled || _ctx.$props.disableDropdown\n    }), {\n      anchor: withCtx(() => [createVNode(_component_va_button, mergeProps({\n        \"aria-label\": _ctx.t(\"toggleDropdown\"),\n        disabled: _ctx.$props.disabled || _ctx.$props.disableDropdown,\n        icon: _ctx.computedIcon,\n        \"icon-color\": _ctx.$props.iconColor\n      }, toHandlers(_ctx.listeners), {\n        onKeydown: withKeys(withModifiers(_ctx.hideDropdown, [\"prevent\"]), [\"esc\"])\n      }), null, 16, [\"aria-label\", \"disabled\", \"icon\", \"icon-color\", \"onKeydown\"])]),\n      default: withCtx(() => [createVNode(_component_va_dropdown_content, null, {\n        default: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n        _: 3\n      })]),\n      _: 3\n    }, 16, [\"modelValue\", \"disabled\"]), _ctx.$props.leftIcon ? (openBlock(), createBlock(_component_va_button, mergeProps({\n      key: 1,\n      disabled: _ctx.$props.disabled || _ctx.$props.disableButton\n    }, _ctx.computedMainButtonProps, toHandlers(_ctx.mainButtonListeners)), {\n      default: withCtx(() => [renderSlot(_ctx.$slots, \"label\", {}, () => [createTextVNode(toDisplayString(_ctx.label), 1)])]),\n      _: 3\n    }, 16, [\"disabled\"])) : createCommentVNode(\"\", true)]),\n    _: 3\n  }, 16, [\"class\"]))], 2);\n}\n\nvar _VaButtonDropdown = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { _VaButtonDropdown as _ };\nimport './VaButtonDropdown.css';","map":{"version":3,"mappings":"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","names":["createEmits","createVOnListeners","createListeners","useEmitProxy","createMainButtonEmits","createMainButtonListeners","listen","emit","VaButtonProps","omit","extractComponentProps","VaButton","VaDropdownProps","VaDropdown","_sfc_main","defineComponent","name","components","VaButtonGroup","VaDropdownContent","emits","props","useComponentPresetProp","useStatefulProps","modelValue","type","Boolean","default","stateful","icon","String","openedIcon","hideIcon","leftIcon","iconColor","disabled","disableButton","disableDropdown","placement","validator","placementsPositions","includes","offset","Number","Array","keepAnchorWidth","closeOnContentClick","split","splitTo","splitHref","loading","label","setup","slots","valueComputed","useStateful","computed","value","useBem","propName","computedIcon","ignoredProps","presetProps","preset","keys","filteredProps","Object","entries","filter","key","_","buttonPropsFiltered","reduce","acc","assign","to","href","splitButtonClassComputed","hideDropdown","useTranslation","vaDropdownProps","filterComponentProps","computedClass","computedButtonIcons","buttonPropsComputed","computedMainButtonProps","listeners","mainButtonListeners","_createElementBlock","class","_normalizeClass","_ctx","_openBlock","_component_va_dropdown","_createBlock","_mergeProps","$props","anchor","_withCtx","_createVNode","_component_va_button","_toHandlers","onKeydown","_withKeys","_renderSlot","_toDisplayString","_createTextVNode","_component_va_dropdown_content","_component_va_button_group","t"],"sources":["../../../../../src/components/va-button-dropdown/VaButtonDropdown.vue"],"sourcesContent":["<template>\n  <div class=\"va-button-dropdown\" :class=\"computedClass\">\n    <va-dropdown\n      v-if=\"!$props.split\"\n      v-bind=\"vaDropdownProps\"\n      v-model=\"valueComputed\"\n      :disabled=\"$props.disabled || $props.disableDropdown\"\n    >\n      <template #anchor>\n        <va-button\n          v-bind=\"{ ...computedButtonIcons, ...buttonPropsComputed }\"\n          v-on=\"listeners\"\n          @keydown.esc.prevent=\"hideDropdown\"\n        >\n          <slot name=\"label\">\n            {{ label }}\n          </slot>\n        </va-button>\n      </template>\n\n      <slot name=\"content\">\n        <va-dropdown-content>\n          <slot />\n        </va-dropdown-content>\n      </slot>\n    </va-dropdown>\n\n    <va-button-group\n      v-else\n      :class=\"splitButtonClassComputed\"\n      v-bind=\"buttonPropsComputed\"\n    >\n      <va-button\n        v-if=\"!$props.leftIcon\"\n        :disabled=\"$props.disabled || $props.disableButton\"\n        v-bind=\"computedMainButtonProps\"\n        v-on=\"mainButtonListeners\"\n      >\n        <slot name=\"label\">\n          {{ label }}\n        </slot>\n      </va-button>\n\n      <va-dropdown\n        v-model=\"valueComputed\"\n        v-bind=\"vaDropdownProps\"\n        :disabled=\"$props.disabled || $props.disableDropdown\"\n      >\n        <template #anchor>\n          <va-button\n            :aria-label=\"t('toggleDropdown')\"\n            :disabled=\"$props.disabled || $props.disableDropdown\"\n            :icon=\"computedIcon\"\n            :icon-color=\"$props.iconColor\"\n            v-on=\"listeners\"\n            @keydown.esc.prevent=\"hideDropdown\"\n          />\n        </template>\n        <va-dropdown-content>\n          <slot />\n        </va-dropdown-content>\n      </va-dropdown>\n\n      <va-button\n        v-if=\"$props.leftIcon\"\n        :disabled=\"$props.disabled || $props.disableButton\"\n        v-bind=\"computedMainButtonProps\"\n        v-on=\"mainButtonListeners\"\n      >\n        <slot name=\"label\">\n          {{ label }}\n        </slot>\n      </va-button>\n    </va-button-group>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed } from 'vue'\nimport { extractComponentProps, filterComponentProps } from '../../utils/component-options'\n\nimport {\n  useBem,\n  useDeprecated,\n  useComponentPresetProp,\n  useStateful, useStatefulProps,\n  useEmitProxy,\n  Placement, placementsPositions,\n  useTranslation,\n} from '../../composables'\n\nimport { VaButton } from '../va-button'\nimport { VaButtonGroup } from '../va-button-group'\nimport { VaDropdown, VaDropdownContent } from '../va-dropdown'\n\nimport omit from 'lodash/omit.js'\n\nconst { createEmits, createVOnListeners: createListeners } = useEmitProxy(['click'])\nconst { createEmits: createMainButtonEmits, createVOnListeners: createMainButtonListeners } = useEmitProxy(\n  [{ listen: 'click', emit: 'main-button-click' }],\n)\n\nconst VaButtonProps = omit(extractComponentProps(VaButton), ['iconRight', 'block'])\nconst VaDropdownProps = extractComponentProps(VaDropdown)\n\nexport default defineComponent({\n  name: 'VaButtonDropdown',\n  components: {\n    VaButton,\n    VaDropdown,\n    VaButtonGroup,\n    VaDropdownContent,\n  },\n  emits: ['update:modelValue', ...createEmits(), ...createMainButtonEmits()],\n  props: {\n    ...useComponentPresetProp,\n    ...VaButtonProps,\n    ...VaDropdownProps,\n    ...useStatefulProps,\n    modelValue: { type: Boolean, default: false },\n    stateful: { type: Boolean, default: true },\n\n    icon: { type: String, default: 'va-arrow-down' },\n    openedIcon: { type: String, default: 'va-arrow-up' },\n    hideIcon: { type: Boolean, default: false },\n    leftIcon: { type: Boolean, default: false },\n    iconColor: { type: String, default: '' },\n\n    disabled: { type: Boolean, default: false },\n    disableButton: { type: Boolean, default: false },\n    disableDropdown: { type: Boolean, default: false },\n\n    placement: {\n      type: String as PropType<Placement>,\n      default: 'bottom',\n      validator: (placement: string) => placementsPositions.includes(placement),\n    },\n    offset: { type: [Number, Array] as PropType<number | [number, number]>, default: 2 },\n    keepAnchorWidth: { type: Boolean, default: false },\n    closeOnContentClick: { type: Boolean, default: true },\n\n    split: { type: Boolean },\n    splitTo: { type: String, default: '' },\n    splitHref: { type: String, default: '' },\n\n    loading: { type: Boolean, default: false },\n    label: { type: String },\n  },\n\n  setup (props, { emit, slots }) {\n    // TODO(1.6.0): Remove deprecated props\n    useDeprecated(['flat', 'outline'])\n\n    const { valueComputed } = useStateful(props, emit)\n\n    const computedIcon = computed(() => valueComputed.value ? props.openedIcon : props.icon)\n\n    const computedClass = useBem('va-button-dropdown', () => ({\n      split: props.split,\n    }))\n\n    const computedButtonIcons = computed(() => {\n      if (props.hideIcon) { return {} }\n\n      const propName = (props.label || slots.label) && !props.leftIcon ? 'icon-right' : 'icon'\n      return { [propName]: computedIcon.value }\n    })\n\n    const buttonPropsFiltered = computed(() => {\n      let ignoredProps = ['to', 'href', 'loading', 'icon']\n      const presetProps = [\n        'plain',\n        'textOpacity', 'backgroundOpacity',\n        'hoverOpacity', 'hoverBehavior', 'hoverOpacity',\n        'pressedOpacity', 'pressedBehavior', 'pressedOpacity',\n      ]\n\n      if (props.preset) {\n        ignoredProps = [...ignoredProps, ...presetProps]\n      }\n\n      const filteredProps = omit(VaButtonProps, ignoredProps)\n      return Object.keys(filteredProps)\n    })\n    const buttonPropsComputed = computed(\n      () => Object.entries(props)\n        .filter(([key, _]) => buttonPropsFiltered.value.includes(key))\n        .reduce((acc, [key, value]) => {\n          Object.assign(acc, { [key]: value })\n          return acc\n        }, {}),\n    )\n\n    const computedMainButtonProps = computed(() => ({\n      to: props.splitTo,\n      href: props.splitHref,\n      loading: props.loading,\n    }))\n\n    const splitButtonClassComputed = computed(() => ({ 'va-button-group__left-icon': props.leftIcon }))\n\n    const hideDropdown = () => { valueComputed.value = false }\n\n    return {\n      ...useTranslation(),\n      vaDropdownProps: filterComponentProps(VaDropdownProps),\n      hideDropdown,\n      valueComputed,\n      computedIcon,\n      computedClass,\n      computedButtonIcons,\n      buttonPropsComputed,\n      computedMainButtonProps,\n      splitButtonClassComputed,\n      listeners: createListeners(emit),\n      mainButtonListeners: createMainButtonListeners(emit),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import 'variables';\n@import '../../styles/resources';\n\n.va-button-dropdown {\n  display: inline-block;\n  font-family: var(--va-font-family);\n  vertical-align: middle;\n\n  .va-button {\n    margin: var(--va-button-dropdown-button-margin);\n  }\n\n  &--split {\n    .va-dropdown {\n      .va-dropdown__anchor {\n        margin: var(--va-button-dropdown-button-margin);\n      }\n    }\n\n    .va-button-group__left-icon {\n      .va-dropdown {\n        .va-button {\n          border-top-right-radius: 0;\n          border-bottom-right-radius: 0;\n        }\n      }\n\n      > .va-button {\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n        border-left: none;\n      }\n    }\n\n    :not(.va-button-group__left-icon) {\n      .va-dropdown {\n        .va-button {\n          border-top-left-radius: 0;\n          border-bottom-left-radius: 0;\n        }\n      }\n    }\n\n    .va-button {\n      @include keyboard-focus-outline($offset: -2px);\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}