{"ast":null,"code":"import { defineComponent, shallowRef, ref, computed, toRefs, watch, nextTick, resolveComponent, openBlock, createElementBlock, normalizeClass, withKeys, withModifiers, renderSlot, normalizeProps, mergeProps, createBlock, createCommentVNode, Fragment, renderList, withCtx, createTextVNode, toDisplayString, withDirectives, vModelDynamic } from \"vue\";\nimport { c as clamp_1, p as pick_1 } from \"../../../vendor.js\";\nimport { u as useArrayRefs } from \"../../composables/useArrayRefs.js\";\nimport { u as useBem } from \"../../composables/useBem.js\";\nimport { u as useColors } from \"../../composables/useColors.js\";\nimport { u as useComponentPresetProp } from \"../../composables/useComponentPreset.js\";\nimport { u as useStatefulEmits, a as useStatefulProps, b as useStateful } from \"../../composables/useStateful.js\";\nimport { u as useTranslation } from \"../../composables/useTranslation.js\";\nimport { s as setPaginationRange } from \"./setPaginationRange.js\";\nimport { V as VaButton } from \"../va-button/index.js\";\nimport { _ as _export_sfc } from \"../../../plugin-vue_export-helper.js\";\n\nvar VaPagination_vue_vue_type_style_index_0_lang = /* @__PURE__ */(() => ':root{--va-pagination-gap: .5rem;--va-pagination-input-background: var(--va-background-primary);--va-pagination-input-border-style: solid;--va-pagination-input-border-width: 1px 0;--va-pagination-input-text-align: center;--va-pagination-input-font-size: 1rem;--va-pagination-button-content-width: .5rem;--va-pagination-button-sm-size: var(--va-button-sm-size);--va-pagination-button-size: var(--va-button-size);--va-pagination-button-lg-size: var(--va-button-lg-ze)}.va-pagination{display:flex;font-family:var(--va-font-family)}.va-pagination__input{background:var(--va-pagination-input-background);border-style:var(--va-pagination-input-border-style);border-width:var(--va-pagination-input-border-width);text-align:var(--va-pagination-input-text-align);font-size:var(--va-pagination-input-font-size);font-weight:400}.va-pagination__input--sm{height:var(--va-pagination-button-sm-size)}.va-pagination__input--md{height:var(--va-pagination-button-size)}.va-pagination__input--lg{height:var(--va-pagination-button-lg-size)}.va-pagination__input--auto{height:auto}.va-pagination .va-button.va-input{cursor:default}.va-pagination .va-button--small{height:var(--va-pagination-button-sm-size);min-width:var(--va-pagination-button-sm-size)}.va-pagination .va-button--normal{height:var(--va-pagination-button-size);min-width:var(--va-pagination-button-size)}.va-pagination .va-button--large{height:var(--va-pagination-button-lg-size);min-width:var(--va-pagination-button-lg-size)}.va-pagination .va-button--ellipsis{cursor:default;opacity:1}.va-pagination .va-button--ellipsis>.va-button__content{opacity:.4}.va-pagination .va-button:focus-visible{outline-offset:-2px}.va-pagination .va-button:focus-visible:focus-visible{outline:2px solid var(--va-focus)!important;border-radius:\"inherit\"}.va-pagination>:not(:first-child):not(:last-child){border-radius:0}.va-pagination>:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.va-pagination>:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.va-pagination--gapped.va-pagination>.va-button{border-radius:var(--va-button-border-radius);margin-right:var(--va-pagination-gap);border-style:solid}.va-pagination--gapped.va-pagination>.va-button:last-child{margin-right:0}.va-pagination--bordered.va-pagination>.va-button{border-style:solid}.va-pagination--bordered.va-pagination>.va-button:before{border-radius:unset}.va-pagination--rounded.va-pagination>.va-button{border-radius:50%}.va-pagination--rounded.va-pagination>.va-button:before{border-radius:inherit}.va-pagination--rounded.va-pagination>.va-button.va-button--small.va-button--icon-only{height:var(--va-pagination-button-sm-size);width:var(--va-pagination-button-sm-size)}.va-pagination--rounded.va-pagination>.va-button.va-button--small .va-button__content{padding-right:var(--va-button-sm-content-px);padding-left:var(--va-button-sm-content-px)}.va-pagination--rounded.va-pagination>.va-button.va-button--normal.va-button--icon-only{height:var(--va-pagination-button-size);width:var(--va-pagination-button-size)}.va-pagination--rounded.va-pagination>.va-button.va-button--normal .va-button__content{padding-right:var(--va-button-content-px);padding-left:var(--va-button-content-px)}.va-pagination--rounded.va-pagination>.va-button.va-button--large.va-button--icon-only{height:var(--va-pagination-button-lg-size);width:var(--va-pagination-button-lg-size)}.va-pagination--rounded.va-pagination>.va-button.va-button--large .va-button__content{padding-right:var(--va-button-lg-content-px);padding-left:var(--va-button-lg-content-px)}\\n')();\n\nconst _sfc_main = defineComponent({\n  name: \"VaPagination\",\n  components: {\n    VaButton\n  },\n  emits: useStatefulEmits,\n  props: { ...useStatefulProps,\n    ...useComponentPresetProp,\n    modelValue: {\n      type: Number,\n      default: 1\n    },\n    visiblePages: {\n      type: Number,\n      default: 0\n    },\n    pages: {\n      type: Number,\n      default: 0\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    color: {\n      type: String,\n      default: \"primary\"\n    },\n    size: {\n      type: String,\n      default: \"medium\",\n      validator: v => [\"small\", \"medium\", \"large\"].includes(v)\n    },\n    boundaryLinks: {\n      type: Boolean,\n      default: true\n    },\n    boundaryNumbers: {\n      type: Boolean,\n      default: false\n    },\n    directionLinks: {\n      type: Boolean,\n      default: true\n    },\n    input: {\n      type: Boolean,\n      default: false\n    },\n    hideOnSinglePage: {\n      type: Boolean,\n      default: false\n    },\n    total: {\n      type: Number,\n      default: null\n    },\n    pageSize: {\n      type: Number,\n      default: null\n    },\n    boundaryIconLeft: {\n      type: String,\n      default: \"va-arrow-first\"\n    },\n    boundaryIconRight: {\n      type: String,\n      default: \"va-arrow-last\"\n    },\n    directionIconLeft: {\n      type: String,\n      default: \"va-arrow-left\"\n    },\n    directionIconRight: {\n      type: String,\n      default: \"va-arrow-right\"\n    },\n    gapped: {\n      type: Boolean,\n      default: false\n    },\n    borderColor: {\n      type: String,\n      default: \"\"\n    },\n    rounded: {\n      type: Boolean,\n      default: false\n    },\n    activePageColor: {\n      type: String,\n      default: \"\"\n    },\n    buttonsPreset: {\n      type: String,\n      default: \"primary\"\n    }\n  },\n\n  setup(props, {\n    emit\n  }) {\n    const htmlInput = shallowRef();\n    const inputValue = ref(\"\");\n    const usesTotal = computed(() => !!((props.total || props.total === 0) && props.pageSize));\n    const {\n      valueComputed\n    } = useStateful(props, emit);\n    const currentValue = computed({\n      get: () => usesTotal.value ? Math.ceil(valueComputed.value / props.pageSize) || 1 : valueComputed.value,\n      set: value => {\n        valueComputed.value = value;\n      }\n    });\n    const paginationRange = computed(() => {\n      const {\n        visiblePages,\n        total,\n        pageSize,\n        boundaryNumbers,\n        pages\n      } = props;\n      const value = currentValue.value || 1;\n      const totalPages = usesTotal.value ? Math.ceil(total / pageSize) : pages;\n      return setPaginationRange(value, visiblePages, totalPages, boundaryNumbers);\n    });\n    const lastPage = computed(() => usesTotal.value ? Math.ceil(props.total / props.pageSize) || 1 : +props.pages);\n    const isLastPageNotVisible = computed(() => !!props.visiblePages && lastPage.value > props.visiblePages || props.input);\n    const showBoundaryLinks = computed(() => {\n      const {\n        boundaryLinks,\n        boundaryNumbers\n      } = props;\n      return isLastPageNotVisible.value && boundaryLinks && !boundaryNumbers;\n    });\n    const showDirectionLinks = computed(() => isLastPageNotVisible.value && props.directionLinks);\n    const showPagination = computed(() => lastPage.value > 1 || !props.hideOnSinglePage && lastPage.value <= 1);\n\n    const focusInput = () => {\n      inputValue.value = String(currentValue.value);\n      nextTick(() => {\n        var _a;\n\n        return (_a = htmlInput.value) == null ? void 0 : _a.setSelectionRange(0, htmlInput.value.value.length);\n      });\n    };\n\n    const {\n      setItemRefByIndex,\n      itemRefs\n    } = useArrayRefs();\n\n    const onUserInput = pageNum => {\n      var _a;\n\n      if (pageNum === \"...\" || pageNum === currentValue.value) {\n        return;\n      }\n\n      const limitedPageNum = clamp_1(pageNum, 1, lastPage.value);\n      currentValue.value = usesTotal.value ? (limitedPageNum - 1) * props.pageSize + 1 : limitedPageNum;\n      (_a = itemRefs.value[pageNum - 1]) == null ? void 0 : _a.focus();\n    };\n\n    const resetInput = () => {\n      var _a;\n\n      inputValue.value = \"\";\n      (_a = htmlInput.value) == null ? void 0 : _a.blur();\n    };\n\n    const changeValue = () => {\n      if (+inputValue.value === currentValue.value) {\n        resetInput();\n      }\n\n      if (!inputValue.value.length) {\n        return;\n      }\n\n      let pageNum = Number.parseInt(inputValue.value);\n\n      switch (true) {\n        case pageNum < 1:\n          pageNum = 1;\n          break;\n\n        case pageNum > lastPage.value:\n          pageNum = lastPage.value;\n          break;\n\n        case isNaN(pageNum):\n          pageNum = currentValue.value;\n          break;\n      }\n\n      onUserInput(pageNum);\n      resetInput();\n    };\n\n    const {\n      getColor,\n      colorToRgba\n    } = useColors();\n    const inputBorderColorComputed = computed(() => {\n      const {\n        color,\n        buttonsPreset\n      } = toRefs(props);\n\n      if (!color.value) {\n        return \"transparent\";\n      }\n\n      switch (buttonsPreset.value) {\n        case \"default\":\n          return getColor(color.value);\n\n        case void 0:\n        case \"primary\":\n          return colorToRgba(getColor(color.value), 0.1);\n\n        default:\n          return \"transparent\";\n      }\n    });\n    const inputStyleComputed = computed(() => ({\n      cursor: \"default\",\n      color: getColor(props.color),\n      opacity: props.disabled ? 0.4 : 1,\n      borderColor: inputBorderColorComputed.value\n    }));\n    watch([usesTotal, () => props.pages], () => {});\n    const inputAttributesComputed = computed(() => ({\n      disabled: props.disabled,\n      placeholder: `${currentValue.value}/${lastPage.value}`\n    }));\n    const buttonPropsComputed = computed(() => ({\n      size: props.size,\n      preset: props.buttonsPreset,\n      color: props.color,\n      borderColor: props.borderColor,\n      round: props.rounded\n    }));\n    const currentPageButtonProps = computed(() => ({\n      preset: props.buttonsPreset === \"default\" ? \"primary\" : \"default\",\n      color: props.activePageColor || props.color\n    }));\n\n    const getPageButtonProps = n => {\n      if (!isNaN(+n) && n === currentValue.value) {\n        return Object.assign({}, buttonPropsComputed.value, currentPageButtonProps.value);\n      }\n\n      return buttonPropsComputed.value;\n    };\n\n    const isStandAloneInput = computed(() => props.input && !props.boundaryLinks && !props.directionLinks);\n    const inputClassComputed = useBem(\"va-pagination__input\", () => ({\n      sm: props.size === \"small\" && isStandAloneInput.value,\n      md: props.size === \"medium\" && isStandAloneInput.value,\n      lg: props.size === \"large\" && isStandAloneInput.value,\n      auto: !isStandAloneInput.value\n    }));\n    const classComputed = useBem(\"va-pagination\", () => ({ ...pick_1(props, [\"gapped\", \"rounded\", \"disabled\"]),\n      bordered: !!props.borderColor\n    }));\n\n    const goNextPage = () => onUserInput(currentValue.value + 1);\n\n    const goPrevPage = () => onUserInput(currentValue.value - 1);\n\n    return { ...useTranslation(),\n      getPageButtonProps,\n      inputClassComputed,\n      classComputed,\n      currentValue,\n      lastPage,\n      changeValue,\n      inputValue,\n      showPagination,\n      showBoundaryLinks,\n      onUserInput,\n      showDirectionLinks,\n      paginationRange,\n      focusInput,\n      inputStyleComputed,\n      inputAttributesComputed,\n      goNextPage,\n      goPrevPage,\n      buttonPropsComputed,\n      htmlInput,\n      setItemRefByIndex\n    };\n  }\n\n});\n\nconst _hoisted_1 = [\"aria-label\"];\nconst _hoisted_2 = [\"aria-label\"];\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_button = resolveComponent(\"va-button\");\n\n  return _ctx.showPagination ? (openBlock(), createElementBlock(\"nav\", {\n    key: 0,\n    class: normalizeClass([\"va-pagination\", _ctx.classComputed]),\n    \"aria-label\": _ctx.t(\"pagination\"),\n    onKeydown: [_cache[6] || (_cache[6] = withKeys(withModifiers((...args) => _ctx.goPrevPage && _ctx.goPrevPage(...args), [\"stop\"]), [\"left\"])), _cache[7] || (_cache[7] = withKeys(withModifiers((...args) => _ctx.goNextPage && _ctx.goNextPage(...args), [\"stop\"]), [\"right\"])), _cache[8] || (_cache[8] = withKeys(withModifiers((...args) => _ctx.goPrevPage && _ctx.goPrevPage(...args), [\"stop\"]), [\"up\"])), _cache[9] || (_cache[9] = withKeys(withModifiers((...args) => _ctx.goNextPage && _ctx.goNextPage(...args), [\"stop\"]), [\"down\"]))]\n  }, [_ctx.showBoundaryLinks ? renderSlot(_ctx.$slots, \"firstPageLink\", normalizeProps(mergeProps({\n    key: 0\n  }, {\n    onClick: () => _ctx.onUserInput(1),\n    disabled: _ctx.$props.disabled || _ctx.currentValue === 1\n  })), () => [_ctx.showBoundaryLinks ? (openBlock(), createBlock(_component_va_button, mergeProps({\n    key: 0,\n    \"aria-label\": _ctx.t(\"goToTheFirstPage\"),\n    disabled: _ctx.$props.disabled || _ctx.currentValue === 1,\n    icon: _ctx.$props.boundaryIconLeft\n  }, _ctx.buttonPropsComputed, {\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.onUserInput(1))\n  }), null, 16, [\"aria-label\", \"disabled\", \"icon\"])) : createCommentVNode(\"\", true)]) : createCommentVNode(\"\", true), _ctx.showDirectionLinks ? renderSlot(_ctx.$slots, \"prevPageLink\", normalizeProps(mergeProps({\n    key: 1\n  }, {\n    onClick: _ctx.goPrevPage,\n    disabled: _ctx.$props.disabled || _ctx.currentValue === 1\n  })), () => [_ctx.showDirectionLinks ? (openBlock(), createBlock(_component_va_button, mergeProps({\n    key: 0,\n    \"aria-label\": _ctx.t(\"goToPreviousPage\"),\n    disabled: _ctx.$props.disabled || _ctx.currentValue === 1,\n    icon: _ctx.$props.directionIconLeft\n  }, _ctx.buttonPropsComputed, {\n    onClick: _ctx.goPrevPage\n  }), null, 16, [\"aria-label\", \"disabled\", \"icon\", \"onClick\"])) : createCommentVNode(\"\", true)]) : createCommentVNode(\"\", true), !_ctx.$props.input ? renderSlot(_ctx.$slots, \"default\", {\n    key: 2\n  }, () => [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.paginationRange, (n, i) => {\n    return openBlock(), createBlock(_component_va_button, mergeProps({\n      key: i,\n      ref_for: true,\n      ref: _ctx.setItemRefByIndex(i),\n      class: {\n        \"va-button--ellipsis\": n === \"...\",\n        \"va-button--current\": n === _ctx.currentValue\n      },\n      \"aria-label\": _ctx.t(`goToSpecificPage`, {\n        page: n\n      }),\n      \"aria-current\": n === _ctx.currentValue,\n      disabled: _ctx.$props.disabled || n === \"...\"\n    }, _ctx.getPageButtonProps(n), {\n      onClick: $event => _ctx.onUserInput(n)\n    }), {\n      default: withCtx(() => [createTextVNode(toDisplayString(n), 1)]),\n      _: 2\n    }, 1040, [\"class\", \"aria-label\", \"aria-current\", \"disabled\", \"onClick\"]);\n  }), 128))]) : withDirectives((openBlock(), createElementBlock(\"input\", mergeProps({\n    key: 3,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.inputValue = $event),\n    ref: \"htmlInput\",\n    class: [\"va-pagination__input va-button\", _ctx.inputClassComputed],\n    \"aria-label\": _ctx.t(\"goToSpecificPageInput\"),\n    style: _ctx.inputStyleComputed\n  }, _ctx.inputAttributesComputed, {\n    onKeydown: _cache[2] || (_cache[2] = withKeys((...args) => _ctx.changeValue && _ctx.changeValue(...args), [\"enter\"])),\n    onFocus: _cache[3] || (_cache[3] = (...args) => _ctx.focusInput && _ctx.focusInput(...args)),\n    onBlur: _cache[4] || (_cache[4] = (...args) => _ctx.changeValue && _ctx.changeValue(...args))\n  }), null, 16, _hoisted_2)), [[vModelDynamic, _ctx.inputValue]]), _ctx.showDirectionLinks ? renderSlot(_ctx.$slots, \"nextPageLink\", normalizeProps(mergeProps({\n    key: 4\n  }, {\n    onClick: _ctx.goNextPage,\n    disabled: _ctx.$props.disabled || _ctx.currentValue === _ctx.lastPage\n  })), () => [_ctx.showDirectionLinks ? (openBlock(), createBlock(_component_va_button, mergeProps({\n    key: 0,\n    \"aria-label\": _ctx.t(\"goNextPage\"),\n    disabled: _ctx.$props.disabled || _ctx.currentValue === _ctx.lastPage,\n    icon: _ctx.$props.directionIconRight\n  }, _ctx.buttonPropsComputed, {\n    onClick: _ctx.goNextPage\n  }), null, 16, [\"aria-label\", \"disabled\", \"icon\", \"onClick\"])) : createCommentVNode(\"\", true)]) : createCommentVNode(\"\", true), _ctx.showBoundaryLinks ? renderSlot(_ctx.$slots, \"lastPageLink\", normalizeProps(mergeProps({\n    key: 5\n  }, {\n    onClick: () => _ctx.onUserInput(_ctx.lastPage),\n    disabled: _ctx.$props.disabled || _ctx.currentValue === _ctx.lastPage\n  })), () => [_ctx.showBoundaryLinks ? (openBlock(), createBlock(_component_va_button, mergeProps({\n    key: 0,\n    \"aria-label\": _ctx.t(\"goLastPage\"),\n    disabled: _ctx.$props.disabled || _ctx.currentValue === _ctx.lastPage,\n    icon: _ctx.$props.boundaryIconRight\n  }, _ctx.buttonPropsComputed, {\n    onClick: _cache[5] || (_cache[5] = $event => _ctx.onUserInput(_ctx.lastPage))\n  }), null, 16, [\"aria-label\", \"disabled\", \"icon\"])) : createCommentVNode(\"\", true)]) : createCommentVNode(\"\", true)], 42, _hoisted_1)) : createCommentVNode(\"\", true);\n}\n\nvar _VaPagination = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { _VaPagination as _ };\nimport './VaPagination.css';","map":{"version":3,"mappings":"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","names":["_sfc_main","defineComponent","name","components","VaButton","emits","useStatefulEmits","props","useStatefulProps","useComponentPresetProp","modelValue","type","Number","default","visiblePages","pages","disabled","Boolean","color","String","size","validator","v","includes","boundaryLinks","boundaryNumbers","directionLinks","input","hideOnSinglePage","total","pageSize","boundaryIconLeft","boundaryIconRight","directionIconLeft","directionIconRight","gapped","borderColor","rounded","activePageColor","buttonsPreset","setup","emit","htmlInput","shallowRef","ref","computed","valueComputed","useStateful","currentValue","get","usesTotal","value","Math","ceil","set","totalPages","setPaginationRange","lastPage","isLastPageNotVisible","showDirectionLinks","focusInput","inputValue","nextTick","setSelectionRange","length","setItemRefByIndex","itemRefs","useArrayRefs","pageNum","limitedPageNum","clamp","focus","resetInput","blur","changeValue","parseInt","isNaN","onUserInput","getColor","colorToRgba","useColors","toRefs","cursor","opacity","inputBorderColorComputed","watch","placeholder","preset","round","n","Object","assign","buttonPropsComputed","currentPageButtonProps","useBem","sm","isStandAloneInput","md","lg","auto","pick","bordered","goNextPage","goPrevPage","useTranslation","getPageButtonProps","inputClassComputed","classComputed","showPagination","showBoundaryLinks","paginationRange","inputStyleComputed","inputAttributesComputed","_createElementBlock","key","class","_normalizeClass","_ctx","t","onKeydown","_withModifiers","_withKeys","_cache","_renderSlot","normalizeProps","onClick","_createBlock","_component_va_button","$props","icon","_mergeProps","_createCommentVNode","createCommentVNode","_Fragment","_renderList","i","ref_for","page","$event","_toDisplayString","_createTextVNode","_","_withDirectives","style","onFocus","onBlur","_hoisted_2","$slots","_normalizeProps"],"sources":["../../../../../src/components/va-pagination/VaPagination.vue"],"sourcesContent":["<template>\n  <nav\n    v-if=\"showPagination\"\n    class=\"va-pagination\"\n    :aria-label=\"t('pagination')\"\n    :class=\"classComputed\"\n    @keydown.left.stop=\"goPrevPage\"\n    @keydown.right.stop=\"goNextPage\"\n    @keydown.up.stop=\"goPrevPage\"\n    @keydown.down.stop=\"goNextPage\"\n  >\n    <slot\n      v-if=\"showBoundaryLinks\" name=\"firstPageLink\"\n      v-bind=\"{ onClick: () => onUserInput(1), disabled: $props.disabled || currentValue === 1 }\"\n    >\n      <va-button\n        v-if=\"showBoundaryLinks\"\n        :aria-label=\"t('goToTheFirstPage')\"\n        :disabled=\"$props.disabled || currentValue === 1\"\n        :icon=\"$props.boundaryIconLeft\"\n        v-bind=\"buttonPropsComputed\"\n        @click=\"onUserInput(1)\"\n      />\n    </slot>\n    <slot\n      v-if=\"showDirectionLinks\" name=\"prevPageLink\"\n      v-bind=\"{ onClick: goPrevPage, disabled: $props.disabled || currentValue === 1 }\"\n    >\n      <va-button\n        v-if=\"showDirectionLinks\"\n        :aria-label=\"t('goToPreviousPage')\"\n        :disabled=\"$props.disabled || currentValue === 1\"\n        :icon=\"$props.directionIconLeft\"\n        v-bind=\"buttonPropsComputed\"\n        @click=\"goPrevPage\"\n      />\n    </slot>\n\n    <slot v-if=\"!$props.input\">\n      <va-button\n        v-for=\"(n, i) in paginationRange\" :key=\"i\"\n        :ref=\"setItemRefByIndex(i)\"\n        :class=\"{ 'va-button--ellipsis': n === '...', 'va-button--current': n === currentValue}\"\n        :aria-label=\"t(`goToSpecificPage`, { page: n })\"\n        :aria-current=\"n === currentValue\"\n        :disabled=\"$props.disabled || n === '...'\"\n        v-bind=\"getPageButtonProps(n)\"\n        @click=\"onUserInput(n)\"\n      >\n        {{ n }}\n      </va-button>\n    </slot>\n    <input\n      v-else\n      v-model=\"inputValue\"\n      ref=\"htmlInput\"\n      class=\"va-pagination__input va-button\"\n      :aria-label=\"t('goToSpecificPageInput')\"\n      :style=\"inputStyleComputed\"\n      :class=\"inputClassComputed\"\n      v-bind=\"inputAttributesComputed\"\n      @keydown.enter=\"changeValue\"\n      @focus=\"focusInput\"\n      @blur=\"changeValue\"\n    />\n\n    <slot\n      v-if=\"showDirectionLinks\" name=\"nextPageLink\"\n      v-bind=\"{ onClick: goNextPage, disabled: $props.disabled || currentValue === lastPage }\"\n    >\n      <va-button\n        v-if=\"showDirectionLinks\"\n        :aria-label=\"t('goNextPage')\"\n        :disabled=\"$props.disabled || currentValue === lastPage\"\n        :icon=\"$props.directionIconRight\"\n        v-bind=\"buttonPropsComputed\"\n        @click=\"goNextPage\"\n      />\n    </slot>\n    <slot\n      v-if=\"showBoundaryLinks\" name=\"lastPageLink\"\n      v-bind=\"{ onClick: () => onUserInput(lastPage), disabled: $props.disabled || currentValue === lastPage }\"\n    >\n      <va-button\n        v-if=\"showBoundaryLinks\"\n        :aria-label=\"t('goLastPage')\"\n        :disabled=\"$props.disabled || currentValue === lastPage\"\n        :icon=\"$props.boundaryIconRight\"\n        v-bind=\"buttonPropsComputed\"\n        @click=\"onUserInput(lastPage)\"\n      />\n    </slot>\n  </nav>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  PropType,\n  ref,\n  toRefs,\n  shallowRef,\n  computed,\n  watch,\n  nextTick,\n  WritableComputedRef,\n} from 'vue'\nimport clamp from 'lodash/clamp.js'\nimport pick from 'lodash/pick.js'\n\nimport { __DEV__ } from '../../utils/env'\nimport {\n  useBem,\n  useComponentPresetProp,\n  useColors,\n  useStateful, useStatefulProps, useStatefulEmits,\n  useArrayRefs,\n  useTranslation,\n} from '../../composables'\nimport { setPaginationRange } from './setPaginationRange'\n\nimport { VaButton } from '../va-button'\n\nexport default defineComponent({\n  name: 'VaPagination',\n  components: { VaButton },\n  emits: useStatefulEmits,\n  props: {\n    ...useStatefulProps,\n    ...useComponentPresetProp,\n    modelValue: { type: Number, default: 1 },\n    visiblePages: { type: Number, default: 0 },\n    pages: { type: Number, default: 0 },\n    disabled: { type: Boolean, default: false },\n    color: { type: String, default: 'primary' },\n    size: {\n      type: String as PropType<'small' | 'medium' | 'large'>,\n      default: 'medium',\n      validator: (v: string) => ['small', 'medium', 'large'].includes(v),\n    },\n    boundaryLinks: { type: Boolean, default: true },\n    boundaryNumbers: { type: Boolean, default: false },\n    directionLinks: { type: Boolean, default: true },\n    input: { type: Boolean, default: false },\n    hideOnSinglePage: { type: Boolean, default: false },\n    total: { type: Number, default: null },\n    pageSize: { type: Number, default: null },\n    boundaryIconLeft: { type: String, default: 'va-arrow-first' },\n    boundaryIconRight: { type: String, default: 'va-arrow-last' },\n    directionIconLeft: { type: String, default: 'va-arrow-left' },\n    directionIconRight: { type: String, default: 'va-arrow-right' },\n    gapped: { type: Boolean, default: false },\n    borderColor: { type: String, default: '' },\n    rounded: { type: Boolean, default: false },\n    activePageColor: { type: String, default: '' },\n    buttonsPreset: { type: String, default: 'primary' },\n  },\n\n  setup (props, { emit }) {\n    const htmlInput = shallowRef<HTMLInputElement>()\n\n    const inputValue = ref('')\n\n    const usesTotal = computed(() => !!((props.total || props.total === 0) && props.pageSize))\n\n    const { valueComputed }: { valueComputed: WritableComputedRef<number> } = useStateful(props, emit)\n\n    const currentValue = computed({\n      get: () => usesTotal.value ? Math.ceil(valueComputed.value / props.pageSize) || 1 : valueComputed.value,\n      set: (value) => { valueComputed.value = value },\n    })\n\n    const paginationRange = computed(() => {\n      const { visiblePages, total, pageSize, boundaryNumbers, pages } = props\n\n      const value = currentValue.value || 1\n      const totalPages = usesTotal.value ? Math.ceil(total / pageSize) : pages\n\n      return setPaginationRange(value, visiblePages, totalPages, boundaryNumbers)\n    })\n\n    const lastPage = computed(() => usesTotal.value ? Math.ceil(props.total / props.pageSize) || 1 : +props.pages)\n\n    const isLastPageNotVisible = computed(() => ((!!props.visiblePages && lastPage.value > props.visiblePages)) || props.input)\n\n    const showBoundaryLinks = computed(() => {\n      const { boundaryLinks, boundaryNumbers } = props\n\n      return isLastPageNotVisible.value && boundaryLinks && !boundaryNumbers\n    })\n\n    const showDirectionLinks = computed(() => isLastPageNotVisible.value && props.directionLinks)\n\n    const showPagination = computed(() => lastPage.value > 1 || (!props.hideOnSinglePage && lastPage.value <= 1))\n\n    const focusInput = () => {\n      inputValue.value = String(currentValue.value)\n\n      nextTick(() => htmlInput.value?.setSelectionRange(0, htmlInput.value.value.length))\n    }\n\n    const { setItemRefByIndex, itemRefs } = useArrayRefs()\n    const onUserInput = (pageNum: number | '...') => {\n      if (pageNum === '...' || pageNum === currentValue.value) { return }\n\n      const limitedPageNum = clamp(pageNum, 1, lastPage.value)\n      currentValue.value = usesTotal.value\n        ? (limitedPageNum - 1) * props.pageSize + 1\n        : limitedPageNum\n\n      itemRefs.value[pageNum - 1]?.focus()\n    }\n\n    const resetInput = () => {\n      inputValue.value = ''\n      htmlInput.value?.blur()\n    }\n\n    const changeValue = () => {\n      if (+inputValue.value === currentValue.value) {\n        resetInput()\n      }\n\n      if (!inputValue.value.length) { return }\n\n      let pageNum = Number.parseInt(inputValue.value)\n\n      switch (true) {\n        case pageNum < 1:\n          pageNum = 1; break\n        case pageNum > lastPage.value:\n          pageNum = lastPage.value; break\n        case isNaN(pageNum):\n          pageNum = currentValue.value; break\n        default: break\n      }\n\n      onUserInput(pageNum)\n      resetInput()\n    }\n\n    const { getColor, colorToRgba } = useColors()\n\n    const inputBorderColorComputed = computed(() => {\n      const { color, buttonsPreset } = toRefs(props)\n\n      if (!color.value) { return 'transparent' }\n\n      switch (buttonsPreset.value) {\n        case 'default':\n          return getColor(color.value)\n        case undefined:\n        case 'primary':\n          return colorToRgba(getColor(color.value), 0.1)\n        default:\n          return 'transparent'\n      }\n    })\n\n    const inputStyleComputed = computed(() => ({\n      cursor: 'default',\n      color: getColor(props.color),\n      opacity: props.disabled ? 0.4 : 1,\n      borderColor: inputBorderColorComputed.value,\n    }))\n\n    watch([usesTotal, () => props.pages], () => {\n      if (__DEV__ && usesTotal.value && props.pages) {\n        throw new Error('Please, use either `total` and `page-size` props, or `pages`.')\n      }\n    })\n\n    const inputAttributesComputed = computed(() => ({\n      disabled: props.disabled,\n      placeholder: `${currentValue.value}/${lastPage.value}`,\n    }))\n\n    const buttonPropsComputed = computed(() => ({\n      size: props.size,\n      preset: props.buttonsPreset,\n      color: props.color,\n      borderColor: props.borderColor,\n      round: props.rounded,\n    }))\n\n    const currentPageButtonProps = computed(() => ({\n      preset: props.buttonsPreset === 'default' ? 'primary' : 'default',\n      color: props.activePageColor || props.color,\n    }))\n\n    const getPageButtonProps = (n: number | '...') => {\n      if (!isNaN(+n) && n === currentValue.value) {\n        return Object.assign({}, buttonPropsComputed.value, currentPageButtonProps.value)\n      }\n\n      return buttonPropsComputed.value\n    }\n\n    const isStandAloneInput = computed(() => props.input && !props.boundaryLinks && !props.directionLinks)\n    const inputClassComputed = useBem('va-pagination__input', () => ({\n      sm: props.size === 'small' && isStandAloneInput.value,\n      md: props.size === 'medium' && isStandAloneInput.value,\n      lg: props.size === 'large' && isStandAloneInput.value,\n      auto: !isStandAloneInput.value,\n    }))\n\n    const classComputed = useBem('va-pagination', () => ({\n      ...pick(props, ['gapped', 'rounded', 'disabled']),\n      bordered: !!props.borderColor,\n    }))\n\n    const goNextPage = () => onUserInput(currentValue.value + 1)\n    const goPrevPage = () => onUserInput(currentValue.value - 1)\n\n    return {\n      ...useTranslation(),\n      getPageButtonProps,\n      inputClassComputed,\n      classComputed,\n      currentValue,\n      lastPage,\n      changeValue,\n      inputValue,\n      showPagination,\n      showBoundaryLinks,\n      onUserInput,\n      showDirectionLinks,\n      paginationRange,\n      focusInput,\n      inputStyleComputed,\n      inputAttributesComputed,\n      goNextPage,\n      goPrevPage,\n      buttonPropsComputed,\n      htmlInput,\n      setItemRefByIndex,\n    }\n  },\n})\n</script>\n\n<style lang='scss'>\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-pagination {\n  display: flex;\n  font-family: var(--va-font-family);\n\n  &__input {\n    background: var(--va-pagination-input-background);\n    border-style: var(--va-pagination-input-border-style);\n    border-width: var(--va-pagination-input-border-width);\n    text-align: var(--va-pagination-input-text-align);\n    font-size: var(--va-pagination-input-font-size);\n    font-weight: normal;\n\n    // by default input's height relies on va-button size\n    &--sm {\n      height: var(--va-pagination-button-sm-size);\n    }\n\n    &--md {\n      height: var(--va-pagination-button-size);\n    }\n\n    &--lg {\n      height: var(--va-pagination-button-lg-size);\n    }\n\n    &--auto {\n      height: auto;\n    }\n  }\n\n  .va-button {\n    &.va-input {\n      cursor: default;\n    }\n\n    &--small {\n      height: var(--va-pagination-button-sm-size);\n      min-width: var(--va-pagination-button-sm-size);\n    }\n\n    &--normal {\n      height: var(--va-pagination-button-size);\n      min-width: var(--va-pagination-button-size);\n    }\n\n    &--large {\n      height: var(--va-pagination-button-lg-size);\n      min-width: var(--va-pagination-button-lg-size);\n    }\n\n    &--ellipsis {\n      cursor: default;\n      opacity: 1;\n\n      & > .va-button__content {\n        opacity: 0.4;\n      }\n    }\n\n    &:focus-visible {\n      outline-offset: -2px;\n\n      @include keyboard-focus-outline();\n    }\n  }\n\n  & > :not(:first-child):not(:last-child) {\n    border-radius: 0;\n  }\n\n  & > :first-child {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  & > :last-child {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n\n  &--gapped {\n    &.va-pagination > .va-button {\n      border-radius: var(--va-button-border-radius);\n      margin-right: var(--va-pagination-gap);\n      border-style: solid;\n\n      &:last-child {\n        margin-right: 0;\n      }\n    }\n  }\n\n  &--bordered {\n    &.va-pagination > .va-button {\n      border-style: solid;\n\n      &::before {\n        border-radius: unset;\n      }\n    }\n  }\n\n  &--rounded {\n    &.va-pagination > .va-button {\n      border-radius: 50%;\n\n      &::before {\n        border-radius: inherit;\n      }\n\n      &.va-button--small {\n        &.va-button--icon-only {\n          height: var(--va-pagination-button-sm-size);\n          width: var(--va-pagination-button-sm-size);\n        }\n\n        & .va-button__content {\n          padding-right: var(--va-button-sm-content-px);\n          padding-left: var(--va-button-sm-content-px);\n        }\n      }\n\n      &.va-button--normal {\n        &.va-button--icon-only {\n          height: var(--va-pagination-button-size);\n          width: var(--va-pagination-button-size);\n        }\n\n        & .va-button__content {\n          padding-right: var(--va-button-content-px);\n          padding-left: var(--va-button-content-px);\n        }\n      }\n\n      &.va-button--large {\n        &.va-button--icon-only {\n          height: var(--va-pagination-button-lg-size);\n          width: var(--va-pagination-button-lg-size);\n        }\n\n        & .va-button__content {\n          padding-right: var(--va-button-lg-content-px);\n          padding-left: var(--va-button-lg-content-px);\n        }\n      }\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}