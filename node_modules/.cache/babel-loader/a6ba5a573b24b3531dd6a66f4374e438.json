{"ast":null,"code":"import axios from \"axios\";\nexport const RUTA_SERVIDOR_ALUMNOS = process.env.VUE_APP_RUTA_API_ALUMNOS;\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS;\nimport { jsPDF } from \"jspdf\";\nimport \"jspdf-autotable\";\nexport default {\n  name: \"ListarAutores\",\n\n  data() {\n    return {\n      totalAutores: [],\n      nombreAutor: \"\",\n      autores: [],\n      elementosPorPagina: 10,\n      datosPaginados: [],\n      paginaActual: 1,\n      autorEditar: {\n        nombre: \"\",\n        id: 0\n      }\n    };\n  },\n\n  created: function () {\n    this.consultarAutores();\n  },\n\n  mounted() {\n    this.ObtenerDatosPag(1);\n  },\n\n  methods: {\n    consultarAutores() {\n      fetch(RUTA_SERVIDOR_LIBROS + \"/autor\").then(respuesta => respuesta.json()).then(datosRespuesta => {\n        this.libros = [];\n\n        if (typeof datosRespuesta[0].success === \"undefined\") {\n          datosRespuesta.sort((a, b) => {\n            if (a.nombre.toUpperCase() == b.nombre.toUpperCase()) {\n              return 0;\n            }\n\n            if (a.nombre.toUpperCase() > b.nombre.toUpperCase()) {\n              return 1;\n            }\n\n            if (a.nombre.toUpperCase() < b.nombre.toUpperCase()) {\n              return -1;\n            }\n          });\n          this.autores = datosRespuesta;\n          this.filtrarAutores();\n        }\n      }).catch(console.log);\n    },\n\n    filtrarAutores() {\n      this.totalAutores = [];\n\n      for (let index = 0; index < this.autores.length; index++) {\n        if (this.autores[index].activo === 1 && this.autores[index].nombre.toUpperCase().includes(this.nombreAutor.toUpperCase())) {\n          this.totalAutores = this.totalAutores.concat(this.autores[index]);\n          this.ObtenerDatosPag(1);\n        }\n      }\n\n      if (this.totalAutores.length === 0) {\n        this.paginaPrevia(); //this.paginaActual=0;\n      }\n    },\n\n    eliminar(autor) {\n      const confirmacion = window.confirm('¿Estás seguro de que deseas eliminar este autor?');\n\n      if (confirmacion) {\n        axios.put(RUTA_SERVIDOR_LIBROS + \"/autor/\" + autor.id, {\n          nombre: autor.nombre,\n          idEmpleado: autor.idEmpleado,\n          activo: 0\n        }).then(function (response) {\n          console.log(response);\n          location.reload();\n        }).catch(function (error) {\n          console.log(error); // console.log(this.libro);\n        });\n      }\n    },\n\n    cambiarRegistrosPorPagina() {\n      this.paginaActual = 1;\n      this.ObtenerDatosPag(this.paginaActual);\n    },\n\n    totalPaginas() {\n      if (this.elementosPorPagina === -1) {\n        return 1; // Mostrar todo en una sola página\n      }\n\n      return Math.ceil(this.totalAutores.length / this.elementosPorPagina);\n    },\n\n    ObtenerDatosPag(noPag) {\n      this.paginaActual = noPag;\n      this.datosPaginados = [];\n      let ini = noPag * this.elementosPorPagina - this.elementosPorPagina;\n      let fin = noPag * this.elementosPorPagina;\n      this.datosPaginados = this.totalAutores.slice(ini, fin);\n    },\n\n    paginaPrevia() {\n      if (this.paginaActual > 1) {\n        this.paginaActual--;\n      }\n\n      this.ObtenerDatosPag(this.paginaActual);\n    },\n\n    paginaSiguiente() {\n      if (this.paginaActual < this.totalPaginas()) {\n        this.paginaActual++;\n      }\n\n      this.ObtenerDatosPag(this.paginaActual);\n    },\n\n    activo(noPoag) {\n      return noPoag === this.paginaActual ? \"active\" : \"\";\n    },\n\n    obtenerAutor(idAutor) {\n      this.autorEditar.nombre = idAutor.nombre;\n      this.autorEditar.id = idAutor.id;\n    },\n\n    actualizar() {\n      if (this.autorEditar.nombre.trim() === \"\") {\n        alert('Por favor, el campo de nombre no pueden estar vacio.');\n        return;\n      }\n\n      axios.put(RUTA_SERVIDOR_LIBROS + \"/autor/\" + this.autorEditar.id, {\n        nombre: this.autorEditar.nombre.toUpperCase(),\n        idEmpleado: parseInt(localStorage.getItem('id')),\n        activo: 1\n      }).then(function (response) {\n        console.log(response);\n        location.reload();\n      }).then(alert(\"El autor se actualizo correctamente\")).catch(function (error) {\n        console.log(error); // console.log(this.libro);\n      });\n    },\n\n    exportarAExcel() {\n      // Crear una tabla HTML con los datos que deseas exportar\n      const tabla = document.createElement('table');\n      const tbody = tabla.createTBody(); // Agregar filas de datos a la tabla\n\n      this.datosPaginados.forEach(autor => {\n        const fila = tbody.insertRow();\n        const nombreCell = fila.insertCell(0); // 0 es la primera columna\n\n        nombreCell.innerText = autor.nombre;\n      }); // Crear un archivo Blob para la tabla HTML\n\n      const blob = new Blob([tabla.outerHTML], {\n        type: 'application/vnd.ms-excel'\n      }); // Crear un enlace para descargar el archivo Excel\n\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = 'autores.xls'; // Simular un clic en el enlace para iniciar la descarga\n\n      link.click();\n    },\n\n    imprimirAutores() {\n      // Crear un nuevo documento PDF\n      var doc = new jsPDF(); // Obtener la tabla visible\n\n      var table = document.querySelector('.tableMb'); //titulo\n\n      doc.setFontSize(16);\n      var title = \"Autores\";\n      var titleWidth = doc.getStringUnitWidth(title) * doc.internal.getFontSize() / doc.internal.scaleFactor;\n      var pageWidth = doc.internal.pageSize.getWidth();\n      var x = (pageWidth - titleWidth) / 2;\n      doc.text(title, x, 10); // Obtener la tabla visible\n\n      var table = document.querySelector('.tableMb'); // Configurar los estilos de la tabla\n\n      var styles = {\n        overflow: 'linebreak',\n        fontSize: 8,\n        // Tamaño de fuente reducido\n        lineWidth: 0.1,\n        lineColor: [0, 0, 0],\n        // Color de las líneas\n        font: 'helvetica',\n        fontStyle: 'normal',\n        halign: 'center',\n        // Alineación horizontal\n        valign: 'middle',\n        // Alineación vertical\n        cellPadding: 2,\n        tableWidth: 'auto',\n        tableBorder: 1,\n        tableLineColor: [0, 0, 0],\n        // Color del borde de la tabla\n        tableFillColor: [255, 255, 255],\n        // Color de fondo de la tabla\n        textColor: 0,\n        cellWidth: 'auto' // Ajustar el ancho de la celda automáticamente\n\n      }; // Ocultar la última columna (Acción) antes de agregar la tabla al documento PDF\n\n      var actionColumn = table.querySelector('th:last-child, td:last-child');\n\n      if (actionColumn) {\n        actionColumn.style.display = 'none';\n      } // Agregar la tabla al documento PDF\n\n\n      doc.autoTable({\n        html: table,\n        startY: 20,\n        styles\n      }); // Mostrar la última columna nuevamente\n\n      if (actionColumn) {\n        actionColumn.style.display = 'table-cell';\n      } // Guardar el PDF\n\n\n      doc.save('solicitudes.pdf');\n    },\n\n    closeModal() {\n      this.$refs.modalCenter.hide();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2HA;AACA;AACA;AACA;AACA;AACA;EACAA,qBADA;;EAEAC;IACA;MACAC,gBADA;MAEAC,eAFA;MAGAC,WAHA;MAIAC,sBAJA;MAKAC,kBALA;MAMAC,eANA;MAOAC;QACAC,UADA;QAEAC;MAFA;IAPA;EAYA,CAfA;;EAiBAC;IACA;EACA,CAnBA;;EAoBAC;IACA;EACA,CAtBA;;EAuBAC;IACAC;MACAC,uCACAC,IADA,CACAC,6BADA,EAEAD,IAFA,CAEAE;QACA;;QACA;UACAA;YACA;cACA;YACA;;YACA;cACA;YACA;;YACA;cACA;YACA;UACA,CAVA;UAWA;UACA;QACA;MACA,CAnBA,EAoBAC,KApBA,CAoBAC,WApBA;IAqBA,CAvBA;;IAyBAC;MACA;;MACA;QACA,IACA,oCACA,2BACAC,WADA,GAEAC,QAFA,CAEA,8BAFA,CAFA,EAKA;UACA;UACA;QACA;MACA;;MACA;QACA,oBADA,CAEA;MACA;IACA,CA1CA;;IA4CAC;MACA,oCACA,kDADA;;MAIA;QAEAC,MACAC,GADA,CACAC,2CADA,EACA;UACAlB,oBADA;UAEAmB,4BAFA;UAGAC;QAHA,CADA,EAMAb,IANA,CAMA;UACAI;UACAU;QACA,CATA,EAUAX,KAVA,CAUA;UACAC,mBADA,CAEA;QACA,CAbA;MAcA;IACA,CAlEA;;IAmEAW;MACA;MACA;IACA,CAtEA;;IAuEAC;MACA;QACA,SADA,CACA;MACA;;MACA,iBACA,kDADA;IAGA,CA9EA;;IA+EAC;MACA;MACA;MAGA;MACA;MACA;IAEA,CAxFA;;IA0FAC;MACA;QACA;MACA;;MACA;IACA,CA/FA;;IAgGAC;MACA;QACA;MACA;;MACA;IACA,CArGA;;IAsGAN;MACA;IACA,CAxGA;;IA0GAO;MACA;MACA;IACA,CA7GA;;IA8GAC;MACA,IACA,qCADA,EAGA;QACAC;QACA;MACA;;MACAb,MACAC,GADA,CACAC,sDADA,EACA;QACAlB,6CADA;QAEAmB,gDAFA;QAGAC;MAHA,CADA,EAMAb,IANA,CAMA;QACAI;QACAU;MACA,CATA,EAUAd,IAVA,CAUAsB,4CAVA,EAWAnB,KAXA,CAWA;QACAC,mBADA,CAEA;MACA,CAdA;IAeA,CArIA;;IAuIAmB;MACA;MACA;MACA,kCAHA,CAKA;;MACA;QACA;QACA,sCAFA,CAEA;;QACAC;MACA,CAJA,EANA,CAYA;;MACA;QAAAC;MAAA,GAbA,CAeA;;MACA;MACAC;MACAA,8BAlBA,CAoBA;;MACAA;IACA,CA7JA;;IA8JAC;MACA;MACA,sBAFA,CAIA;;MACA,+CALA,CAMA;;MACAC;MACA;MACA;MACA;MACA;MACAA,uBAZA,CAaA;;MACA,+CAdA,CAgBA;;MACA;QACAC,qBADA;QAEAC,WAFA;QAEA;QACAC,cAHA;QAIAC,oBAJA;QAIA;QACAC,iBALA;QAMAC,mBANA;QAOAC,gBAPA;QAOA;QACAC,gBARA;QAQA;QACAC,cATA;QAUAC,kBAVA;QAWAC,cAXA;QAYAC,yBAZA;QAYA;QACAC,+BAbA;QAaA;QACAC,YAdA;QAeAC,iBAfA,CAeA;;MAfA,EAjBA,CAmCA;;MACA;;MACA;QACAC;MACA,CAvCA,CAyCA;;;MACAhB;QAAAiB;QAAAC;QAAAC;MAAA,GA1CA,CA4CA;;MACA;QACAH;MACA,CA/CA,CAiDA;;;MACAhB;IACA,CAjNA;;IAiNAoB;MACA;IACA;;EAnNA;AAvBA","names":["name","data","totalAutores","nombreAutor","autores","elementosPorPagina","datosPaginados","paginaActual","autorEditar","nombre","id","created","mounted","methods","consultarAutores","fetch","then","respuesta","datosRespuesta","catch","console","filtrarAutores","toUpperCase","includes","eliminar","axios","put","RUTA_SERVIDOR_LIBROS","idEmpleado","activo","location","cambiarRegistrosPorPagina","totalPaginas","ObtenerDatosPag","paginaPrevia","paginaSiguiente","obtenerAutor","actualizar","alert","exportarAExcel","nombreCell","type","link","imprimirAutores","doc","overflow","fontSize","lineWidth","lineColor","font","fontStyle","halign","valign","cellPadding","tableWidth","tableBorder","tableLineColor","tableFillColor","textColor","cellWidth","actionColumn","html","startY","styles","closeModal"],"sourceRoot":"src/components","sources":["ListarAutores.vue"],"sourcesContent":["<template class=\"fondo\">\n  <div class=\"row align-items-center\">\n    <div class=\"col\">\n      <div class=\" align-items-center\">\n        <div class=\"form-group text-center\">\n          <label for=\"\">Ingresa el nombre del autor</label>\n          <input\n            v-on:keyup=\"filtrarAutores()\"\n            v-model=\"nombreAutor\"\n            type=\"text\"\n            class=\"form-control text-center\"\n            placeholder=\"Nombre del autor\"\n          />\n        </div>\n        <label>Registros por página</label>\n    <select v-model=\"elementosPorPagina\" @change=\"cambiarRegistrosPorPagina\">\n      <option value=\"5\" selected>5</option>\n      <option value=\"10\">10</option>\n      <option value=\"20\">20</option>\n      <option value=\"999999\">Todos</option>\n    </select>\n    <button\n      type=\"button\"\n      class=\"btn\"\n      @click=\"imprimirAutores()\"\n    >\n    <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAChklEQVR4nO2Z22vTcBTH+08UrcpASE1SrQ1ug9i5sU1l4pQpE2XTubeBoOANxSdFUcELClNURGhZH0TFMh+com4Im+iDQ0HmEPVBENKbcfSS3tav/H5j6VYzy1zSVsmBz0M5/NJPT8/v5JfWYjGjROFkWafLzvXojcA4dugq6mK4g4KdhyEw3IV/Q9TOw8VwF3UXvSNUYaB6yYIY9t6G/8QhrF3B5WXt/HldRUdqbJBE64JIjY4gfvcWBqttcM+UZfhLFSkqiVZ9ZY0UlfSUNVpU0pAVGP5yRYpKmrLcybKLKk8fINzV9Bsvt9WhlnVMyw6VXfRPsblxQ2WIBltXIrR9zZy0OCqkolIRWljWFIVZ0fmE2aOiuZl4dTyFO9ZBedGvEvNdQ6i9Rt1UyjO/mks88mHi9H4E6peq+fDe5lnrCfLxbv3H0499bfQuQm6FRCTzdRy5eBSh9lqax2QWqbfDSPi9SL56jlxSQebTBwQ3sTQvH+mcWv/4Hl1PkA93GCcaahPoa1KtbOA7Yp4rqujEmQP5Cu5yY1KOQHlyf5ZocKPd2IFfKCq5FyH77QvivuuaopJoRbT3FHKpJP1Q06JkfaB5OYVcwzDRmPcqojfOIvV6EMikae/NJSof65qq4pZVqujMCHfWGyea+TyG9Md3dDNEelpVKWhV9OY55JQEpDqbKkquE+leTwk0LCvBV18ACkSJSC76Ewm/p8w9qiGaHhullU6/f0PbgpxDaS+WUjS0U6SjR+uNCImHHponxPp6IR/dA8m9OD8Fdjcg0d+HQGOVecyDeXAWzRO+1XxmEhY6nvT42XGgCE16zNESM/R/ijoN+rPBVYTVDLt1XqJmWP4ufgGVhSpkgRcCwgAAAABJRU5ErkJggg==\">  </button> \n     <button\n      type=\"button\"\n      class=\"btn\"\n      @click=\"exportarAExcel()\"\n    >\n    <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTUlEQVR4nO2ZW0sUYRjH5xvkRcieRnfNPZhtuTNBalgNaemaRUWQ6a5p2slq14Uyd6edGTpQKBFhRQXiTV0pXnQhEmLuTF/E+h7/eN+VocBK2Tks8v7hf/E+8w48v3kON8NxTExMu1/id61X1NWfoqGhUtc+Tc45DiDo2g8rkieukSXUFKTnjgKIFiVvAjgNIdoB4CSEaBeA7BCErQCyAxC2A8g2QzgCINsI4RiAbBOElQB7n3T/F2JPQVKrFqBpKbMtiNoXfXNVCbATcwxgU6wCBmuhyrRrW2jfs0vgJ07hwMIEPTd/Gqfn2MdRxBey4DOd2D9/8493Di7lUD/VC//YMfivH0d45op7APHFLDypVgQLfRB0FYG7J2liiVUZzZ/vwDN4BLH3I+Z9csc32kEdfTOE6OwQwi8H3F2jDdoFChGe6acJN83fKFdjC4CWr3ka4zNdENaK7rcQTWolD+9wO4Won0ya8a0AiEm1SNw31oHI6xTEkuIuwKEvD+BJt8Gbbit/2ZL6TwBxXaEx/60T9HlIPusigK6i7n4PfMNHEZlNlxN+e/XvAOtK2WQevhURuC3Bm2qls+EKQOzDNZpk5NWgOcQEJrEyZQLU5U4jpJ2nJpspMC6hcbofjdOXaeX4bJdLFSgpCBXPIZg/g8TaI3ONBieTiL4bQXwxR2fid5MVSoaerFf+XicaHl9Ey/JDd2fATnMMYFOsAgZrocrEWshgLVSZWAsZrIWq5xfTdi0Y6gZnlQ7rWo+TEIKhbiRKSrdlAExMTFzV6hfz8wpqDZBppQAAAABJRU5ErkJggg==\">\n    </button>\n<br>\n<nav aria-label=\"Page navigation example\" class=\"pagination-nav\">\n      <ul class=\"pagination\">\n        <li class=\"page-item\" v-on:click=\"paginaPrevia()\">\n          <a class=\"page-link\" href=\"#\">anterior</a>\n        </li>\n        <li\n          v-for=\"paginaE in totalPaginas()\"\n          :key=\"paginaE\"\n          class=\"page-item\"\n          v-bind:class=\"activo(paginaE)\"\n        >\n          <a class=\"page-link\" href=\"#\" v-on:click=\"ObtenerDatosPag(paginaE)\">{{\n            paginaE\n          }}</a>\n        </li>\n        <li class=\"page-item\" v-on:click=\"paginaSiguiente()\">\n          <a class=\"page-link\" href=\"#\">siguiente</a>\n        </li>\n      </ul>\n    </nav>\n        <div class=\" d-md-block  table-responsive table-sm small\">\n          <table class=\"table table-striped border text-center tableMb\">\n            <thead>\n              <tr>\n                <!-- <th>ID</th> -->\n                <th>NOMBRE</th>\n                <th>ACCIONES</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"autor in datosPaginados\" :key=\"autor.id\">\n                <!-- <td>{{ libro.id }}</td> -->\n                <td>{{ autor.nombre }}</td>\n            \n                <td>\n                  <div class=\"btn-group\" role=\"group\" aria-label=\"\">\n                    <button\n                      v-b-modal.modal-center\n                      @click=\"obtenerAutor(autor)\"\n                      class=\"btn btn-info btn-sm\"\n                    >\n                    <font-awesome-icon icon=\"fa-solid fa-pen-to-square\" />\n                    </button>\n                    <button\n                      type=\"button\"\n                      @click=\"eliminar(autor)\"\n                      class=\"btn btn-danger btn-sm\"\n                    >\n                    <font-awesome-icon icon=\"fa-solid fa-trash-can\"  />\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n       \n      </div>\n    </div>\n\n    \n\n      <b-modal id=\"modal-center\" ref=\"modalCenter\" centered title=\"Modificar autor\" hide-footer hide-close-button> \n      <template #modal-title>\n    <button @click=\"closeModal\" class=\"btn btn-sm btn-danger close-button\">X</button>\n    <h5 class=\"modal-title\">Modificar Autor</h5>\n      </template>\n    <div class=\"form-group d-flex flex-column \">\n        \n        <label for=\"\">nombre autor</label>\n        <input\n          v-model=\"autorEditar.nombre\"\n          type=\"text\"\n          name=\"\"\n          id=\"\"\n          class=\"form-control\"\n          placeholder=\" Nombre\"\n          aria-describedby=\"helpId\"\n        />\n        <br>\n        <button class=\"btn align-items-center btn-info\" @click=\"actualizar()\">Actualizar</button>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport const RUTA_SERVIDOR_ALUMNOS = process.env.VUE_APP_RUTA_API_ALUMNOS;\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS;\nimport { jsPDF } from \"jspdf\";\nimport \"jspdf-autotable\";\nexport default {\n  name: \"ListarAutores\",\n  data() {\n    return {\n      totalAutores: [],\n      nombreAutor: \"\",\n      autores: [],\n      elementosPorPagina: 10,\n      datosPaginados: [],\n      paginaActual: 1,\n      autorEditar: {\n        nombre: \"\",\n        id: 0,\n      },\n    };\n  },\n\n  created: function () {\n    this.consultarAutores();\n  },\n  mounted() {\n    this.ObtenerDatosPag(1);\n  },\n  methods: {\n    consultarAutores() {\n      fetch(RUTA_SERVIDOR_LIBROS+\"/autor\")\n        .then((respuesta) => respuesta.json())\n        .then((datosRespuesta) => {\n          this.libros = [];\n          if (typeof datosRespuesta[0].success === \"undefined\") {\n            datosRespuesta.sort((a, b) => {\n              if (a.nombre.toUpperCase() == b.nombre.toUpperCase()) {\n                return 0;\n              }\n              if (a.nombre.toUpperCase() > b.nombre.toUpperCase()) {\n                return 1;\n              }\n              if (a.nombre.toUpperCase() < b.nombre.toUpperCase()) {\n                return -1;\n              }\n            });\n            this.autores = datosRespuesta;\n            this.filtrarAutores();\n          }\n        })\n        .catch(console.log);\n    },\n\n    filtrarAutores() {\n      this.totalAutores = [];\n      for (let index = 0; index < this.autores.length; index++) {\n        if (\n          this.autores[index].activo === 1 &&\n          this.autores[index].nombre\n            .toUpperCase()\n            .includes(this.nombreAutor.toUpperCase())\n        ) {\n          this.totalAutores = this.totalAutores.concat(this.autores[index]);\n          this.ObtenerDatosPag(1);\n        }\n      }\n      if (this.totalAutores.length === 0) {\n        this.paginaPrevia();\n        //this.paginaActual=0;\n      }\n    },\n\n    eliminar(autor) {\n      const confirmacion = window.confirm(\n    '¿Estás seguro de que deseas eliminar este autor?'\n  );\n\n  if (confirmacion) {\n      \n      axios\n        .put(RUTA_SERVIDOR_LIBROS+\"/autor/\" + autor.id, {\n          nombre: autor.nombre,\n          idEmpleado: autor.idEmpleado,\n          activo: 0,\n        })\n        .then(function (response) {\n          console.log(response);\n          location.reload();\n        })\n        .catch(function (error) {\n          console.log(error);\n          // console.log(this.libro);\n        });\n      }\n    },\n    cambiarRegistrosPorPagina() {\n      this.paginaActual=1\n      this.ObtenerDatosPag(this.paginaActual);\n    },\n    totalPaginas() {\n      if (this.elementosPorPagina === -1) {\n        return 1; // Mostrar todo en una sola página\n      }\n      return Math.ceil(\n        this.totalAutores.length / this.elementosPorPagina\n      );\n    },\n    ObtenerDatosPag(noPag) {\n  this.paginaActual = noPag;\n  this.datosPaginados = [];\n\n \n    let ini = noPag * this.elementosPorPagina - this.elementosPorPagina;\n    let fin = noPag * this.elementosPorPagina;\n    this.datosPaginados = this.totalAutores.slice(ini, fin);\n  \n},\n\n    paginaPrevia() {\n      if (this.paginaActual > 1) {\n        this.paginaActual--;\n      }\n      this.ObtenerDatosPag(this.paginaActual);\n    },\n    paginaSiguiente() {\n      if (this.paginaActual < this.totalPaginas()) {\n        this.paginaActual++;\n      }\n      this.ObtenerDatosPag(this.paginaActual);\n    },\n    activo(noPoag) {\n      return noPoag === this.paginaActual ? \"active\" : \"\";\n    },\n\n    obtenerAutor(idAutor) {\n      this.autorEditar.nombre = idAutor.nombre;\n      this.autorEditar.id = idAutor.id;\n    },\n    actualizar() {\n      if (\n        this.autorEditar.nombre.trim() === \"\" \n  \n  ) {\n    alert('Por favor, el campo de nombre no pueden estar vacio.');\n    return;\n  }\n      axios\n        .put(RUTA_SERVIDOR_LIBROS+\"/autor/\" + this.autorEditar.id, {\n          nombre: this.autorEditar.nombre.toUpperCase(),\n          idEmpleado: parseInt(localStorage.getItem('id')),\n          activo: 1,\n        })\n        .then(function (response) {\n          console.log(response);\n          location.reload();\n        })\n        .then(alert(\"El autor se actualizo correctamente\"))\n        .catch(function (error) {\n          console.log(error);\n          // console.log(this.libro);\n        });\n    },\n\n    exportarAExcel() {\n  // Crear una tabla HTML con los datos que deseas exportar\n  const tabla = document.createElement('table');\n  const tbody = tabla.createTBody();\n\n  // Agregar filas de datos a la tabla\n  this.datosPaginados.forEach(autor => {\n    const fila = tbody.insertRow();\n    const nombreCell = fila.insertCell(0); // 0 es la primera columna\n    nombreCell.innerText = autor.nombre;\n  });\n\n  // Crear un archivo Blob para la tabla HTML\n  const blob = new Blob([tabla.outerHTML], { type: 'application/vnd.ms-excel' });\n\n  // Crear un enlace para descargar el archivo Excel\n  const link = document.createElement('a');\n  link.href = URL.createObjectURL(blob);\n  link.download = 'autores.xls';\n\n  // Simular un clic en el enlace para iniciar la descarga\n  link.click();\n},\nimprimirAutores() {\n  // Crear un nuevo documento PDF\n  var doc = new jsPDF();\n\n  // Obtener la tabla visible\n  var table = document.querySelector('.tableMb');\n//titulo\ndoc.setFontSize(16);\n  var title = \"Autores\";\n  var titleWidth = doc.getStringUnitWidth(title) * doc.internal.getFontSize() / doc.internal.scaleFactor;\n  var pageWidth = doc.internal.pageSize.getWidth();\n  var x = (pageWidth - titleWidth) / 2;\n  doc.text(title, x, 10);\n  // Obtener la tabla visible\n  var table = document.querySelector('.tableMb');\n\n  // Configurar los estilos de la tabla\n  var styles = {\n    overflow: 'linebreak',\n    fontSize: 8, // Tamaño de fuente reducido\n    lineWidth: 0.1,\n    lineColor: [0, 0, 0], // Color de las líneas\n    font: 'helvetica',\n    fontStyle: 'normal',\n    halign: 'center', // Alineación horizontal\n    valign: 'middle', // Alineación vertical\n    cellPadding: 2,\n    tableWidth: 'auto',\n    tableBorder: 1,\n    tableLineColor: [0, 0, 0], // Color del borde de la tabla\n    tableFillColor: [255, 255, 255], // Color de fondo de la tabla\n    textColor: 0,\n    cellWidth: 'auto', // Ajustar el ancho de la celda automáticamente\n  };\n\n  // Ocultar la última columna (Acción) antes de agregar la tabla al documento PDF\n  var actionColumn = table.querySelector('th:last-child, td:last-child');\n  if (actionColumn) {\n    actionColumn.style.display = 'none';\n  }\n\n  // Agregar la tabla al documento PDF\n  doc.autoTable({ html: table, startY: 20, styles });\n\n  // Mostrar la última columna nuevamente\n  if (actionColumn) {\n    actionColumn.style.display = 'table-cell';\n  }\n\n  // Guardar el PDF\n  doc.save('solicitudes.pdf');\n},closeModal() {\n      this.$refs.modalCenter.hide();\n    },\n\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}