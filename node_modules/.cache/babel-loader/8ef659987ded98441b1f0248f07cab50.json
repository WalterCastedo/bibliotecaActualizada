{"ast":null,"code":"import { defineComponent, ref, resolveComponent, openBlock, createBlock, normalizeClass, withCtx, createVNode, createElementVNode, createElementBlock, toDisplayString, createCommentVNode, withModifiers, withKeys } from \"vue\";\nimport { u as useBem } from \"../../../composables/useBem.js\";\nimport { u as useFocus } from \"../../../composables/useFocus.js\";\nimport { u as useStrictInject } from \"../../../composables/useStrictInject.js\";\nimport { u as useTranslation } from \"../../../composables/useTranslation.js\";\nimport { V as VaFileUploadKey } from \"../types.js\";\nimport { V as VaButton } from \"../../va-button/index.js\";\nimport { V as VaListItem, a as VaListItemSection } from \"../../va-list/index.js\";\nimport { V as VaFileUploadUndo } from \"../VaFileUploadUndo/index.js\";\nimport { _ as _export_sfc } from \"../../../../plugin-vue_export-helper.js\";\n\nvar VaFileUploadListItem_vue_vue_type_style_index_0_lang = /* @__PURE__ */(() => \":root{--va-file-upload-list-item-size-text-color: var(--va-secondary);--va-file-upload-list-item-border-radius: .375rem;--va-file-upload-list-item-background-color: var(--va-white);--va-file-upload-list-item-box-shadow: var(--va-box-shadow)}.va-file-upload-list-item{background-color:var(--va-file-upload-list-item-background-color);box-shadow:var(--va-file-upload-list-item-box-shadow, var(--va-block-box-shadow));border-radius:var(--va-file-upload-list-item-border-radius, var(--va-block-border-radius));position:relative;line-height:1.5rem;padding:1.125rem .5rem 1rem 1rem;max-width:100%;width:100%}.va-file-upload-list-item+.va-file-upload-list-item{margin-top:.5rem}.va-file-upload-list-item .va-list-item__inner{padding:0;overflow:hidden}.va-file-upload-list-item__content{display:flex;align-items:center;justify-content:space-between}.va-file-upload-list-item__name{white-space:nowrap;text-overflow:ellipsis;flex-basis:60%;overflow:hidden}.va-file-upload-list-item__size{color:var(--va-file-upload-list-item-size-text-color)}.va-file-upload-list-item__delete{font-size:1.5rem;cursor:pointer;--va-button-size: 1.5rem}.va-file-upload-list-item--undo{overflow:hidden;position:relative}.va-file-upload-list-item--undo .va-list-item-section{padding:0}\\n\")();\n\nconst INJECTION_ERROR_MESSAGE = \"The VaFileUploadListItem component should be used in the context of VaFileUpload component\";\n\nconst _sfc_main = defineComponent({\n  name: \"VaFileUploadListItem\",\n  components: {\n    VaListItem,\n    VaListItemSection,\n    VaFileUploadUndo,\n    VaButton\n  },\n  emits: [\"remove\"],\n  props: {\n    file: {\n      type: Object,\n      default: null\n    },\n    color: {\n      type: String,\n      default: \"success\"\n    }\n  },\n\n  setup(props, {\n    emit\n  }) {\n    const {\n      undo,\n      disabled,\n      undoDuration\n    } = useStrictInject(VaFileUploadKey, INJECTION_ERROR_MESSAGE);\n    const {\n      onFocus,\n      onBlur\n    } = useFocus();\n    const removed = ref(false);\n\n    const removeFile = () => {\n      var _a;\n\n      if (undo.value) {\n        removed.value = true;\n        setTimeout(() => {\n          if (removed.value) {\n            emit(\"remove\");\n            removed.value = false;\n          }\n        }, (_a = undoDuration.value) != null ? _a : 0);\n      } else {\n        emit(\"remove\");\n        removed.value = false;\n      }\n    };\n\n    const recoverFile = () => {\n      removed.value = false;\n    };\n\n    const computedClasses = useBem(\"va-file-upload-list-item\", () => ({\n      undo: removed.value\n    }));\n    return { ...useTranslation(),\n      undo,\n      removed,\n      disabled,\n      computedClasses,\n      onBlur,\n      onFocus,\n      removeFile,\n      recoverFile\n    };\n  }\n\n});\n\nconst _hoisted_1 = {\n  class: \"va-file-upload-list-item__content\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"va-file-upload-list-item__name\"\n};\nconst _hoisted_3 = {\n  class: \"va-file-upload-list-item__size\"\n};\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_file_upload_undo = resolveComponent(\"va-file-upload-undo\");\n\n  const _component_va_list_item_section = resolveComponent(\"va-list-item-section\");\n\n  const _component_va_button = resolveComponent(\"va-button\");\n\n  const _component_va_list_item = resolveComponent(\"va-list-item\");\n\n  return openBlock(), createBlock(_component_va_list_item, {\n    class: normalizeClass([\"va-file-upload-list-item\", _ctx.computedClasses]),\n    tabindex: \"-1\",\n    disabled: _ctx.disabled,\n    \"aria-disabled\": _ctx.disabled\n  }, {\n    default: withCtx(() => [_ctx.removed && _ctx.undo ? (openBlock(), createBlock(_component_va_list_item_section, {\n      key: 0\n    }, {\n      default: withCtx(() => [createVNode(_component_va_file_upload_undo, {\n        onRecover: _ctx.recoverFile\n      }, null, 8, [\"onRecover\"])]),\n      _: 1\n    })) : (openBlock(), createBlock(_component_va_list_item_section, {\n      key: 1\n    }, {\n      default: withCtx(() => [createElementVNode(\"div\", _hoisted_1, [_ctx.file && _ctx.file.name ? (openBlock(), createElementBlock(\"div\", _hoisted_2, toDisplayString(_ctx.file && _ctx.file.name), 1)) : createCommentVNode(\"\", true), createElementVNode(\"div\", _hoisted_3, toDisplayString(_ctx.file && _ctx.file.size), 1), !_ctx.disabled ? (openBlock(), createBlock(_component_va_button, {\n        key: 1,\n        flat: \"\",\n        color: \"danger\",\n        icon: \"clear\",\n        class: \"va-file-upload-list-item__delete\",\n        \"aria-label\": _ctx.t(\"removeFile\"),\n        onClick: withModifiers(_ctx.removeFile, [\"stop\"]),\n        onKeydown: [withKeys(withModifiers(_ctx.removeFile, [\"stop\"]), [\"enter\"]), withKeys(withModifiers(_ctx.removeFile, [\"stop\"]), [\"space\"])],\n        onFocus: _ctx.onFocus,\n        onBlur: _ctx.onBlur\n      }, null, 8, [\"aria-label\", \"onClick\", \"onKeydown\", \"onFocus\", \"onBlur\"])) : createCommentVNode(\"\", true)])]),\n      _: 1\n    }))]),\n    _: 1\n  }, 8, [\"class\", \"disabled\", \"aria-disabled\"]);\n}\n\nvar _VaFileUploadListItem = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { _VaFileUploadListItem as _ };\nimport './VaFileUploadListItem.css';","map":{"version":3,"mappings":";;;;;;;;;;;;;AA8CA,MAAMA,0BAA0B,4FAAhC;;AAEA,MAAKC,YAAaC,gBAAa;EAC7BC,MAAM,sBADuB;EAG7BC,YAAY;IACVC,UADU;IAEVC,iBAFU;IAGVC,gBAHU;IAIVC;EAJU,CAHiB;EAU7BC,OAAO,CAAC,QAAD,CAVsB;EAY7BC,OAAO;IACLC,MAAM;MAAEC,MAAMC,MAAR;MAAkDC,SAAS;IAA3D,CADD;IAELC,OAAO;MAAEH,MAAMI,MAAR;MAAgBF,SAAS;IAAzB;EAFF,CAZsB;;EAiB7BG,MAAOP,KAAP,EAAc;IAAEQ;EAAF,CAAd,EAAwB;IAChB;MACJC,IADI;MAEJC,QAFI;MAGJC;IAHI,IAIFC,gBAAgBC,eAAhB,EAAiCvB,uBAAjC,CAJE;IAKA;MAAEwB,OAAF;MAAWC;IAAX,IAAsBC,UAAtB;IACA,gBAAUC,IAAI,KAAJ,CAAV;;IAEN,MAAMC,aAAa,MAAM;;;MACvB,IAAIT,KAAKU,KAAT,EAAgB;QACdC,QAAQD,KAAR,GAAgB,IAAhB;QAEAE,WAAW,MAAM;UACf,IAAID,QAAQD,KAAZ,EAAmB;YACjBX,KAAK,QAAL;YACAY,QAAQD,KAAR,GAAgB,KAAhB;UACF;QAAA,CAJF,EAKG,mBAAaA,KAAb,iBAAsB,CALzB;MAK0B,CAR5B,MASO;QACLX,KAAK,QAAL;QACAY,QAAQD,KAAR,GAAgB,KAAhB;MACF;IAAA,CAbF;;IAgBA,MAAMG,cAAc,MAAM;MAAEF,QAAQD,KAAR,GAAgB,KAAhB;IAAgB,CAA5C;;IAEM,wBAAkBI,OAAO,0BAAP,EAAmC,OAAO;MAChEd,MAAMW,QAAQD;IADkD,CAAP,CAAnC,CAAlB;IAIC,SACL,GAAGK,gBADE;MAELf,IAFK;MAGLW,OAHK;MAILV,QAJK;MAKLe,eALK;MAOLV,MAPK;MAQLD,OARK;MASLI,UATK;MAULI;IAVK;EAYT;;AA5D6B,CAAb,CAAlB;;AApCW;EAAAI,OAAM;AAAN;;;EAC2BA,OAAM;;AAG/B;EAAAA,OAAM;AAAN;;;;;;;;;;;sBAfXC,YAiCeC,uBAjCfD,EAiCe;IAhCbD,OAAKG,eAAC,6BAEEC,KAAeL,eAFjB,CAADI,CAgCQ;IA/BbE,UAAS,IA+BI;IA7BZrB,UAAUoB,aA6BE;IA5BZ,iBAAeA;EA4BH,CAjCfH,EAKkB;IAAAvB,iBAEhB,MAEuB,CAFK0B,gBAAWA,SAAX,IAAWE,aAAvCL,YAEuBM,+BAFvBN,EAEuB;MAAAO;IAAA,CAFvBP,EAEuB;MAAAvB,iBADrB,MAA8C,CAA9C+B,YAA8CC,8BAA9CD,EAAsB;QAAAE,WAASP,KAAWR;MAApB,CAAtBa,EAA0C,IAA1CA,EAA0C,CAA1CA,EAA0C,aAA1CA,CAA8C,CACzBG;MADqBC;IACrB,CAFvBZ,CAA4B,kBAG5BA,YAsBuBM,+BAtBvBN,EAsBuB;MAAAO;IAAA,CAtBvBP,EAsBuB;MAAAvB,iBArBrB,MAoBM,CApBNoC,mBAoBM,KApBNA,cAoBM,CAnBOV,aAAQA,UAAKrC,IAAb,IAAXgD,gCAEM,KAFNC,cAEMC,gBADDb,KAAQ7B,IAAR,IAAQ6B,UAAKrC,IACZkD,CAFND,EACsB,CADtBA,CAAW,IACWE,4BAkBlB,EAhBJJ,mBAEM,KAFNA,cAEMG,gBADDb,aAAQA,UAAKe,IACZF,CAFNH,EACsB,CADtBA,CAgBI,EAfkB,CAGbV,aAHa,IAGbE,aADTL,YAYEmB,oBAZFnB,EAYE;QAAAO;QAVAa,QAUA;QATA1C,OAAM,QASN;QARA2C,MAAK,OAQL;QAPAtB,OAAM,kCAON;QANC,cAAYI,KAACmB,CAAD,CAAC,YAAD,CAMb;QALCC,SAAKC,cAAOrB,KAAUZ,UAAjBiC,EAAiB,QAAjBA,CAKN;QAJCC,WAAO,wBAAatB,KAAUZ,UAAvBiC,EAAuB,QAAvBA,GAAuB,SAAvBE,GAAuBA,uBACVvB,KAAUZ,UADAiC,EACA,QADAA,GACA,SADAE,CAAvB,CAIR;QAFCvC,SAAOgB,YAER;QADCf,QAAMe;MACP,CAZFH,EAWS,IAXTA,EAWS,CAXTA,EAWS,2DAXTA,CAFsB,IAabiB,4BAEL,CApBNJ,CAoBM,CACeF;;IAAA,CAtBvBX,CAH4B,CAEL,CAJP;;EAAA,CALlBA","names":["INJECTION_ERROR_MESSAGE","_sfc_main","defineComponent","name","components","VaListItem","VaListItemSection","VaFileUploadUndo","VaButton","emits","props","file","type","Object","default","color","String","setup","emit","undo","disabled","undoDuration","useStrictInject","VaFileUploadKey","onFocus","onBlur","useFocus","ref","removeFile","value","removed","setTimeout","recoverFile","useBem","useTranslation","computedClasses","class","_createBlock","_component_va_list_item","_normalizeClass","_ctx","tabindex","openBlock","_component_va_list_item_section","key","_createVNode","_component_va_file_upload_undo","onRecover","_withCtx","_","_createElementVNode","_openBlock","_createElementBlock","_toDisplayString","_createCommentVNode","size","_component_va_button","flat","icon","t","onClick","_withModifiers","onKeydown","_withKeys"],"sources":["../../../../../../src/components/va-file-upload/VaFileUploadListItem/VaFileUploadListItem.vue"],"sourcesContent":["<template>\n  <va-list-item\n    class=\"va-file-upload-list-item\"\n    tabindex=\"-1\"\n    :class=\"computedClasses\"\n    :disabled=\"disabled\"\n    :aria-disabled=\"disabled\"\n  >\n    <va-list-item-section v-if=\"removed && undo\">\n      <va-file-upload-undo @recover=\"recoverFile\" />\n    </va-list-item-section>\n    <va-list-item-section v-else>\n      <div class=\"va-file-upload-list-item__content\">\n        <div v-if=\"file && file.name\" class=\"va-file-upload-list-item__name\">\n          {{ file && file.name }}\n        </div>\n        <div class=\"va-file-upload-list-item__size\">\n          {{ file && file.size }}\n        </div>\n        <va-button\n          v-if=\"!disabled\"\n          flat\n          color=\"danger\"\n          icon=\"clear\"\n          class=\"va-file-upload-list-item__delete\"\n          :aria-label=\"t('removeFile')\"\n          @click.stop=\"removeFile\"\n          @keydown.enter.stop=\"removeFile\"\n          @keydown.space.stop=\"removeFile\"\n          @focus=\"onFocus\"\n          @blur=\"onBlur\"\n        />\n      </div>\n    </va-list-item-section>\n  </va-list-item>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, PropType } from 'vue'\n\nimport { useBem, useFocus, useStrictInject, useTranslation } from '../../../composables'\nimport { VaFileUploadKey, ConvertedFile } from '../types'\n\nimport { VaListItem, VaListItemSection, VaButton } from '../../index'\nimport { VaFileUploadUndo } from '../VaFileUploadUndo'\n\nconst INJECTION_ERROR_MESSAGE = 'The VaFileUploadListItem component should be used in the context of VaFileUpload component'\n\nexport default defineComponent({\n  name: 'VaFileUploadListItem',\n\n  components: {\n    VaListItem,\n    VaListItemSection,\n    VaFileUploadUndo,\n    VaButton,\n  },\n\n  emits: ['remove'],\n\n  props: {\n    file: { type: Object as PropType<ConvertedFile | null>, default: null },\n    color: { type: String, default: 'success' },\n  },\n\n  setup (props, { emit }) {\n    const {\n      undo,\n      disabled,\n      undoDuration,\n    } = useStrictInject(VaFileUploadKey, INJECTION_ERROR_MESSAGE)\n    const { onFocus, onBlur } = useFocus()\n    const removed = ref(false)\n\n    const removeFile = () => {\n      if (undo.value) {\n        removed.value = true\n\n        setTimeout(() => {\n          if (removed.value) {\n            emit('remove')\n            removed.value = false\n          }\n        }, undoDuration.value ?? 0)\n      } else {\n        emit('remove')\n        removed.value = false\n      }\n    }\n\n    const recoverFile = () => { removed.value = false }\n\n    const computedClasses = useBem('va-file-upload-list-item', () => ({\n      undo: removed.value,\n    }))\n\n    return {\n      ...useTranslation(),\n      undo,\n      removed,\n      disabled,\n      computedClasses,\n\n      onBlur,\n      onFocus,\n      removeFile,\n      recoverFile,\n    }\n  },\n})\n</script>\n\n<style lang='scss'>\n@import \"../../../styles/resources\";\n@import \"variables\";\n\n.va-file-upload-list-item {\n  background-color: var(--va-file-upload-list-item-background-color);\n  box-shadow: var(--va-file-upload-list-item-box-shadow, var(--va-block-box-shadow));\n  border-radius: var(--va-file-upload-list-item-border-radius, var(--va-block-border-radius));\n  position: relative;\n  line-height: 1.5rem;\n  padding: 1.125rem 0.5rem 1rem 1rem;\n  max-width: 100%;\n  width: 100%;\n\n  & + & {\n    margin-top: 0.5rem;\n  }\n\n  .va-list-item__inner {\n    padding: 0;\n    overflow: hidden;\n  }\n\n  &__content {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  &__name {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    flex-basis: 60%;\n    overflow: hidden;\n  }\n\n  &__size {\n    color: var(--va-file-upload-list-item-size-text-color);\n  }\n\n  &__delete {\n    font-size: 1.5rem;\n    cursor: pointer;\n\n    --va-button-size: 1.5rem;\n  }\n\n  &--undo {\n    overflow: hidden;\n    position: relative;\n\n    .va-list-item-section {\n      padding: 0;\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}