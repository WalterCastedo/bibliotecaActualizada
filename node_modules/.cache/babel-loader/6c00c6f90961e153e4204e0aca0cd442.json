{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { Bar } from 'vue-chartjs';\nimport { Chart as ChartJS, Title, ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js';\nimport { Doughnut } from 'vue-chartjs';\nChartJS.register(Title, ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\nexport const RUTA_SERVIDOR_ALUMNOS = process.env.VUE_APP_RUTA_API_ALUMNOS;\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS;\nexport default {\n  name: \"ListarEstadisticas\",\n  components: {\n    Bar,\n    Doughnut // modalPrestamo,\n    // Loading\n    // CrearLibro,\n    // Carousel,\n    // Slide\n\n  },\n\n  data() {\n    return {\n      subsede: localStorage.getItem(\"idSubsede\"),\n      acceso: localStorage.getItem(\"acceso\"),\n      chartDataL: {\n        labels: [],\n        datasets: [{\n          backgroundColor: ['#41B883', '#E46651', '#00D8FF', '#DD1B16', '#E412351', '#45D8FF', '#aa1B16'],\n          data: []\n        }]\n      },\n      chartDataP: {\n        labels: [],\n        datasets: [{\n          backgroundColor: ['#41B883', '#E46651', '#00D8FF', '#DD1B16', '#E412351', '#45D8FF', '#aa1B16'],\n          data: []\n        }]\n      },\n      totalesL: 0,\n      totalesD: 0,\n      dataBar: {\n        labels: [],\n        datasets: [{\n          backgroundColor: '#33C4FF',\n          label: [],\n          data: []\n        }, {\n          backgroundColor: '#54FF7E',\n          label: [],\n          data: []\n        }]\n      },\n      chartOptions: {\n        maintainAspectRatio: true,\n        responsive: true,\n        plugins: {\n          chartAreaBorder: {\n            borderColor: 'red',\n            borderWidth: 2,\n            borderDash: [5, 5],\n            borderDashOffset: 2\n          }\n        }\n      },\n      chartOptionsBar: {\n        indexAxis: 'y',\n        maintainAspectRatio: true,\n        responsive: true\n      }\n    };\n  },\n\n  async mounted() {\n    await this.consultarCantidad();\n  },\n\n  methods: {\n    consultarCantidad() {\n      fetch(RUTA_SERVIDOR_LIBROS + \"/cantidadLibros/\" + this.subsede).then(respuesta => respuesta.json()).then(datosRespuesta => {\n        if (typeof datosRespuesta[0].success === \"undefined\") {\n          for (let index = 0; index < datosRespuesta[1].length; index++) {\n            if (datosRespuesta[1][index][0] == 'Fisioterapia y Kinesiología') {\n              this.chartDataL.labels.push('Fis. & Kin.' + ' : ' + datosRespuesta[1][index][1]);\n            } else if (datosRespuesta[1][index][0] == 'Bioquímica y farmacia') {\n              this.chartDataL.labels.push('Bio. & Far.' + ' : ' + datosRespuesta[1][index][1]);\n            } else if (datosRespuesta[1][index][0] == 'Ingeniería de sistemas') {\n              this.chartDataL.labels.push('Ing. sistem.' + ' : ' + datosRespuesta[1][index][1]);\n            } else {\n              this.chartDataL.labels.push(datosRespuesta[1][index][0] + ' : ' + datosRespuesta[1][index][1]);\n            }\n\n            this.chartDataL.datasets[0].data.push(datosRespuesta[1][index][1]);\n            this.totalesL += datosRespuesta[1][index][1];\n            this.totalesD += datosRespuesta[2][index][1];\n\n            if (datosRespuesta[1][index][0] == 'Fisioterapia y Kinesiología') {\n              this.dataBar.labels.push('Fis. & Kin.');\n            } else if (datosRespuesta[1][index][0] == 'Bioquímica y farmacia') {\n              this.dataBar.labels.push('Bio. & Far.');\n            } else if (datosRespuesta[1][index][0] == 'Ingeniería de sistemas') {\n              this.dataBar.labels.push('Ing. sistem.');\n            } else {\n              this.dataBar.labels.push(datosRespuesta[1][index][0]);\n            }\n\n            this.dataBar.datasets[0].data.push(datosRespuesta[1][index][1]);\n            this.dataBar.datasets[1].data.push(datosRespuesta[2][index][1]);\n          } // this.data.labels.push(datosRespuesta[1][index][0]+ ' : '+datosRespuesta[1][index][1] )\n\n\n          for (let index = 0; index < datosRespuesta[0].length; index++) {\n            this.chartDataP.labels.push(datosRespuesta[0][index][0] + ' : ' + datosRespuesta[0][index][1]);\n            this.chartDataP.datasets[0].data.push(datosRespuesta[0][index][1]);\n          }\n        }\n\n        this.dataBar.datasets[0].label.push('Libros Totales');\n        this.dataBar.datasets[1].label.push('Libros Disponibles');\n      }).catch(console.log);\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAyCA;AACA;AACA;AACAA;AACA;AACA;AAEA;EACAC,0BADA;EAGAC;IACAC,GADA;IAEAC,QAFA,CAGA;IACA;IACA;IACA;IACA;;EAPA,CAHA;;EAaAC;IACA;MACAC,0CADA;MAEAC,sCAFA;MAGAC;QACAC,UADA;QAEAC;UAAAC;UAAAN;QAAA;MAFA,CAHA;MAOAO;QACAH,UADA;QAEAC;UAAAC;UAAAN;QAAA;MAFA,CAPA;MAYAQ,WAZA;MAaAC,WAbA;MAcAC;QACAN,UADA;QAEAC;UACAC,0BADA;UAEAK,SAFA;UAGAX;QAHA,GAKA;UACAM,0BADA;UAEAK,SAFA;UAGAX;QAHA,CALA;MAFA,CAdA;MA6BAY;QACAC,yBADA;QAEAC,gBAFA;QAGAC;UACAC;YACAC,kBADA;YAEAC,cAFA;YAGAC,kBAHA;YAIAC;UAJA;QADA;MAHA,CA7BA;MAyCAC;QACAC,cADA;QAEAT,yBAFA;QAGAC;MAHA;IAzCA;EAiDA,CA/DA;;EAiEA;IAEA;EAGA,CAtEA;;EAwEAS;IAEAC;MACAC,gEACAC,IADA,CACAC,6BADA,EAEAD,IAFA,CAEAE;QAEA;UAEA;YAEA;cACA;YACA,CAFA,MAGA;cACA;YACA,CAFA,MAGA;cACA;YACA,CAFA,MAGA;cACA;YACA;;YAEA;YAGA;YACA;;YACA;cACA;YACA,CAFA,MAGA;cACA;YACA,CAFA,MAGA;cACA;YACA,CAFA,MAGA;cACA;YACA;;YAIA;YACA;UACA,CAvCA,CAwCA;;;UACA;YACA;YACA;UAEA;QAAA;;QACA;QACA;MAEA,CArDA,EAsDAC,KAtDA,CAsDAC,WAtDA;IAuDA;;EA1DA;AAxEA","names":["ChartJS","name","components","Bar","Doughnut","data","subsede","acceso","chartDataL","labels","datasets","backgroundColor","chartDataP","totalesL","totalesD","dataBar","label","chartOptions","maintainAspectRatio","responsive","plugins","chartAreaBorder","borderColor","borderWidth","borderDash","borderDashOffset","chartOptionsBar","indexAxis","methods","consultarCantidad","fetch","then","respuesta","datosRespuesta","catch","console"],"sourceRoot":"src/components","sources":["ListarEstadisticas.vue"],"sourcesContent":["<template>\n\n    <div class=\"align-items-center \" >\n  \n      <div class=\"row\">\n  \n        <div class=\"col-sm-12 col-md-3\">\n          <div align=\"center\">Libros Fisicos : {{totalesL}}</div>\n          <Doughnut \n          v-if=\"chartDataL.labels.length\"\n          id=\"my-chart-id\"\n          :options=\"chartOptions\"\n          :data=\"chartDataL\"\n          \n          />\n        </div>\n        <div class=\"col-sm-12 col-md-3\">\n          <div align=\"center\">Libros Virtuales</div>\n          <Doughnut \n          v-if=\"chartDataP.labels.length\"\n          id=\"my-chart-id\"\n          :options=\"chartOptions\"\n          :data=\"chartDataP\"\n          \n          />\n        </div>\n      \n        <div  v-if=\"dataBar.datasets[0].data.length\" class=\"col-sm-12 col-md-6\">\n          <div align=\"center\">Libros Totales: {{this.totalesL}} / Disponible: {{this.totalesD}}</div>\n          <Bar\n  \n      :options=\"chartOptionsBar\"\n      :data=\"dataBar\"\n    />\n        </div>\n      </div>\n    </div>\n    </template>\n\n    <script>\n\nimport { Bar } from 'vue-chartjs'\nimport { Chart as ChartJS,Title, ArcElement, Tooltip, Legend,BarElement, CategoryScale, LinearScale } from 'chart.js'\nimport { Doughnut } from 'vue-chartjs'\nChartJS.register(Title, ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale)\nexport const RUTA_SERVIDOR_ALUMNOS = process.env.VUE_APP_RUTA_API_ALUMNOS;\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS;\n\nexport default {\n  name: \"ListarEstadisticas\",\n\n  components: {\n    Bar,\n    Doughnut,\n    // modalPrestamo,\n    // Loading\n    // CrearLibro,\n    // Carousel,\n    // Slide\n  },\n\n  data() {\n    return {\n        subsede:localStorage.getItem(\"idSubsede\"),\n        acceso: localStorage.getItem(\"acceso\"),\n        chartDataL: {\n        labels: [],\n        datasets: [ {backgroundColor: ['#41B883', '#E46651', '#00D8FF', '#DD1B16','#E412351', '#45D8FF', '#aa1B16'], data: [] } ]\n      },\n      chartDataP: {\n        labels: [],\n        datasets: [ {backgroundColor: ['#41B883', '#E46651', '#00D8FF', '#DD1B16','#E412351', '#45D8FF', '#aa1B16'], data: [] } ]\n      },\n\n      totalesL:0,\n      totalesD:0,\n      dataBar:{\n        labels: [],\n        datasets: [{\n          backgroundColor: '#33C4FF',\n        label: [],\n        data:[]\n      },\n      {\n        backgroundColor: '#54FF7E',\n        label: [],\n        data:[]\n      },\n    ],\n      },\n      \n      chartOptions: {\n        maintainAspectRatio: true,\n        responsive: true,\n        plugins: {\n      chartAreaBorder: {\n        borderColor: 'red',\n        borderWidth: 2,\n        borderDash: [5, 5],\n        borderDashOffset: 2,\n      }\n    }\n      },\n      chartOptionsBar: {\n        indexAxis: 'y',\n        maintainAspectRatio: true,\n        responsive: true\n\n      }\n     \n    }\n  },\n  \n  async mounted() {\n   \n   await this.consultarCantidad();\n     \n    \n  },\n\n  methods: {\n\n    consultarCantidad() {\n      fetch(RUTA_SERVIDOR_LIBROS+\"/cantidadLibros/\"+ this.subsede)\n        .then((respuesta) => respuesta.json())\n        .then((datosRespuesta) => {\n          \n          if (typeof datosRespuesta[0].success === \"undefined\") {      \n         \n          for (let index = 0; index < datosRespuesta[1].length; index++) {\n\n            if(datosRespuesta[1][index][0]=='Fisioterapia y Kinesiología'){\n                this.chartDataL.labels.push('Fis. & Kin.' + ' : '+datosRespuesta[1][index][1] )\n            }\n            else if(datosRespuesta[1][index][0]=='Bioquímica y farmacia'){\n                this.chartDataL.labels.push('Bio. & Far.' + ' : '+datosRespuesta[1][index][1] )\n            }\n            else if(datosRespuesta[1][index][0]=='Ingeniería de sistemas'){\n                this.chartDataL.labels.push('Ing. sistem.'+ ' : '+datosRespuesta[1][index][1] )\n            }\n            else{\n                this.chartDataL.labels.push(datosRespuesta[1][index][0]+ ' : '+datosRespuesta[1][index][1] )\n            }\n            \n            this.chartDataL.datasets[0].data.push(datosRespuesta[1][index][1])\n\n\n            this.totalesL+=datosRespuesta[1][index][1]\n            this.totalesD+=datosRespuesta[2][index][1]\n            if(datosRespuesta[1][index][0]=='Fisioterapia y Kinesiología'){\n                this.dataBar.labels.push('Fis. & Kin.' )\n            }\n            else if(datosRespuesta[1][index][0]=='Bioquímica y farmacia'){\n                this.dataBar.labels.push('Bio. & Far.' )\n            }\n            else if(datosRespuesta[1][index][0]=='Ingeniería de sistemas'){\n                this.dataBar.labels.push('Ing. sistem.' )\n            }\n            else{\n                this.dataBar.labels.push(datosRespuesta[1][index][0] )\n            }\n           \n\n\n             this.dataBar.datasets[0].data.push(datosRespuesta[1][index][1] )\n             this.dataBar.datasets[1].data.push(datosRespuesta[2][index][1] )\n          }\n          // this.data.labels.push(datosRespuesta[1][index][0]+ ' : '+datosRespuesta[1][index][1] )\n          for (let index = 0; index < datosRespuesta[0].length; index++) {\n            this.chartDataP.labels.push(datosRespuesta[0][index][0]+ ' : '+datosRespuesta[0][index][1] )\n            this.chartDataP.datasets[0].data.push(datosRespuesta[0][index][1])\n            \n          }}\n            this.dataBar.datasets[0].label.push('Libros Totales');\n            this.dataBar.datasets[1].label.push('Libros Disponibles');\n\n        })\n        .catch(console.log);\n    },\n    \n  }\n\n}\n\n\n\n\n\n    </script>\n"]},"metadata":{},"sourceType":"module"}