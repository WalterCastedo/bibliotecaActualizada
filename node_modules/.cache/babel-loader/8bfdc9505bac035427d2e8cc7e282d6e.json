{"ast":null,"code":"import { defineComponent, shallowRef, ref, computed, resolveComponent, openBlock, createElementBlock, normalizeClass, createElementVNode, withKeys, renderSlot, normalizeProps, guardReactiveProps, mergeProps, createBlock, createCommentVNode, toDisplayString, createVNode, normalizeStyle } from \"vue\";\nimport { p as pick_1 } from \"../../../vendor.js\";\nimport { u as useBem } from \"../../composables/useBem.js\";\nimport { u as useColors } from \"../../composables/useColors.js\";\nimport { u as useComponentPresetProp } from \"../../composables/useComponentPreset.js\";\nimport { u as useResizeObserver } from \"../../composables/useResizeObserver.js\";\nimport { u as useSyncProp } from \"../../composables/useSyncProp.js\";\nimport { u as useTextColor } from \"../../composables/useTextColor.js\";\nimport { a as useAccordionItem } from \"../va-accordion/hooks/useAccordion.js\";\nimport { g as generateUniqueId } from \"../../utils/uuid.js\";\nimport { V as VaIcon } from \"../va-icon/index.js\";\nimport { _ as _export_sfc } from \"../../../plugin-vue_export-helper.js\";\n\nvar VaCollapse_vue_vue_type_style_index_0_lang = /* @__PURE__ */(() => \":root{--va-collapse-transition: all .3s linear;--va-collapse-popout-margin: .5rem -.5rem;--va-collapse-inset-margin: .5rem .5rem;--va-collapse-body-wrapper-transition: all .3s linear;--va-collapse-body-width: 100%;--va-collapse-header-content-display: flex;--va-collapse-header-content-justify-content: space-between;--va-collapse-header-content-cursor: pointer;--va-collapse-header-content-background-color: #f5f8f9;--va-collapse-header-content-box-shadow: var(--va-box-shadow);--va-collapse-header-content-border-radius: .375rem;--va-collapse-header-content-align-items: center;--va-collapse-header-content-padding-top: .75rem;--va-collapse-header-content-padding-bottom: .75rem;--va-collapse-header-content-padding-left: 1rem;--va-collapse-header-content-text-width: 100%;--va-collapse-header-content-text-font-weight: 600;--va-collapse-header-content-icon-min-width: 1.5rem;--va-collapse-header-content-icon-margin-left: .5rem;--va-collapse-header-content-icon-margin-right: .5rem;--va-collapse-header-content-icon-color: var(--va-background-element);--va-collapse-solid-box-shadow: var(--va-box-shadow);--va-collapse-solid-border-radius: .375rem;--va-collapse-solid-header-content-background-color: #f5f8f9;--va-collapse-solid-header-content-box-shadow: none;--va-collapse-solid-header-content-border-radius: .375rem;--va-collapse-solid-header-content-transition: background-color ease-in .3s;--va-collapse-solid-body-border-radius: 0 0 .375rem .375rem;--va-collapse-solid-body-margin-top: 0}.va-collapse{transition:var(--va-collapse-transition, var(--va-swing-transition));font-family:var(--va-font-family)}.va-collapse__body-wrapper{transition:var(--va-collapse-body-wrapper-transition);overflow:hidden}.va-collapse__body{top:0;left:0;width:var(--va-collapse-body-width)}.va-collapse__header{display:var(--va-collapse-header-content-display);justify-content:var(--va-collapse-header-content-justify-content);cursor:var(--va-collapse-header-content-cursor);background-color:var(--va-collapse-header-content-background-color);box-shadow:var(--va-collapse-header-content-box-shadow, var(--va-block-box-shadow));border-radius:var(--va-collapse-header-content-border-radius, var(--va-block-border-radius));align-items:var(--va-collapse-header-content-align-items);padding-top:var(--va-collapse-header-content-padding-top);padding-bottom:var(--va-collapse-header-content-padding-bottom);padding-left:var(--va-collapse-header-content-padding-left)}.va-collapse__header__text{width:var(--va-collapse-header-content-text-width);font-weight:var(--va-collapse-header-content-text-font-weight)}.va-collapse__header__icon{display:flex;justify-content:center;align-items:center;min-width:var(--va-collapse-header-content-icon-min-width);margin-left:var(--va-collapse-header-content-icon-margin-left);margin-right:var(--va-collapse-header-content-icon-margin-right);color:var(--va-collapse-header-content-icon-color)}.va-collapse__header:focus-visible{outline:2px solid var(--va-focus)!important;border-radius:var(--va-collapse-header-content-border-radius)}.va-collapse--solid{box-shadow:var(--va-collapse-solid-box-shadow);border-radius:var(--va-collapse-solid-border-radius)}.va-collapse--solid .va-collapse__header{border-radius:var(--va-collapse-solid-header-content-border-radius, var(--va-block-border-radius));transition:var(--va-collapse-solid-header-content-transition);box-shadow:var(--va-collapse-solid-header-content-box-shadow, var(--va-block-box-shadow));background-color:var(--va-collapse-solid-header-content-background-color)}.va-collapse--solid .va-collapse__body-wrapper{border-radius:var(--va-collapse-solid-border-radius)}.va-collapse--solid .va-collapse__body{border-radius:var(--va-collapse-solid-body-border-radius);margin-top:var(--va-collapse-solid-body-margin-top)}.va-collapse--popout{margin:var(--va-collapse-popout-margin)}.va-collapse--inset{margin:var(--va-collapse-inset-margin)}.va-collapse--flat .va-collapse__header{box-shadow:none;border:0;border-radius:0}.va-collapse--disabled{cursor:default;opacity:.4;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}\\n\")();\n\nconst _sfc_main = defineComponent({\n  name: \"VaCollapse\",\n  components: {\n    VaIcon\n  },\n  props: { ...useComponentPresetProp,\n    modelValue: {\n      type: Boolean,\n      default: void 0\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    header: {\n      type: String,\n      default: \"\"\n    },\n    icon: {\n      type: String,\n      default: \"\"\n    },\n    solid: {\n      type: Boolean,\n      default: false\n    },\n    color: {\n      type: String,\n      default: \"background-element\"\n    },\n    textColor: {\n      type: String,\n      default: \"\"\n    },\n    colorAll: {\n      type: Boolean,\n      default: false\n    },\n    flat: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"update:modelValue\"],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const body = shallowRef();\n    const [computedModelValue] = useSyncProp(\"modelValue\", props, emit, false);\n    const {\n      getColor,\n      getHoverColor\n    } = useColors();\n    const {\n      accordionProps,\n      toggle\n    } = useAccordionItem(computedModelValue);\n    const {\n      textColorComputed\n    } = useTextColor();\n    const bodyHeight = ref();\n    useResizeObserver([body], () => {\n      var _a, _b;\n\n      bodyHeight.value = (_b = (_a = body.value) == null ? void 0 : _a.clientHeight) != null ? _b : 0;\n    });\n    const height = computed(() => computedModelValue.value ? bodyHeight.value : 0);\n\n    const getTransition = () => {\n      const duration = height.value / 1e3 * 0.2;\n      return `${duration > 0.2 ? duration : 0.2}s`;\n    };\n\n    const getBackground = () => {\n      return props.color && props.colorAll ? getHoverColor(getColor(props.color)) : \"\";\n    };\n\n    const uniqueId = computed(generateUniqueId);\n    const headerIdComputed = computed(() => `header-${uniqueId.value}`);\n    const panelIdComputed = computed(() => `panel-${uniqueId.value}`);\n    const tabIndexComputed = computed(() => props.disabled ? -1 : 0);\n    const headerAttributes = computed(() => ({\n      id: headerIdComputed.value,\n      tabindex: tabIndexComputed.value,\n      \"aria-controls\": panelIdComputed.value,\n      \"aria-expanded\": computedModelValue.value,\n      \"aria-disabled\": props.disabled,\n      role: \"button\"\n    }));\n    const computedClasses = useBem(\"va-collapse\", () => ({ ...pick_1(props, [\"disabled\", \"solid\", \"flat\"]),\n      expanded: computedModelValue.value,\n      active: props.solid && computedModelValue.value,\n      popout: !!(accordionProps.value.popout && computedModelValue.value),\n      inset: !!(accordionProps.value.inset && computedModelValue.value)\n    }));\n    return {\n      body,\n      height,\n      toggle,\n      computedModelValue,\n      headerIdComputed,\n      headerAttributes,\n      panelIdComputed,\n      tabIndexComputed,\n      textColorComputed,\n      computedClasses,\n      headerStyle: computed(() => ({\n        paddingLeft: props.icon && 0,\n        color: textColorComputed.value,\n        backgroundColor: props.color ? getColor(props.color) : \"\"\n      })),\n      contentStyle: computed(() => {\n        var _a;\n\n        const hasContent = computedModelValue.value && !!((_a = slots.default) == null ? void 0 : _a.call(slots)[0]);\n        return {\n          visibility: hasContent ? \"visible\" : \"hidden\",\n          height: `${height.value}px`,\n          transitionDuration: getTransition(),\n          background: hasContent ? getBackground() : \"\"\n        };\n      })\n    };\n  }\n\n});\n\nconst _hoisted_1 = {\n  class: \"va-collapse__header__text\"\n};\nconst _hoisted_2 = [\"id\", \"aria-labelledby\"];\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_icon = resolveComponent(\"va-icon\");\n\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([\"va-collapse\", _ctx.computedClasses])\n  }, [createElementVNode(\"div\", {\n    class: \"va-collapse__header-wrapper\",\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.toggle && _ctx.toggle(...args)),\n    onKeydown: [_cache[1] || (_cache[1] = withKeys((...args) => _ctx.toggle && _ctx.toggle(...args), [\"enter\"])), _cache[2] || (_cache[2] = withKeys((...args) => _ctx.toggle && _ctx.toggle(...args), [\"space\"]))]\n  }, [renderSlot(_ctx.$slots, \"header\", normalizeProps(guardReactiveProps({\n    value: _ctx.computedModelValue,\n    bind: _ctx.headerAttributes,\n    attributes: _ctx.headerAttributes\n  })), () => [createElementVNode(\"div\", mergeProps(_ctx.headerAttributes, {\n    class: \"va-collapse__header\",\n    style: _ctx.headerStyle\n  }), [_ctx.icon ? (openBlock(), createBlock(_component_va_icon, {\n    key: 0,\n    class: \"va-collapse__header__icon\",\n    name: _ctx.icon,\n    color: _ctx.textColorComputed\n  }, null, 8, [\"name\", \"color\"])) : createCommentVNode(\"\", true), renderSlot(_ctx.$slots, \"header-content\", normalizeProps(guardReactiveProps({\n    header: _ctx.header\n  })), () => [createElementVNode(\"div\", _hoisted_1, toDisplayString(_ctx.header), 1)]), createVNode(_component_va_icon, {\n    class: \"va-collapse__header__icon\",\n    name: _ctx.computedModelValue ? \"va-arrow-up\" : \"va-arrow-down\",\n    color: _ctx.textColorComputed\n  }, null, 8, [\"name\", \"color\"])], 16)])], 32), createElementVNode(\"div\", {\n    class: \"va-collapse__body-wrapper\",\n    style: normalizeStyle(_ctx.contentStyle)\n  }, [createElementVNode(\"div\", {\n    class: \"va-collapse__body\",\n    ref: \"body\",\n    role: \"region\",\n    id: _ctx.panelIdComputed,\n    \"aria-labelledby\": _ctx.headerIdComputed\n  }, [renderSlot(_ctx.$slots, \"default\")], 8, _hoisted_2)], 4)], 2);\n}\n\nvar _VaCollapse = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { _VaCollapse as _ };\nimport './VaCollapse.css';","map":{"version":3,"mappings":"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","names":["_sfc_main","defineComponent","name","components","VaIcon","props","useComponentPresetProp","modelValue","type","Boolean","default","disabled","header","String","icon","solid","color","textColor","colorAll","flat","emits","setup","emit","slots","body","shallowRef","computedModelValue","useSyncProp","getColor","getHoverColor","useColors","accordionProps","toggle","useAccordionItem","textColorComputed","useTextColor","bodyHeight","ref","useResizeObserver","value","clientHeight","height","computed","getTransition","duration","getBackground","generateUniqueId","headerIdComputed","uniqueId","panelIdComputed","tabIndexComputed","id","tabindex","role","useBem","pick","expanded","active","popout","inset","headerAttributes","computedClasses","headerStyle","paddingLeft","backgroundColor","contentStyle","hasContent","visibility","transitionDuration","background","class","_createElementBlock","_normalizeClass","_ctx","_createElementVNode","onClick","_cache","onKeydown","_withKeys","_renderSlot","_normalizeProps","bind","attributes","_mergeProps","style","_createBlock","_component_va_icon","key","_createCommentVNode","_toDisplayString","_createVNode","_normalizeStyle","_hoisted_2"],"sources":["../../../../../src/components/va-collapse/VaCollapse.vue"],"sourcesContent":["<template>\n  <div class=\"va-collapse\" :class=\"computedClasses\">\n    <div\n      class=\"va-collapse__header-wrapper\"\n      @click=\"toggle\"\n      @keydown.enter=\"toggle\"\n      @keydown.space=\"toggle\"\n    >\n      <slot\n        name=\"header\"\n        v-bind=\"{\n          value: computedModelValue,\n          bind: headerAttributes,\n          attributes: headerAttributes,\n        }\"\n      >\n        <div\n          v-bind=\"headerAttributes\"\n          class=\"va-collapse__header\"\n          :style=\"headerStyle\"\n        >\n          <va-icon\n            v-if=\"icon\"\n            class=\"va-collapse__header__icon\"\n            :name=\"icon\"\n            :color=\"textColorComputed\"\n          />\n          <slot\n            name=\"header-content\"\n            v-bind=\"{ header }\"\n          >\n            <div class=\"va-collapse__header__text\">\n                {{ header }}\n            </div>\n          </slot>\n          <va-icon\n            class=\"va-collapse__header__icon\"\n            :name=\"computedModelValue ? 'va-arrow-up' : 'va-arrow-down'\"\n            :color=\"textColorComputed\"\n          />\n        </div>\n      </slot>\n    </div>\n    <div class=\"va-collapse__body-wrapper\" :style=\"contentStyle\">\n      <div\n        class=\"va-collapse__body\"\n        ref=\"body\"\n        role=\"region\"\n        :id=\"panelIdComputed\"\n        :aria-labelledby=\"headerIdComputed\"\n      >\n        <slot />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, ref, shallowRef } from 'vue'\nimport pick from 'lodash/pick.js'\n\nimport {\n  useColors, useTextColor,\n  useSyncProp,\n  useBem,\n  useResizeObserver,\n  useComponentPresetProp,\n} from '../../composables'\nimport { useAccordionItem } from '../va-accordion/hooks/useAccordion'\n\nimport { generateUniqueId } from '../../utils/uuid'\n\nimport { VaIcon } from '../va-icon'\n\nexport default defineComponent({\n  name: 'VaCollapse',\n  components: {\n    VaIcon,\n  },\n  props: {\n    ...useComponentPresetProp,\n    modelValue: { type: Boolean, default: undefined },\n    disabled: { type: Boolean, default: false },\n    header: { type: String, default: '' },\n    icon: { type: String, default: '' },\n    solid: { type: Boolean, default: false },\n    color: { type: String, default: 'background-element' },\n    textColor: { type: String, default: '' },\n    colorAll: { type: Boolean, default: false },\n    flat: { type: Boolean, default: false },\n  },\n  emits: ['update:modelValue'],\n\n  setup (props, { emit, slots }) {\n    const body = shallowRef<HTMLElement>()\n\n    const [computedModelValue] = useSyncProp('modelValue', props, emit, false)\n\n    const { getColor, getHoverColor } = useColors()\n    const { accordionProps, toggle } = useAccordionItem(computedModelValue)\n\n    const { textColorComputed } = useTextColor()\n\n    const bodyHeight = ref()\n    useResizeObserver([body], () => {\n      bodyHeight.value = body.value?.clientHeight ?? 0\n    })\n\n    const height = computed(() => computedModelValue.value ? bodyHeight.value : 0)\n\n    const getTransition = () => {\n      const duration = height.value / 1000 * 0.2\n      return `${duration > 0.2 ? duration : 0.2}s`\n    }\n\n    const getBackground = () => {\n      return props.color && props.colorAll\n        ? getHoverColor(getColor(props.color))\n        : ''\n    }\n\n    const uniqueId = computed(generateUniqueId)\n    const headerIdComputed = computed(() => `header-${uniqueId.value}`)\n    const panelIdComputed = computed(() => `panel-${uniqueId.value}`)\n    const tabIndexComputed = computed(() => props.disabled ? -1 : 0)\n\n    const headerAttributes = computed(() => ({\n      id: headerIdComputed.value,\n      tabindex: tabIndexComputed.value,\n      'aria-controls': panelIdComputed.value,\n      'aria-expanded': computedModelValue.value,\n      'aria-disabled': props.disabled,\n      role: 'button',\n    }))\n\n    const computedClasses = useBem('va-collapse', () => ({\n      ...pick(props, ['disabled', 'solid', 'flat']),\n      expanded: computedModelValue.value,\n      active: props.solid && computedModelValue.value,\n      popout: !!(accordionProps.value.popout && computedModelValue.value),\n      inset: !!(accordionProps.value.inset && computedModelValue.value),\n    }))\n\n    return {\n      body,\n      height,\n\n      toggle,\n      computedModelValue,\n\n      headerIdComputed,\n      headerAttributes,\n      panelIdComputed,\n      tabIndexComputed,\n\n      textColorComputed,\n      computedClasses,\n\n      headerStyle: computed(() => ({\n        paddingLeft: props.icon && 0,\n        color: textColorComputed.value,\n        backgroundColor: props.color ? getColor(props.color) : '',\n      })),\n\n      contentStyle: computed(() => {\n        const hasContent = computedModelValue.value && !!slots.default?.()[0]\n\n        return {\n          visibility: hasContent ? 'visible' as const : 'hidden' as const,\n          height: `${height.value}px`,\n          transitionDuration: getTransition(),\n          background: hasContent ? getBackground() : '',\n        }\n      }),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-collapse {\n  transition: var(--va-collapse-transition, var(--va-swing-transition));\n  font-family: var(--va-font-family);\n\n  &__body-wrapper {\n    transition: var(--va-collapse-body-wrapper-transition);\n    overflow: hidden;\n  }\n\n  &__body {\n    top: 0;\n    left: 0;\n    width: var(--va-collapse-body-width);\n  }\n\n  &__header {\n    display: var(--va-collapse-header-content-display);\n    justify-content: var(--va-collapse-header-content-justify-content);\n    cursor: var(--va-collapse-header-content-cursor);\n    background-color: var(--va-collapse-header-content-background-color);\n    box-shadow: var(--va-collapse-header-content-box-shadow, var(--va-block-box-shadow));\n    border-radius: var(--va-collapse-header-content-border-radius, var(--va-block-border-radius));\n    align-items: var(--va-collapse-header-content-align-items);\n    padding-top: var(--va-collapse-header-content-padding-top);\n    padding-bottom: var(--va-collapse-header-content-padding-bottom);\n    padding-left: var(--va-collapse-header-content-padding-left);\n\n    &__text {\n      width: var(--va-collapse-header-content-text-width);\n      font-weight: var(--va-collapse-header-content-text-font-weight);\n    }\n\n    &__icon {\n      @include flex-center();\n\n      min-width: var(--va-collapse-header-content-icon-min-width);\n      margin-left: var(--va-collapse-header-content-icon-margin-left);\n      margin-right: var(--va-collapse-header-content-icon-margin-right);\n      color: var(--va-collapse-header-content-icon-color);\n    }\n\n    @include keyboard-focus-outline(var(--va-collapse-header-content-border-radius));\n  }\n\n  &--solid {\n    box-shadow: var(--va-collapse-solid-box-shadow);\n    border-radius: var(--va-collapse-solid-border-radius);\n\n    .va-collapse {\n      &__header {\n        border-radius: var(--va-collapse-solid-header-content-border-radius, var(--va-block-border-radius));\n        transition: var(--va-collapse-solid-header-content-transition);\n        box-shadow: var(--va-collapse-solid-header-content-box-shadow, var(--va-block-box-shadow));\n        background-color: var(--va-collapse-solid-header-content-background-color);\n      }\n\n      &__body-wrapper {\n        border-radius: var(--va-collapse-solid-border-radius);\n      }\n\n      &__body {\n        border-radius: var(--va-collapse-solid-body-border-radius);\n        margin-top: var(--va-collapse-solid-body-margin-top);\n      }\n    }\n  }\n\n  &--popout {\n    margin: var(--va-collapse-popout-margin);\n  }\n\n  &--inset {\n    margin: var(--va-collapse-inset-margin);\n  }\n\n  &--flat {\n    .va-collapse__header {\n      box-shadow: none;\n      border: 0;\n      border-radius: 0;\n    }\n  }\n\n  &--disabled {\n    @include va-disabled();\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}