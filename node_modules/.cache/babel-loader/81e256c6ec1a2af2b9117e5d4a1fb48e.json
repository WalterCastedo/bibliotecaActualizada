{"ast":null,"code":"import { computed } from \"vue\";\nimport { u as useFocus } from \"./useFocus.js\";\nconst useClearableProps = {\n  clearable: {\n    type: Boolean,\n    default: false\n  },\n  clearableIcon: {\n    type: String,\n    default: \"va-clear\"\n  },\n  clearValue: {\n    type: String,\n    default: \"\"\n  }\n};\nconst useClearableEmits = [\"clear\"];\n\nconst useClearable = (props, inputValue, el, hasError) => {\n  const {\n    isFocused,\n    onFocus,\n    onBlur\n  } = useFocus(el);\n  const clearedValues = [null, void 0, props.clearValue];\n  const canBeCleared = computed(() => props.clearable && !props.disabled && !props.readonly && !clearedValues.includes(inputValue.value));\n  const clearIconColor = computed(() => {\n    if (isFocused == null ? void 0 : isFocused.value) {\n      return props.color || \"primary\";\n    }\n\n    if (hasError == null ? void 0 : hasError.value) {\n      return \"danger\";\n    }\n\n    if (props.success) {\n      return \"success\";\n    }\n\n    return \"secondary\";\n  });\n  const clearIconProps = computed(() => ({\n    name: props.clearableIcon,\n    color: clearIconColor.value,\n    size: \"small\"\n  }));\n  return {\n    canBeCleared,\n    clearIconColor,\n    clearIconProps,\n    onFocus,\n    onBlur\n  };\n};\n\nexport { useClearableEmits as a, useClearable as b, useClearableProps as u };","map":{"version":3,"mappings":";;AAcO,MAAMA,oBAAoB;EAC/BC,WAAW;IAAEC,MAAMC,OAAR;IAAiBC,SAAS;EAA1B,CADoB;EAE/BC,eAAe;IAAEH,MAAMI,MAAR;IAAgBF,SAAS;EAAzB,CAFgB;EAG/BG,YAAY;IAAEL,MAAMI,MAAR;IAAgBF,SAAS;EAAzB;AAHmB,CAA1B;AAMM,0BAAoB,CAAC,OAAD,CAApB;;AAEN,MAAMI,eAAe,CAC1BC,KAD0B,EAE1BC,UAF0B,EAG1BC,EAH0B,EAI1BC,QAJ0B,KAKvB;EACH,MAAM;IAAEC,SAAF;IAAaC,OAAb;IAAsBC;EAAtB,IAAiCC,SAASL,EAAT,CAAvC;EAEA,MAAMM,gBAAgB,CAAC,IAAD,EAAO,MAAP,EAAkBR,MAAMF,UAAxB,CAAtB;EAEA,MAAMW,eAAeC,SAAS,MAC5BV,MAAMR,SAAN,IACA,CAACQ,MAAMW,QADP,IAEA,CAACX,MAAMY,QAFP,IAGA,CAACJ,cAAcK,QAAd,CAAuBZ,WAAWa,KAAlC,CAJkB,CAArB;EAOM,uBAAiBJ,SAAS,MAAM;IACpC,IAAIN,uCAAWU,KAAf,EAAsB;MAAE,OAAOd,MAAMe,KAAN,IAAe,SAAtB;IAAgC;;IACxD,IAAIZ,qCAAUW,KAAd,EAAqB;MAAS;IAAS;;IACvC,IAAId,MAAMgB,OAAV,EAAmB;MAAS;IAAU;;IAE/B;EACR,CANsB,CAAjB;EAQA,uBAAiBN,SAAS,OAAO;IACrCO,MAAMjB,MAAMJ,aADyB;IAErCmB,OAAOG,eAAeJ,KAFe;IAGrCK,MAAM;EAH+B,CAAP,CAAT,CAAjB;EAMC;IACLV,YADK;IAELS,cAFK;IAGLE,cAHK;IAILf,OAJK;IAKLC;EALK;AAOT,CAtCO","names":["useClearableProps","clearable","type","Boolean","default","clearableIcon","String","clearValue","useClearable","props","inputValue","el","hasError","isFocused","onFocus","onBlur","useFocus","clearedValues","canBeCleared","computed","disabled","readonly","includes","value","color","success","name","clearIconColor","size","clearIconProps"],"sources":["../../../../src/composables/useClearable.ts"],"sourcesContent":["import { computed, Ref } from 'vue'\n\nimport { useFocus } from './useFocus'\n\ninterface ClearableProps {\n  clearable: boolean\n  clearableIcon: string\n  clearValue: any\n  disabled?: boolean\n  readonly?: boolean\n  success?: boolean\n  color?: string\n}\n\nexport const useClearableProps = {\n  clearable: { type: Boolean, default: false },\n  clearableIcon: { type: String, default: 'va-clear' },\n  clearValue: { type: String, default: '' },\n}\n\nexport const useClearableEmits = ['clear']\n\nexport const useClearable = (\n  props: ClearableProps,\n  inputValue: Ref<any>,\n  el?: Ref<any>,\n  hasError?: Ref<boolean>,\n) => {\n  const { isFocused, onFocus, onBlur } = useFocus(el)\n\n  const clearedValues = [null, undefined, props.clearValue]\n\n  const canBeCleared = computed(() => (\n    props.clearable &&\n    !props.disabled &&\n    !props.readonly &&\n    !clearedValues.includes(inputValue.value)\n  ))\n\n  const clearIconColor = computed(() => {\n    if (isFocused?.value) { return props.color || 'primary' }\n    if (hasError?.value) { return 'danger' }\n    if (props.success) { return 'success' }\n\n    return 'secondary'\n  })\n\n  const clearIconProps = computed(() => ({\n    name: props.clearableIcon,\n    color: clearIconColor.value,\n    size: 'small',\n  }))\n\n  return {\n    canBeCleared,\n    clearIconColor,\n    clearIconProps,\n    onFocus,\n    onBlur,\n  }\n}\n"]},"metadata":{},"sourceType":"module"}