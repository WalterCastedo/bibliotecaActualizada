{"ast":null,"code":"import { defineComponent, shallowRef, toRefs, computed, resolveComponent, openBlock, createBlock, mergeProps, withKeys, withModifiers, createSlots, withCtx, createElementBlock, createCommentVNode, createElementVNode, normalizeStyle, renderSlot, normalizeProps, guardReactiveProps, createVNode } from \"vue\";\nimport { p as pick_1, o as omit_1 } from \"../../../vendor.js\";\nimport { s as safeCSSLength } from \"../../utils/css.js\";\nimport { a as useFocusEmits, u as useFocus } from \"../../composables/useFocus.js\";\nimport { u as useColors } from \"../../composables/useColors.js\";\nimport { u as useComponentPresetProp } from \"../../composables/useComponentPreset.js\";\nimport { u as useEmitProxy } from \"../../composables/useEmitProxy.js\";\nimport { u as useFormProps } from \"../../composables/useForm.js\";\nimport { a as useStatefulProps, b as useStateful } from \"../../composables/useStateful.js\";\nimport { u as useTranslation } from \"../../composables/useTranslation.js\";\nimport { u as useCounterPropsValidation } from \"./hooks/useCounterPropsValidation.js\";\nimport { V as VaButton } from \"../va-button/VaButton.js\";\nimport { _ as _export_sfc } from \"../../../plugin-vue_export-helper.js\";\nimport { V as VaInputWrapper } from \"../va-input/components/VaInputWrapper/VaInputWrapper.js\";\n\nvar VaCounter_vue_vue_type_style_index_0_lang = /* @__PURE__ */(() => \":root{--va-counter-button-inner-padding: 6px;--va-counter-button-outer-padding: 8px}.va-counter{--va-input-wrapper-min-width: none}.va-counter.va-counter--input-square .va-input__container{border-radius:0;border-left:none;border-right:none}.va-counter.va-counter--input-square .va-counter__prepend-wrapper .va-counter__button-decrease{border-top-right-radius:0;border-bottom-right-radius:0}.va-counter.va-counter--input-square .va-counter__prepend-wrapper .va-counter__button-decrease:not(.va-button--square){width:unset}.va-counter.va-counter--input-square .va-counter__prepend-wrapper .va-counter__button-decrease:not(.va-button--square) .va-button__content{padding-right:var(--va-counter-button-inner-padding);padding-left:var(--va-counter-button-outer-padding)}.va-counter.va-counter--input-square .va-counter__append-wrapper .va-counter__button-increase{border-top-left-radius:0;border-bottom-left-radius:0}.va-counter.va-counter--input-square .va-counter__append-wrapper .va-counter__button-increase:not(.va-button--square){width:unset}.va-counter.va-counter--input-square .va-counter__append-wrapper .va-counter__button-increase:not(.va-button--square) .va-button__content{padding-left:var(--va-counter-button-inner-padding);padding-right:var(--va-counter-button-outer-padding)}.va-counter:not(.va-counter--input-square) .va-counter__prepend-wrapper .va-counter__button-decrease .va-button__content,.va-counter:not(.va-counter--input-square) .va-counter__prepend-wrapper .va-counter__button-increase .va-button__content,.va-counter:not(.va-counter--input-square) .va-counter__append-wrapper .va-counter__button-decrease .va-button__content,.va-counter:not(.va-counter--input-square) .va-counter__append-wrapper .va-counter__button-increase .va-button__content{padding:unset}.va-counter .va-counter__content-wrapper{width:100%;display:flex;justify-content:center}.va-counter .va-input__content__input{text-align:center}.va-counter .va-input__content__input::-webkit-outer-spin-button,.va-counter .va-input__content__input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.va-counter .va-input__content__input[type=number]{-moz-appearance:textfield}.va-counter .va-input-wrapper__field{align-items:stretch;padding:0}.va-counter .va-input-wrapper__field .va-input-wrapper__text,.va-counter .va-input-wrapper__field .va-input__container{padding-right:0}.va-counter__prepend-inner,.va-counter__append-inner{display:flex;align-items:stretch;height:100%}\\n\")();\n\nconst {\n  createEmits: createInputEmits,\n  createListeners: createInputListeners\n} = useEmitProxy([\"change\"]);\nconst {\n  createEmits: createFieldEmits,\n  createListeners: createFieldListeners\n} = useEmitProxy([{\n  listen: \"click-prepend\",\n  emit: \"click:decrease-button\"\n}, {\n  listen: \"click-append\",\n  emit: \"click:increase-button\"\n}, {\n  listen: \"click-prepend-inner\",\n  emit: \"click:decrease-icon\"\n}, {\n  listen: \"click-append-inner\",\n  emit: \"click:increase-icon\"\n}]);\n\nconst _sfc_main = defineComponent({\n  name: \"VaCounter\",\n  components: {\n    VaInputWrapper,\n    VaButton\n  },\n  props: { ...useFormProps,\n    ...useStatefulProps,\n    ...useComponentPresetProp,\n    modelValue: {\n      type: [String, Number],\n      default: 0\n    },\n    manualInput: {\n      type: Boolean,\n      default: false\n    },\n    stateful: {\n      type: Boolean,\n      default: false\n    },\n    min: {\n      type: Number,\n      default: void 0\n    },\n    max: {\n      type: Number,\n      default: void 0\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    label: {\n      type: String,\n      default: \"\"\n    },\n    messages: {\n      type: [Array, String],\n      default: () => []\n    },\n    width: {\n      type: [String, Number],\n      default: \"160px\"\n    },\n    color: {\n      type: String,\n      default: \"primary\"\n    },\n    outline: {\n      type: Boolean\n    },\n    bordered: {\n      type: Boolean\n    },\n    increaseIcon: {\n      type: String,\n      default: \"add\"\n    },\n    decreaseIcon: {\n      type: String,\n      default: \"remove\"\n    },\n    buttons: {\n      type: Boolean,\n      default: false\n    },\n    flat: {\n      type: Boolean,\n      default: true\n    },\n    rounded: {\n      type: Boolean,\n      default: false\n    },\n    margins: {\n      type: [String, Number],\n      default: \"4px\"\n    },\n    textColor: {\n      type: String,\n      default: void 0\n    }\n  },\n  emits: [\"update:modelValue\", ...createInputEmits(), ...createFieldEmits(), ...useFocusEmits],\n  inheritAttrs: false,\n\n  setup(props, {\n    emit,\n    attrs\n  }) {\n    const input = shallowRef();\n    const {\n      min,\n      max,\n      step\n    } = toRefs(props);\n    const {\n      isFocused,\n      focus,\n      blur\n    } = useFocus(input, emit);\n    const {\n      valueComputed\n    } = useStateful(props, emit);\n\n    const setCountInput = ({\n      target\n    }) => {\n      valueComputed.value = Number(target == null ? void 0 : target.value);\n    };\n\n    const setCountChange = ({\n      target\n    }) => {\n      calculateCounterValue(Number(target == null ? void 0 : target.value));\n    };\n\n    const getRoundDownWithStep = value => {\n      if (typeof min.value === \"undefined\" || !step.value) {\n        return value;\n      }\n\n      return min.value + step.value * Math.floor((value - min.value) / step.value);\n    };\n\n    const calculateCounterValue = counterValue => {\n      if (typeof min.value !== \"undefined\" && counterValue < min.value) {\n        valueComputed.value = min.value;\n        return;\n      }\n\n      if (max.value && counterValue > max.value) {\n        valueComputed.value = typeof min.value !== \"undefined\" && step.value ? getRoundDownWithStep(max.value) : max.value;\n        return;\n      }\n\n      valueComputed.value = getRoundDownWithStep(counterValue);\n    };\n\n    const isMinReached = computed(() => {\n      if (typeof min.value === \"undefined\") {\n        return false;\n      }\n\n      return Number(valueComputed.value) <= min.value;\n    });\n    const isMaxReached = computed(() => {\n      if (!max.value) {\n        return false;\n      }\n\n      return step.value ? Number(valueComputed.value) > max.value - step.value : Number(valueComputed.value) >= max.value;\n    });\n    const tabIndexComputed = computed(() => props.disabled ? -1 : 0);\n    const isDecreaseActionDisabled = computed(() => isMinReached.value || props.readonly || props.disabled);\n    const isIncreaseActionDisabled = computed(() => isMaxReached.value || props.readonly || props.disabled);\n\n    const decreaseCount = () => {\n      if (isDecreaseActionDisabled.value) {\n        return;\n      }\n\n      calculateCounterValue(Number(valueComputed.value) - step.value);\n    };\n\n    const increaseCount = () => {\n      if (isIncreaseActionDisabled.value) {\n        return;\n      }\n\n      calculateCounterValue(Number(valueComputed.value) + step.value);\n    };\n\n    const {\n      getColor\n    } = useColors();\n    const colorComputed = computed(() => getColor(props.color));\n    const decreaseIconProps = computed(() => ({\n      class: {\n        \"va-counter__icon--inactive\": isDecreaseActionDisabled.value\n      },\n      color: colorComputed.value,\n      icon: props.decreaseIcon,\n      plain: true,\n      disabled: isDecreaseActionDisabled.value,\n      tabindex: -1,\n      ...(!isDecreaseActionDisabled.value && {\n        onClick: decreaseCount\n      })\n    }));\n    const increaseIconProps = computed(() => ({\n      class: {\n        \"va-counter__icon--inactive\": isIncreaseActionDisabled.value\n      },\n      color: colorComputed.value,\n      icon: props.increaseIcon,\n      plain: true,\n      disabled: isIncreaseActionDisabled.value,\n      tabindex: -1,\n      ...(!isIncreaseActionDisabled.value && {\n        onClick: increaseCount\n      })\n    }));\n    const isSquareCorners = computed(() => (typeof props.margins === \"string\" ? parseFloat(props.margins) : props.margins) === 0);\n    const buttonProps = computed(() => ({ ...pick_1(props, [\"rounded\", \"color\", \"textColor\"]),\n      flat: props.flat && !props.outline,\n      outline: props.flat && props.outline\n    }));\n    const decreaseButtonProps = computed(() => ({ ...buttonProps.value,\n      icon: props.decreaseIcon,\n      disabled: isDecreaseActionDisabled.value\n    }));\n    const increaseButtonProps = computed(() => ({ ...buttonProps.value,\n      icon: props.increaseIcon,\n      disabled: isIncreaseActionDisabled.value\n    }));\n    const {\n      t\n    } = useTranslation();\n    const inputAttributesComputed = computed(() => ({\n      tabindex: tabIndexComputed.value,\n      ariaLabel: props.label || t(\"counterValue\"),\n      ariaValuemin: min.value,\n      ariaValuemax: max.value,\n      ...omit_1(attrs, [\"class\", \"style\"]),\n      ...pick_1(props, [\"disabled\", \"min\", \"max\", \"step\"]),\n      readonly: props.readonly || !props.manualInput\n    }));\n    const inputWrapperPropsComputed = computed(() => ({ ...pick_1(props, [\"color\", \"readonly\", \"disabled\", \"messages\", \"label\", \"bordered\", \"outline\"])\n    }));\n    const classComputed = computed(() => [attrs.class, {\n      \"va-counter--input-square\": isSquareCorners.value\n    }]);\n    const styleComputed = computed(() => ({\n      width: safeCSSLength(props.width),\n      ...(attrs.style || {})\n    }));\n    const marginComputed = computed(() => safeCSSLength(props.margins));\n    useCounterPropsValidation(props);\n    return { ...useTranslation(),\n      input,\n      valueComputed,\n      isFocused,\n      fieldListeners: createFieldListeners(emit),\n      inputListeners: createInputListeners(emit),\n      inputAttributesComputed,\n      inputWrapperPropsComputed,\n      setCountInput,\n      setCountChange,\n      decreaseCount,\n      increaseCount,\n      decreaseIconProps,\n      increaseIconProps,\n      decreaseButtonProps,\n      increaseButtonProps,\n      colorComputed,\n      classComputed,\n      styleComputed,\n      marginComputed,\n      focus,\n      blur\n    };\n  }\n\n});\n\nconst _hoisted_1 = {\n  ref: \"input\",\n  tabindex: \"0\",\n  class: \"va-counter__content-wrapper\"\n};\nconst _hoisted_2 = [\"value\"];\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_button = resolveComponent(\"va-button\");\n\n  const _component_va_input_wrapper = resolveComponent(\"va-input-wrapper\");\n\n  return openBlock(), createBlock(_component_va_input_wrapper, mergeProps({\n    class: \"va-counter\"\n  }, { ..._ctx.fieldListeners,\n    ..._ctx.inputWrapperPropsComputed\n  }, {\n    class: _ctx.classComputed,\n    style: _ctx.styleComputed,\n    focused: _ctx.isFocused,\n    onKeydown: [withKeys(withModifiers(_ctx.increaseCount, [\"prevent\"]), [\"up\"]), withKeys(withModifiers(_ctx.decreaseCount, [\"prevent\"]), [\"down\"])]\n  }), createSlots({\n    default: withCtx(() => [!_ctx.$slots.content ? (openBlock(), createElementBlock(\"input\", mergeProps({\n      key: 0,\n      ref: \"input\",\n      class: \"va-input__content__input\",\n      type: \"number\",\n      inputmode: \"decimal\"\n    }, { ..._ctx.inputAttributesComputed,\n      ..._ctx.inputListeners\n    }, {\n      value: _ctx.valueComputed,\n      onInput: _cache[4] || (_cache[4] = (...args) => _ctx.setCountInput && _ctx.setCountInput(...args)),\n      onChange: _cache[5] || (_cache[5] = (...args) => _ctx.setCountChange && _ctx.setCountChange(...args))\n    }), null, 16, _hoisted_2)) : createCommentVNode(\"\", true)]),\n    _: 2\n  }, [_ctx.$props.buttons ? {\n    name: \"prepend\",\n    fn: withCtx(slotScope => [createElementVNode(\"div\", {\n      class: \"va-counter__prepend-wrapper\",\n      style: normalizeStyle({\n        marginRight: _ctx.marginComputed\n      }),\n      onMousedown: _cache[0] || (_cache[0] = withModifiers((...args) => _ctx.focus && _ctx.focus(...args), [\"prevent\"]))\n    }, [renderSlot(_ctx.$slots, \"decreaseAction\", normalizeProps(guardReactiveProps({ ...slotScope,\n      decreaseCount: _ctx.decreaseCount\n    })), () => [createVNode(_component_va_button, mergeProps({\n      class: \"va-counter__button-decrease\",\n      \"aria-label\": _ctx.t(\"decreaseCounter\")\n    }, _ctx.decreaseButtonProps, {\n      onClick: _ctx.decreaseCount\n    }), null, 16, [\"aria-label\", \"onClick\"])])], 36)])\n  } : {\n    name: \"prependInner\",\n    fn: withCtx(slotScope => [createElementVNode(\"div\", {\n      onMousedown: _cache[1] || (_cache[1] = withModifiers((...args) => _ctx.focus && _ctx.focus(...args), [\"prevent\"])),\n      class: \"va-counter__prepend-inner\"\n    }, [renderSlot(_ctx.$slots, \"decreaseAction\", normalizeProps(guardReactiveProps({ ...slotScope,\n      decreaseCount: _ctx.decreaseCount\n    })), () => [createVNode(_component_va_button, normalizeProps(guardReactiveProps(_ctx.decreaseIconProps)), null, 16)])], 32)])\n  }, _ctx.$props.buttons ? {\n    name: \"append\",\n    fn: withCtx(slotScope => [createElementVNode(\"div\", {\n      class: \"va-counter__append-wrapper\",\n      style: normalizeStyle({\n        marginLeft: _ctx.marginComputed\n      }),\n      onMousedown: _cache[2] || (_cache[2] = withModifiers((...args) => _ctx.focus && _ctx.focus(...args), [\"prevent\"]))\n    }, [renderSlot(_ctx.$slots, \"increaseAction\", normalizeProps(guardReactiveProps({ ...slotScope,\n      increaseCount: _ctx.increaseCount\n    })), () => [createVNode(_component_va_button, mergeProps({\n      class: \"va-counter__button-increase\",\n      \"aria-label\": _ctx.t(\"increaseCounter\")\n    }, _ctx.increaseButtonProps, {\n      onClick: _ctx.increaseCount\n    }), null, 16, [\"aria-label\", \"onClick\"])])], 36)])\n  } : {\n    name: \"appendInner\",\n    fn: withCtx(slotScope => [createElementVNode(\"div\", {\n      onMousedown: _cache[3] || (_cache[3] = withModifiers((...args) => _ctx.focus && _ctx.focus(...args), [\"prevent\"])),\n      class: \"va-counter__append-inner\"\n    }, [renderSlot(_ctx.$slots, \"increaseAction\", normalizeProps(guardReactiveProps({ ...slotScope,\n      increaseCount: _ctx.increaseCount\n    })), () => [createVNode(_component_va_button, normalizeProps(guardReactiveProps(_ctx.increaseIconProps)), null, 16)])], 32)])\n  }, _ctx.$slots.content ? {\n    name: \"default\",\n    fn: withCtx(slotScope => [createElementVNode(\"div\", _hoisted_1, [renderSlot(_ctx.$slots, \"content\", normalizeProps(guardReactiveProps({ ...slotScope,\n      value: Number(_ctx.valueComputed)\n    })))], 512)])\n  } : void 0]), 1040, [\"class\", \"style\", \"focused\", \"onKeydown\"]);\n}\n\nvar _VaCounter = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { _VaCounter as _ };\nimport './VaCounter.css';","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;AA8GA,MAAM;EAAEA,aAAaC,gBAAf;EAAiCC,iBAAiBC;AAAlD,IAA2EC,aAC/E,CAAC,QAAD,CAD+E,CAAjF;AAIA,MAAM;EAAEJ,aAAaK,gBAAf;EAAiCH,iBAAiBI;AAAlD,IAA2EF,aAAa,CAC5F;EAAEG,QAAQ,eAAV;EAA2BC,MAAM;AAAjC,CAD4F,EAE5F;EAAED,QAAQ,cAAV;EAA0BC,MAAM;AAAhC,CAF4F,EAG5F;EAAED,QAAQ,qBAAV;EAAiCC,MAAM;AAAvC,CAH4F,EAI5F;EAAED,QAAQ,oBAAV;EAAgCC,MAAM;AAAtC,CAJ4F,CAAb,CAAjF;;AAOA,MAAKC,YAAaC,gBAAa;EAC7BC,MAAM,WADuB;EAG7BC,YAAY;IAAEC,cAAF;IAAkBC;EAAlB,CAHiB;EAK7BC,OAAO,EACL,GAAGC,YADE;IAEL,GAAGC,gBAFE;IAGL,GAAGC,sBAHE;IAKLC,YAAY;MAAEC,MAAM,CAACC,MAAD,EAASC,MAAT,CAAR;MAA0BC,SAAS;IAAnC,CALP;IAMLC,aAAa;MAAEJ,MAAMK,OAAR;MAAiBF,SAAS;IAA1B,CANR;IAOLG,UAAU;MAAEN,MAAMK,OAAR;MAAiBF,SAAS;IAA1B,CAPL;IAQLI,KAAK;MAAEP,MAAME,MAAR;MAAgBC,SAAS;IAAzB,CARA;IASLK,KAAK;MAAER,MAAME,MAAR;MAAgBC,SAAS;IAAzB,CATA;IAULM,MAAM;MAAET,MAAME,MAAR;MAAgBC,SAAS;IAAzB,CAVD;IAWLO,OAAO;MAAEV,MAAMC,MAAR;MAAgBE,SAAS;IAAzB,CAXF;IAaLQ,UAAU;MAAEX,MAAM,CAACY,KAAD,EAAQX,MAAR,CAAR;MAAwDE,SAAS,MAAM;IAAvE,CAbL;IAeLU,OAAO;MAAEb,MAAM,CAACC,MAAD,EAASC,MAAT,CAAR;MAA0BC,SAAS;IAAnC,CAfF;IAgBLW,OAAO;MAAEd,MAAMC,MAAR;MAAgBE,SAAS;IAAzB,CAhBF;IAiBLY,SAAS;MAAEf,MAAMK;IAAR,CAjBJ;IAkBLW,UAAU;MAAEhB,MAAMK;IAAR,CAlBL;IAoBLY,cAAc;MAAEjB,MAAMC,MAAR;MAAgBE,SAAS;IAAzB,CApBT;IAqBLe,cAAc;MAAElB,MAAMC,MAAR;MAAgBE,SAAS;IAAzB,CArBT;IAsBLgB,SAAS;MAAEnB,MAAMK,OAAR;MAAiBF,SAAS;IAA1B,CAtBJ;IAuBLiB,MAAM;MAAEpB,MAAMK,OAAR;MAAiBF,SAAS;IAA1B,CAvBD;IAwBLkB,SAAS;MAAErB,MAAMK,OAAR;MAAiBF,SAAS;IAA1B,CAxBJ;IAyBLmB,SAAS;MAAEtB,MAAM,CAACC,MAAD,EAASC,MAAT,CAAR;MAA0BC,SAAS;IAAnC,CAzBJ;IA0BLoB,WAAW;MAAEvB,MAAMC,MAAR;MAAgBE,SAAS;IAAzB;EA1BN,CALsB;EAkC7BqB,OAAO,CACL,mBADK,EAEL,GAAG3C,kBAFE,EAGL,GAAGI,kBAHE,EAIL,GAAGwC,aAJE,CAlCsB;EAyC7BC,cAAc,KAzCe;;EA2C7BC,MAAOhC,KAAP,EAAc;IAAEP,IAAF;IAAQwC;EAAR,CAAd,EAA+B;IAC7B,MAAMC,QAAQC,YAAd;IACA,MAAM;MAAEvB,GAAF;MAAOC,GAAP;MAAYC;IAAZ,IAAqBsB,OAAOpC,KAAP,CAA3B;IAEM;MACJqC,SADI;MAEJC,KAFI;MAGJC;IAHI,IAIFC,SAASN,KAAT,EAAgBzC,IAAhB,CAJE;IAMN,MAAM;MAAEgD;IAAF,IAAoBC,YAAY1C,KAAZ,EAAmBP,IAAnB,CAA1B;;IAEM,sBAAgB,CAAC;MAAEkD;IAAF,CAAD,KAAuB;MAC7BF,sBAAQlC,OAAQoC,iCAAoCC,KAA5C,CAAR;IAAyD,CADnE;;IAIA,uBAAiB,CAAC;MAAED;IAAF,CAAD,KAAwB;MACvBE,6BAAQF,iCAAoCC,KAA5C;IAAkD,CADpE;;IAIA,6BAAwBA,KAAD,IAAmB;MAC9C,IAAI,OAAOhC,IAAIgC,KAAX,KAAqB,WAArB,IAAoC,CAAC9B,KAAK8B,KAA9C,EAAqD;QAAS;MAAM;;MAI7D,WAAIA,KAAJ,GAAY9B,KAAK8B,KAAL,GAAaE,KAAKC,KAAL,CAAoB,aAAIH,KAAJ,IAAa9B,KAAK8B,KAAtC,CAAzB;IAAoE,CALvE;;IAQA,8BAAyBI,YAAD,IAA0B;MACtD,IAAI,OAAOpC,IAAIgC,KAAX,KAAqB,WAArB,IAAoCI,eAAepC,IAAIgC,KAA3D,EAAkE;QAChEH,cAAcG,KAAd,GAAsBhC,IAAIgC,KAA1B;QACA;MACF;;MAEA,IAAI/B,IAAI+B,KAAJ,IAAcI,eAAenC,IAAI+B,KAArC,EAA6C;QAG7BH,sBAAS,OAAO7B,IAAIgC,KAAX,KAAqB,WAArB,IAAoC9B,KAAK8B,KAAzC,GACnBK,qBAAqBpC,IAAI+B,KAAzB,CADmB,GAEnB/B,IAAI+B,KAFM;QAId;MACF;;MAEcH,sBAAQQ,qBAAqBD,YAArB,CAAR;IAAyC,CAhBnD;;IAmBA,qBAAeE,SAAS,MAAM;MAC9B,WAAOtC,IAAIgC,KAAX,KAAqB,WAArB,EAAkC;QAAS;MAAM;;MAErD,OAAOrC,OAAOkC,cAAcG,KAArB,KAA+BhC,IAAIgC,KAA1C;IACD,CAJoB,CAAf;IAMA,qBAAeM,SAAS,MAAM;MAC9B,KAACrC,IAAI+B,KAAL,EAAY;QAAS;MAAM;;MAE/B,OAAO9B,KAAK8B,KAAL,GACHrC,OAAOkC,cAAcG,KAArB,IAA+B/B,IAAI+B,KAAJ,GAAY9B,KAAK8B,KAD7C,GAEHrC,OAAOkC,cAAcG,KAArB,KAA+B/B,IAAI+B,KAFvC;IAGD,CANoB,CAAf;IAQN,MAAMO,mBAAmBD,SAAS,MAAMlD,MAAMoD,QAAN,GAAiB,EAAjB,GAAsB,CAArC,CAAzB;IAEM,iCAA2BF,SAAS,MACxCG,aAAaT,KAAb,IAAsB5C,MAAMsD,QAA5B,IAAwCtD,MAAMoD,QADf,CAA3B;IAIA,iCAA2BF,SAAS,MACxCK,aAAaX,KAAb,IAAsB5C,MAAMsD,QAA5B,IAAwCtD,MAAMoD,QADf,CAA3B;;IAIN,MAAMI,gBAAgB,MAAM;MAC1B,IAAIC,yBAAyBb,KAA7B,EAAoC;QAAE;MAAO;;MAC7CC,sBAAsBtC,OAAOkC,cAAcG,KAArB,IAA8B9B,KAAK8B,KAAzD;IAA8D,CAFhE;;IAKA,MAAMc,gBAAgB,MAAM;MAC1B,IAAIC,yBAAyBf,KAA7B,EAAoC;QAAE;MAAO;;MAC7CC,sBAAsBtC,OAAOkC,cAAcG,KAArB,IAA8B9B,KAAK8B,KAAzD;IAA8D,CAFhE;;IAKM;MAAEgB;IAAF,IAAeC,WAAf;IACN,MAAMC,gBAAgBZ,SAAS,MAAMU,SAAS5D,MAAMmB,KAAf,CAAf,CAAtB;IAEM,0BAAoB+B,SAAS,OAAO;MACxCa,OAAO;QAAE,8BAA8BN,yBAAyBb;MAAzD,CADiC;MAExCzB,OAAO2C,cAAclB,KAFmB;MAGxCoB,MAAMhE,MAAMuB,YAH4B;MAIxC0C,OAAO,IAJiC;MAKxCb,UAAUK,yBAAyBb,KALK;MAMxCsB,UAAU,EAN8B;MAOxC,IAAI,CAACT,yBAAyBb,KAA1B,IAAmC;QAAEuB,SAASX;MAAX,CAAvC;IAPwC,CAAP,CAAT,CAApB;IAUA,0BAAoBN,SAAS,OAAO;MACxCa,OAAO;QAAE,8BAA8BJ,yBAAyBf;MAAzD,CADiC;MAExCzB,OAAO2C,cAAclB,KAFmB;MAGxCoB,MAAMhE,MAAMsB,YAH4B;MAIxC2C,OAAO,IAJiC;MAKxCb,UAAUO,yBAAyBf,KALK;MAMxCsB,UAAU,EAN8B;MAOxC,IAAI,CAACP,yBAAyBf,KAA1B,IAAmC;QAAEuB,SAAST;MAAX,CAAvC;IAPwC,CAAP,CAAT,CAApB;IAUN,MAAMU,kBAAkBlB,SAAS,MAC9B,QAAOlD,MAAM2B,OAAb,KAAyB,QAAzB,GAAoC0C,WAAWrE,MAAM2B,OAAjB,CAApC,GAAgE3B,MAAM2B,OAAtE,MAAmF,CAD9D,CAAxB;IAIM,oBAAcuB,SAAS,OAAO,EAClC,GAAGoB,OAAKtE,KAALsE,EAAY,CAAC,SAAD,EAAY,OAAZ,EAAqB,WAArB,CAAZA,CAD+B;MAElC7C,MAAMzB,MAAMyB,IAAN,IAAc,CAACzB,MAAMoB,OAFO;MAGlCA,SAASpB,MAAMyB,IAAN,IAAczB,MAAMoB;IAHK,CAAP,CAAT,CAAd;IAMA,4BAAsB8B,SAAS,OAAO,EAC1C,GAAGqB,YAAY3B,KAD2B;MAE1CoB,MAAMhE,MAAMuB,YAF8B;MAG1C6B,UAAUK,yBAAyBb;IAHO,CAAP,CAAT,CAAtB;IAMA,4BAAsBM,SAAS,OAAO,EAC1C,GAAGqB,YAAY3B,KAD2B;MAE1CoB,MAAMhE,MAAMsB,YAF8B;MAG1C8B,UAAUO,yBAAyBf;IAHO,CAAP,CAAT,CAAtB;IAMA;MAAE4B;IAAF,IAAQC,gBAAR;IAEA,gCAA0BvB,SAAS,OAAO;MAC9CgB,UAAUf,iBAAiBP,KADmB;MAE9C8B,WAAW1E,MAAMe,KAAN,IAAeyD,EAAE,cAAF,CAFoB;MAG9CG,cAAc/D,IAAIgC,KAH4B;MAI9CgC,cAAc/D,IAAI+B,KAJ4B;MAK9C,GAAGiC,OAAK5C,KAAL4C,EAAY,CAAC,OAAD,EAAU,OAAV,CAAZA,CAL2C;MAM9C,GAAGP,OAAKtE,KAALsE,EAAY,CAAC,UAAD,EAAa,KAAb,EAAoB,KAApB,EAA2B,MAA3B,CAAZA,CAN2C;MAO9ChB,UAAUtD,MAAMsD,QAAN,IAAkB,CAACtD,MAAMS;IAPW,CAAP,CAAT,CAA1B;IAUA,kCAA4ByC,SAAS,OAAO,EAChD,GAAGoB,OAAKtE,KAALsE,EAAY,CAAC,OAAD,EAAU,UAAV,EAAsB,UAAtB,EAAkC,UAAlC,EAA8C,OAA9C,EAAuD,UAAvD,EAAmE,SAAnE,CAAZA;IAD6C,CAAP,CAAT,CAA5B;IAIA,sBAAgBpB,SAAS,MAAO,CACpCjB,MAAM8B,KAD8B,EAEpC;MAAE,4BAA4BK,gBAAgBxB;IAA9C,CAFoC,CAAhB,CAAhB;IAKA,sBAA2DM,SAAS,OAAO;MAC/EhC,OAAO4D,cAAc9E,MAAMkB,KAApB,CADwE;MAE/E,IAAKe,MAAM8C,KAAN,IAAgD,EAArD;IAF+E,CAAP,CAAT,CAA3D;IAKN,MAAMC,iBAAiB9B,SAAS,MAAM4B,cAAc9E,MAAM2B,OAApB,CAAf,CAAvB;IAEAsD,0BAA0BjF,KAA1B;IAEO,SACL,GAAGyE,gBADE;MAELvC,KAFK;MAGLO,aAHK;MAILJ,SAJK;MAML6C,gBAAgB3F,qBAAqBE,IAArB,CANX;MAOL0F,gBAAgB/F,qBAAqBK,IAArB,CAPX;MAQL2F,uBARK;MASLC,yBATK;MAULC,aAVK;MAWLC,cAXK;MAaL/B,aAbK;MAcLE,aAdK;MAgBL8B,iBAhBK;MAiBLC,iBAjBK;MAkBLC,mBAlBK;MAmBLC,mBAnBK;MAqBL7B,aArBK;MAsBL8B,aAtBK;MAuBLC,aAvBK;MAwBLb,cAxBK;MA0BL1C,KA1BK;MA2BLC;IA3BK;EA6BT;;AApO6B,CAAb,CAAlB;;;EA7DQuD,KAAI;EACJ5B,UAAS;EACTH,OAAM;;;;;;;;;sBA7DZgC,YA8EmBC,2BA9EnBD,aA8EmB;IA7EjBhC,OAAM;EA6EW,CA9EnBkC,EAEe;IAAc,GAAKC,KAAyBb;EAA5C,CAFfY,EAE2D;IACxDlC,OAAOmC,kBADiD;IAExDnB,OAAOmB,kBAFiD;IAGxDC,SAASD,cAH+C;IAIxDE,WAAO,wBAAaF,KAAaxC,aAA1B2C,EAA0B,WAA1BA,GAA0B,MAA1BC,GAA0BA,uBACXJ,KAAa1C,aADF6C,EACE,WADFA,GACE,QADFC,CAA1B;EAJiD,CAF3DL,GAOsCM;qBA4DpC,MAUC,EATQL,KAAOM,MAAP,CAAOC,OASf,IATeC,aADhBC,mBAUC,OAVDA,aAUC;MAAAC;MARCd,KAAI,OAQL;MAPC/B,OAAM,0BAOP;MANC1D,MAAK,QAMN;MALCwG,WAAU;IAKX,CAVDZ,EAMe;MAAuB,GAAKC,KAAcf;IAA1C,CANfc,EAMyD;MACtDrD,OAAOsD,kBAD+C;MAEtDY,SAAKC,OAAE,CAAF,MAAEA,0EAAF,CAFiD;MAGtDC,UAAMD,OAAE,CAAF,MAAEA,4EAAF;IAHgD,CANzDd,GASW,IATXU,EASW,EATXA,EASWM,UATXN,CAUC,IADUO,4BACV,EAtEmC;;EAAA,IAEpBhB,KAAOiB,MAAP,CAAO3F,OAAP,GAAO;IAAU5B,eAAV;IAAUwH,YAASC,SACxC,IADiD,CACjDC,mBAYM,KAZNA,EAYM;MAZDvD,OAAM,6BAYL;MAXHgB,OAAKwC;QAAAA,aAAiBrB,KAAclB;MAA/BuC,EAWF;MAVHC,aAAST,qDAAUb,KAAK5D,KAAL,IAAK4D,mBAAf,EAAe,WAAf;IAUN,CAZNoB,EAE2B,CAEzBG,WAOOvB,KAPkCM,MAAzCiB,EAAyC,gBAAzCA,EAAyCC;MAASlE,eAAE0C;IAAX,GAAzCuB,QAOO,CANLE,YAKEC,oBALFD,aAKE;MAJA5D,OAAM,6BAIN;MAHC,cAAYmC,KAAC1B,CAAD,CAAC,iBAAD;IAGb,CALFyB,EAGUC,wBAHVD,EAG6B;MAC1B9B,SAAO+B,KAAa1C;IADM,CAH7ByC,GAIuB,IAJvB0B,EAIuB,EAJvBA,EAIuB,yBAJvBA,CAMK,CAPPF,CAFyB,CAF3BH,EAS2B,EAT3BA,CADiD,CAAlBO;EAAV,CAAP;IAgBEjI;IAAAwH,YAAcC,SAC9B,IADuC,CACvCC,mBAIM,KAJNA,EAIM;MAJAE,aAAST,qDAAUb,KAAK5D,KAAL,IAAK4D,mBAAf,EAAe,WAAf,EAIT;MAJ0BnC,OAAM;IAIhC,CAJNuD,EAAsC,CACpCG,WAEOvB,KAFkCM,MAAzCiB,EAAyC,gBAAzCA,EAAyCC;MAASlE,eAAE0C;IAAX,GAAzCuB,QAEO,CADLE,YAAwCC,oBAAxCD,EAAwCG,kCAArB5B,KAAiBV,iBAAI,EAAxCmC,EAAoC,IAApCA,EAAoC,EAApCA,CACK,CAFPF,CADoC,CAAtCH,EAEwC,EAFxCA,CADuC,CAAvBO;KAQF3B,KAAOiB,MAAP,CAAO3F,OAAP,GAAO;IAAW5B,cAAX;IAAWwH,YAAQC,SACxC,IADiD,CACjDC,mBAYM,KAZNA,EAYM;MAZDvD,OAAM,4BAYL;MAXHgB,OAAKwC;QAAAA,YAAgBrB,KAAclB;MAA9BuC,EAWF;MAVHC,aAAST,qDAAUb,KAAK5D,KAAL,IAAK4D,mBAAf,EAAe,WAAf;IAUN,CAZNoB,EAE2B,CAEzBG,WAOOvB,KAPkCM,MAAzCiB,EAAyC,gBAAzCA,EAAyCC;MAAShE,eAAEwC;IAAX,GAAzCuB,QAOO,CANLE,YAKEC,oBALFD,aAKE;MAJA5D,OAAM,6BAIN;MAHC,cAAYmC,KAAC1B,CAAD,CAAC,iBAAD;IAGb,CALFyB,EAGUC,wBAHVD,EAG6B;MAC1B9B,SAAO+B,KAAaxC;IADM,CAH7BuC,GAIuB,IAJvB0B,EAIuB,EAJvBA,EAIuB,yBAJvBA,CAMK,CAPPF,CAFyB,CAF3BH,EAS2B,EAT3BA,CADiD,CAAjBO;EAAX,CAAP;IAgBEjI;IAAAwH,YAAaC,SAC7B,IADsC,CACtCC,mBAIM,KAJNA,EAIM;MAJAE,aAAST,qDAAUb,KAAK5D,KAAL,IAAK4D,mBAAf,EAAe,WAAf,EAIT;MAJ0BnC,OAAM;IAIhC,CAJNuD,EAAsC,CACpCG,WAEOvB,KAFkCM,MAAzCiB,EAAyC,gBAAzCA,EAAyCC;MAAShE,eAAEwC;IAAX,GAAzCuB,QAEO,CADLE,YAAwCC,oBAAxCD,EAAwCG,kCAArB5B,KAAiBT,iBAAI,EAAxCkC,EAAoC,IAApCA,EAAoC,EAApCA,CACK,CAFPF,CADoC,CAAtCH,EAEwC,EAFxCA,CADsC,CAAtBO;KAQF3B,KAAOM,MAAP,CAAOC,OAAP,GAAO;IAAU7G,eAAV;IAAUwH,YAASC,SACxC,IADiD,CACjDC,mBAMM,KANNA,cAMM,CADJG,WAA+EvB,WAA/EuB,EAA+E,SAA/EA,EAA+EC,uCAA7CL,SAA6C;MAApCzE,OAASrC,OAAO2F,KAAazD,aAApB;IAA2B,GAA/EgF,CACI,CANNH,EAK0E,GAL1EA,CADiD,CAAlBO;EAAV,CAAP,UAlDoB,CAPtC9B","names":["createEmits","createInputEmits","createListeners","createInputListeners","useEmitProxy","createFieldEmits","createFieldListeners","listen","emit","_sfc_main","defineComponent","name","components","VaInputWrapper","VaButton","props","useFormProps","useStatefulProps","useComponentPresetProp","modelValue","type","String","Number","default","manualInput","Boolean","stateful","min","max","step","label","messages","Array","width","color","outline","bordered","increaseIcon","decreaseIcon","buttons","flat","rounded","margins","textColor","emits","useFocusEmits","inheritAttrs","setup","attrs","input","shallowRef","toRefs","isFocused","focus","blur","useFocus","valueComputed","useStateful","target","value","calculateCounterValue","Math","floor","counterValue","getRoundDownWithStep","computed","tabIndexComputed","disabled","isMinReached","readonly","isMaxReached","decreaseCount","isDecreaseActionDisabled","increaseCount","isIncreaseActionDisabled","getColor","useColors","colorComputed","class","icon","plain","tabindex","onClick","isSquareCorners","parseFloat","pick","buttonProps","t","useTranslation","ariaLabel","ariaValuemin","ariaValuemax","omit","safeCSSLength","style","marginComputed","useCounterPropsValidation","fieldListeners","inputListeners","inputAttributesComputed","inputWrapperPropsComputed","setCountInput","setCountChange","decreaseIconProps","increaseIconProps","decreaseButtonProps","increaseButtonProps","classComputed","styleComputed","ref","_createBlock","_component_va_input_wrapper","_mergeProps","_ctx","focused","onKeydown","_withModifiers","_withKeys","createSlots","$slots","content","_openBlock","_createElementBlock","key","inputmode","onInput","_cache","onChange","_hoisted_2","_createCommentVNode","$props","fn","slotScope","_createElementVNode","_normalizeStyle","onMousedown","_renderSlot","_normalizeProps","_createVNode","_component_va_button","_withCtx","normalizeProps"],"sources":["../../../../../src/components/va-counter/VaCounter.vue"],"sourcesContent":["<template>\n  <va-input-wrapper\n    class=\"va-counter\"\n    v-bind=\"{ ...fieldListeners, ...inputWrapperPropsComputed }\"\n    :class=\"classComputed\"\n    :style=\"styleComputed\"\n    :focused=\"isFocused\"\n    @keydown.up.prevent=\"increaseCount\"\n    @keydown.down.prevent=\"decreaseCount\"\n  >\n    <template v-if=\"$props.buttons\" #prepend=\"slotScope\">\n      <div class=\"va-counter__prepend-wrapper\"\n        :style=\"{ marginRight: marginComputed }\"\n        @mousedown.prevent=\"focus\"\n      >\n        <slot name=\"decreaseAction\" v-bind=\"{ ...slotScope, decreaseCount }\">\n          <va-button\n            class=\"va-counter__button-decrease\"\n            :aria-label=\"t('decreaseCounter')\"\n            v-bind=\"decreaseButtonProps\"\n            @click=\"decreaseCount\"\n          />\n        </slot>\n      </div>\n    </template>\n\n    <template v-else #prependInner=\"slotScope\">\n      <div @mousedown.prevent=\"focus\" class=\"va-counter__prepend-inner\">\n        <slot name=\"decreaseAction\" v-bind=\"{ ...slotScope, decreaseCount }\">\n          <va-button v-bind=\"decreaseIconProps\" />\n        </slot>\n      </div>\n    </template>\n\n    <template v-if=\"$props.buttons\"  #append=\"slotScope\">\n      <div class=\"va-counter__append-wrapper\"\n        :style=\"{ marginLeft: marginComputed }\"\n        @mousedown.prevent=\"focus\"\n      >\n        <slot name=\"increaseAction\" v-bind=\"{ ...slotScope, increaseCount }\">\n          <va-button\n            class=\"va-counter__button-increase\"\n            :aria-label=\"t('increaseCounter')\"\n            v-bind=\"increaseButtonProps\"\n            @click=\"increaseCount\"\n          />\n        </slot>\n      </div>\n    </template>\n\n    <template v-else #appendInner=\"slotScope\">\n      <div @mousedown.prevent=\"focus\" class=\"va-counter__append-inner\">\n        <slot name=\"increaseAction\" v-bind=\"{ ...slotScope, increaseCount }\">\n          <va-button v-bind=\"increaseIconProps\" />\n        </slot>\n      </div>\n    </template>\n\n    <template v-if=\"$slots.content\" #default=\"slotScope\">\n      <div\n        ref=\"input\"\n        tabindex=\"0\"\n        class=\"va-counter__content-wrapper\"\n      >\n        <slot name=\"content\" v-bind=\"{ ...slotScope, value: Number(valueComputed) }\" />\n      </div>\n    </template>\n\n    <input\n      v-if=\"!$slots.content\"\n      ref=\"input\"\n      class=\"va-input__content__input\"\n      type=\"number\"\n      inputmode=\"decimal\"\n      v-bind=\"{ ...inputAttributesComputed, ...inputListeners }\"\n      :value=\"valueComputed\"\n      @input=\"setCountInput\"\n      @change=\"setCountChange\"\n    >\n  </va-input-wrapper>\n</template>\n\n<script lang=\"ts\">\nimport {\n  toRefs,\n  computed,\n  shallowRef,\n  defineComponent,\n  InputHTMLAttributes,\n  PropType,\n  ComputedRef,\n} from 'vue'\nimport omit from 'lodash/omit'\nimport pick from 'lodash/pick'\n\nimport { safeCSSLength } from '../../utils/css'\nimport {\n  useComponentPresetProp,\n  useFormProps,\n  useEmitProxy,\n  useFocus, useFocusEmits,\n  useStateful, useStatefulProps,\n  useColors,\n  useTranslation,\n} from '../../composables'\nimport useCounterPropsValidation from './hooks/useCounterPropsValidation'\n\nimport { VaInputWrapper } from '../va-input'\nimport VaButton from '../va-button/VaButton.vue'\n\nconst { createEmits: createInputEmits, createListeners: createInputListeners } = useEmitProxy(\n  ['change'],\n)\n\nconst { createEmits: createFieldEmits, createListeners: createFieldListeners } = useEmitProxy([\n  { listen: 'click-prepend', emit: 'click:decrease-button' },\n  { listen: 'click-append', emit: 'click:increase-button' },\n  { listen: 'click-prepend-inner', emit: 'click:decrease-icon' },\n  { listen: 'click-append-inner', emit: 'click:increase-icon' },\n])\n\nexport default defineComponent({\n  name: 'VaCounter',\n\n  components: { VaInputWrapper, VaButton },\n\n  props: {\n    ...useFormProps,\n    ...useStatefulProps,\n    ...useComponentPresetProp,\n    // input\n    modelValue: { type: [String, Number], default: 0 },\n    manualInput: { type: Boolean, default: false },\n    stateful: { type: Boolean, default: false },\n    min: { type: Number, default: undefined },\n    max: { type: Number, default: undefined },\n    step: { type: Number, default: 1 },\n    label: { type: String, default: '' },\n    // hint\n    messages: { type: [Array, String] as PropType<string[] | string>, default: () => [] },\n    // style\n    width: { type: [String, Number], default: '160px' },\n    color: { type: String, default: 'primary' },\n    outline: { type: Boolean },\n    bordered: { type: Boolean },\n    // icons & buttons\n    increaseIcon: { type: String, default: 'add' },\n    decreaseIcon: { type: String, default: 'remove' },\n    buttons: { type: Boolean, default: false },\n    flat: { type: Boolean, default: true },\n    rounded: { type: Boolean, default: false },\n    margins: { type: [String, Number], default: '4px' },\n    textColor: { type: String, default: undefined },\n  },\n\n  emits: [\n    'update:modelValue',\n    ...createInputEmits(),\n    ...createFieldEmits(),\n    ...useFocusEmits,\n  ],\n\n  inheritAttrs: false,\n\n  setup (props, { emit, attrs }) {\n    const input = shallowRef<HTMLInputElement | HTMLDivElement>()\n    const { min, max, step } = toRefs(props)\n\n    const {\n      isFocused,\n      focus,\n      blur,\n    } = useFocus(input, emit)\n\n    const { valueComputed } = useStateful(props, emit)\n\n    const setCountInput = ({ target }: Event) => {\n      valueComputed.value = Number((target as HTMLInputElement | null)?.value)\n    }\n\n    const setCountChange = ({ target } : Event) => {\n      calculateCounterValue(Number((target as HTMLInputElement | null)?.value))\n    }\n\n    const getRoundDownWithStep = (value: number) => {\n      if (typeof min.value === 'undefined' || !step.value) { return value }\n\n      // If the user enters a value manually, then we must round it to the nearest valid value,\n      // taking into account the initial value (`props.min`) and the step size (`props.step`)\n      return min.value + step.value * Math.floor((value - min.value) / step.value)\n    }\n\n    const calculateCounterValue = (counterValue: number) => {\n      if (typeof min.value !== 'undefined' && counterValue < min.value) {\n        valueComputed.value = min.value\n        return\n      }\n\n      if (max.value && (counterValue > max.value)) {\n        // since the `props.step` may not be a multiple of `(props.max - props.min)`,\n        // we must round the result taking into account the allowable value\n        valueComputed.value = (typeof min.value !== 'undefined' && step.value)\n          ? getRoundDownWithStep(max.value)\n          : max.value\n\n        return\n      }\n\n      valueComputed.value = getRoundDownWithStep(counterValue)\n    }\n\n    const isMinReached = computed(() => {\n      if (typeof min.value === 'undefined') { return false }\n\n      return Number(valueComputed.value) <= min.value\n    })\n\n    const isMaxReached = computed(() => {\n      if (!max.value) { return false }\n\n      return step.value\n        ? Number(valueComputed.value) > (max.value - step.value)\n        : Number(valueComputed.value) >= max.value\n    })\n\n    const tabIndexComputed = computed(() => props.disabled ? -1 : 0)\n\n    const isDecreaseActionDisabled = computed(() => (\n      isMinReached.value || props.readonly || props.disabled\n    ))\n\n    const isIncreaseActionDisabled = computed(() => (\n      isMaxReached.value || props.readonly || props.disabled\n    ))\n\n    const decreaseCount = () => {\n      if (isDecreaseActionDisabled.value) { return }\n      calculateCounterValue(Number(valueComputed.value) - step.value)\n    }\n\n    const increaseCount = () => {\n      if (isIncreaseActionDisabled.value) { return }\n      calculateCounterValue(Number(valueComputed.value) + step.value)\n    }\n\n    const { getColor } = useColors()\n    const colorComputed = computed(() => getColor(props.color))\n\n    const decreaseIconProps = computed(() => ({\n      class: { 'va-counter__icon--inactive': isDecreaseActionDisabled.value },\n      color: colorComputed.value,\n      icon: props.decreaseIcon,\n      plain: true,\n      disabled: isDecreaseActionDisabled.value,\n      tabindex: -1,\n      ...(!isDecreaseActionDisabled.value && { onClick: decreaseCount }),\n    }))\n\n    const increaseIconProps = computed(() => ({\n      class: { 'va-counter__icon--inactive': isIncreaseActionDisabled.value },\n      color: colorComputed.value,\n      icon: props.increaseIcon,\n      plain: true,\n      disabled: isIncreaseActionDisabled.value,\n      tabindex: -1,\n      ...(!isIncreaseActionDisabled.value && { onClick: increaseCount }),\n    }))\n\n    const isSquareCorners = computed(() => (\n      (typeof props.margins === 'string' ? parseFloat(props.margins) : props.margins) === 0\n    ))\n\n    const buttonProps = computed(() => ({\n      ...pick(props, ['rounded', 'color', 'textColor']),\n      flat: props.flat && !props.outline,\n      outline: props.flat && props.outline,\n    }))\n\n    const decreaseButtonProps = computed(() => ({\n      ...buttonProps.value,\n      icon: props.decreaseIcon,\n      disabled: isDecreaseActionDisabled.value,\n    }))\n\n    const increaseButtonProps = computed(() => ({\n      ...buttonProps.value,\n      icon: props.increaseIcon,\n      disabled: isIncreaseActionDisabled.value,\n    }))\n\n    const { t } = useTranslation()\n\n    const inputAttributesComputed = computed(() => ({\n      tabindex: tabIndexComputed.value,\n      ariaLabel: props.label || t('counterValue'),\n      ariaValuemin: min.value,\n      ariaValuemax: max.value,\n      ...omit(attrs, ['class', 'style']),\n      ...pick(props, ['disabled', 'min', 'max', 'step']),\n      readonly: props.readonly || !props.manualInput,\n    }) as InputHTMLAttributes)\n\n    const inputWrapperPropsComputed = computed(() => ({\n      ...pick(props, ['color', 'readonly', 'disabled', 'messages', 'label', 'bordered', 'outline']),\n    }))\n\n    const classComputed = computed(() => ([\n      attrs.class,\n      { 'va-counter--input-square': isSquareCorners.value },\n    ]))\n\n    const styleComputed: ComputedRef<Partial<CSSStyleDeclaration>> = computed(() => ({\n      width: safeCSSLength(props.width),\n      ...((attrs.style as Partial<CSSStyleDeclaration>) || {}),\n    }))\n\n    const marginComputed = computed(() => safeCSSLength(props.margins))\n\n    useCounterPropsValidation(props)\n\n    return {\n      ...useTranslation(),\n      input,\n      valueComputed,\n      isFocused,\n\n      fieldListeners: createFieldListeners(emit),\n      inputListeners: createInputListeners(emit),\n      inputAttributesComputed,\n      inputWrapperPropsComputed,\n      setCountInput,\n      setCountChange,\n\n      decreaseCount,\n      increaseCount,\n\n      decreaseIconProps,\n      increaseIconProps,\n      decreaseButtonProps,\n      increaseButtonProps,\n\n      colorComputed,\n      classComputed,\n      styleComputed,\n      marginComputed,\n\n      focus,\n      blur,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n\n.va-counter {\n  --va-input-wrapper-min-width: none;\n\n  &.va-counter--input-square {\n    .va-input__container {\n      border-radius: 0;\n      border-left: none;\n      border-right: none;\n    }\n\n    .va-counter__prepend-wrapper {\n      .va-counter__button-decrease {\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n      }\n\n      .va-counter__button-decrease:not(.va-button--square) {\n        width: unset;\n\n        .va-button__content {\n          padding-right: var(--va-counter-button-inner-padding);\n          padding-left: var(--va-counter-button-outer-padding);\n        }\n      }\n    }\n\n    .va-counter__append-wrapper {\n      .va-counter__button-increase {\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n      }\n\n      .va-counter__button-increase:not(.va-button--square) {\n        width: unset;\n\n        .va-button__content {\n          padding-left: var(--va-counter-button-inner-padding);\n          padding-right: var(--va-counter-button-outer-padding);\n        }\n      }\n    }\n  }\n\n  &:not(.va-counter--input-square) {\n    .va-counter__prepend-wrapper,\n    .va-counter__append-wrapper {\n      .va-counter__button-decrease,\n      .va-counter__button-increase {\n        .va-button__content {\n          padding: unset;\n        }\n      }\n    }\n  }\n\n  .va-counter__content-wrapper {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n  }\n\n  .va-input__content__input {\n    text-align: center;\n\n    // Chrome, Safari, Edge, Opera\n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n    // Firefox\n    &[type=number] {\n      -moz-appearance: textfield;\n    }\n  }\n\n  .va-input-wrapper__field {\n    align-items: stretch;\n    padding: 0;\n\n    .va-input-wrapper__text,\n    .va-input__container {\n      padding-right: 0;\n    }\n  }\n\n  &__prepend-inner,\n  &__append-inner {\n    display: flex;\n    align-items: stretch;\n    height: 100%;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}