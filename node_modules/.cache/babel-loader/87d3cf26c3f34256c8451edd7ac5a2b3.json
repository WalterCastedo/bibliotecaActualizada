{"ast":null,"code":"import axios from \"axios\";\nexport const RUTA_SERVIDOR_ALUMNOS = process.env.VUE_APP_RUTA_API_ALUMNOS;\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS;\nimport { jsPDF } from \"jspdf\";\nimport \"jspdf-autotable\";\nexport default {\n  name: \"ListarEmpleados\",\n\n  data() {\n    return {\n      idAdmin: localStorage.getItem('id'),\n      totalTipos: [],\n      nombreTipo: \"\",\n      tipos: [],\n      elementosPorPagina: 10,\n      datosPaginados: [],\n      paginaActual: 1,\n      tipoEditar: {\n        tipo: \"\",\n        id: 0\n      }\n    };\n  },\n\n  created: function () {\n    this.consultarTipos();\n  },\n\n  mounted() {\n    this.ObtenerDatosPag(1);\n  },\n\n  methods: {\n    consultarTipos() {\n      fetch(RUTA_SERVIDOR_LIBROS + \"/tipos\").then(respuesta => respuesta.json()).then(datosRespuesta => {\n        this.libros = [];\n\n        if (typeof datosRespuesta[0].success === \"undefined\") {\n          datosRespuesta.sort((a, b) => {\n            if (a.tipo.toUpperCase() == b.tipo.toUpperCase()) {\n              return 0;\n            }\n\n            if (a.tipo.toUpperCase() > b.tipo.toUpperCase()) {\n              return 1;\n            }\n\n            if (a.tipo.toUpperCase() < b.tipo.toUpperCase()) {\n              return -1;\n            }\n          });\n          this.tipos = datosRespuesta;\n          this.filtrarTipos();\n        }\n      }).catch(console.log);\n    },\n\n    filtrarTipos() {\n      this.totalTipos = [];\n\n      for (let index = 0; index < this.tipos.length; index++) {\n        if (this.tipos[index].activo === 1 && this.tipos[index].tipo.toUpperCase().includes(this.nombreTipo.toUpperCase())) {\n          this.totalTipos = this.totalTipos.concat(this.tipos[index]);\n          this.ObtenerDatosPag(1);\n        }\n      }\n\n      if (this.totalTipos.length === 0) {\n        this.paginaPrevia(); //this.paginaActual=0;\n      }\n    },\n\n    eliminar(tipo) {\n      const confirmacion = window.confirm('¿Estás seguro de que deseas eliminar este tipo de material?');\n\n      if (confirmacion) {\n        axios.put(RUTA_SERVIDOR_LIBROS + \"/tipos/\" + tipo.id, {\n          tipo: tipo.tipo,\n          activo: 0\n        }).then(function (response) {\n          console.log(response);\n          location.reload();\n        }).catch(function (error) {\n          console.log(error); // console.log(this.libro);\n        });\n      }\n    },\n\n    cambiarRegistrosPorPagina() {\n      this.paginaActual = 1;\n      this.ObtenerDatosPag(this.paginaActual);\n    },\n\n    totalPaginas() {\n      if (this.elementosPorPagina === -1) {\n        return 1; // Mostrar todo en una sola página\n      }\n\n      return Math.ceil(this.totalTipos.length / this.elementosPorPagina);\n    },\n\n    ObtenerDatosPag(noPag) {\n      this.paginaActual = noPag;\n      this.datosPaginados = [];\n      let ini = noPag * this.elementosPorPagina - this.elementosPorPagina;\n      let fin = noPag * this.elementosPorPagina;\n      this.datosPaginados = this.totalTipos.slice(ini, fin);\n    },\n\n    paginaPrevia() {\n      if (this.paginaActual > 1) {\n        this.paginaActual--;\n      }\n\n      this.ObtenerDatosPag(this.paginaActual);\n    },\n\n    paginaSiguiente() {\n      if (this.paginaActual < this.totalPaginas()) {\n        this.paginaActual++;\n      }\n\n      this.ObtenerDatosPag(this.paginaActual);\n    },\n\n    activo(noPoag) {\n      return noPoag === this.paginaActual ? \"active\" : \"\";\n    },\n\n    obtenerTipo(idTipo) {\n      this.tipoEditar.tipo = idTipo.tipo;\n      this.tipoEditar.id = idTipo.id;\n    },\n\n    actualizar() {\n      if (this.tipoEditar.tipo.trim() === \"\") {\n        alert('Por favor, el campo de tipo no pueden estar vacio.');\n        return;\n      }\n\n      axios.put(RUTA_SERVIDOR_LIBROS + \"/tipos/\" + this.tipoEditar.id, {\n        tipo: this.tipoEditar.tipo,\n        activo: 1\n      }).then(function (response) {\n        console.log(response);\n        location.reload();\n      }).then(alert(\"El tipo de material bibliotecario se actualizo correctamente\")).catch(function (error) {\n        console.log(error); // console.log(this.libro);\n      });\n    },\n\n    exportarAExcel() {\n      const tabla = document.createElement('table');\n      const tbody = tabla.createTBody(); // Crear una tabla HTML con los datos que deseas exportar\n\n      const cabeceraFila = document.createElement('tr');\n      const cabeceraCelda = document.createElement('th');\n      cabeceraCelda.innerText = 'Tipos de materiales biblotecarios';\n      cabeceraFila.appendChild(cabeceraCelda);\n      tbody.appendChild(cabeceraFila); // Agregar filas de datos a la tabla\n\n      this.datosPaginados.forEach(tipo => {\n        const fila = tbody.insertRow();\n        const nombreCell = fila.insertCell(0); // 0 es la primera columna\n\n        nombreCell.innerText = tipo.tipo;\n      }); // Crear un archivo Blob para la tabla HTML\n\n      const blob = new Blob([tabla.outerHTML], {\n        type: 'application/vnd.ms-excel'\n      }); // Crear un enlace para descargar el archivo Excel\n\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = 'tiposMaterial.xls'; // Simular un clic en el enlace para iniciar la descarga\n\n      link.click();\n    },\n\n    imprimirTipos() {\n      // Crear un nuevo documento PDF\n      var doc = new jsPDF(); // Obtener la tabla visible\n\n      var table = document.querySelector('.tableMb'); //titulo\n\n      doc.setFontSize(16);\n      var title = \"Tipos\";\n      var titleWidth = doc.getStringUnitWidth(title) * doc.internal.getFontSize() / doc.internal.scaleFactor;\n      var pageWidth = doc.internal.pageSize.getWidth();\n      var x = (pageWidth - titleWidth) / 2;\n      doc.text(title, x, 10); // Obtener la tabla visible\n\n      var table = document.querySelector('.tableMb'); // Configurar los estilos de la tabla\n\n      var styles = {\n        overflow: 'linebreak',\n        fontSize: 8,\n        // Tamaño de fuente reducido\n        lineWidth: 0.1,\n        lineColor: [0, 0, 0],\n        // Color de las líneas\n        font: 'helvetica',\n        fontStyle: 'normal',\n        halign: 'center',\n        // Alineación horizontal\n        valign: 'middle',\n        // Alineación vertical\n        cellPadding: 2,\n        tableWidth: 'auto',\n        tableBorder: 1,\n        tableLineColor: [0, 0, 0],\n        // Color del borde de la tabla\n        tableFillColor: [255, 255, 255],\n        // Color de fondo de la tabla\n        textColor: 0,\n        cellWidth: 'auto' // Ajustar el ancho de la celda automáticamente\n\n      }; // Ocultar la última columna (Acción) antes de agregar la tabla al documento PDF\n\n      var actionColumn = table.querySelector('th:last-child, td:last-child');\n\n      if (actionColumn) {\n        actionColumn.style.display = 'none';\n      } // Agregar la tabla al documento PDF\n\n\n      doc.autoTable({\n        html: table,\n        startY: 20,\n        styles\n      }); // Mostrar la última columna nuevamente\n\n      if (actionColumn) {\n        actionColumn.style.display = 'table-cell';\n      } // Guardar el PDF\n\n\n      doc.save('tiposMaterial.pdf');\n    },\n\n    closeModal() {\n      this.$refs.modalCenter.hide();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0HA;AACA;AACA;AACA;AACA;AACA;EACAA,uBADA;;EAEAC;IACA;MACAC,mCADA;MAEAC,cAFA;MAGAC,cAHA;MAIAC,SAJA;MAKAC,sBALA;MAMAC,kBANA;MAOAC,eAPA;MASAC;QACAC,QADA;QAEAC;MAFA;IATA;EAgBA,CAnBA;;EAqBAC;IACA;EACA,CAvBA;;EAwBAC;IACA;EACA,CA1BA;;EA2BAC;IACAC;MACAC,uCACAC,IADA,CACAC,6BADA,EAEAD,IAFA,CAEAE;QACA;;QACA;UACAA;YACA;cACA;YACA;;YACA;cACA;YACA;;YACA;cACA;YACA;UACA,CAVA;UAWA;UACA;QACA;MACA,CAnBA,EAoBAC,KApBA,CAoBAC,WApBA;IAqBA,CAvBA;;IAyBAC;MACA;;MACA;QACA,IACA,kCACA,uBACAC,WADA,GAEAC,QAFA,CAEA,6BAFA,CAFA,EAKA;UACA;UACA;QACA;MACA;;MACA;QACA,oBADA,CAEA;MACA;IACA,CA1CA;;IA4CAC;MACA,oCACA,6DADA;;MAIA;QACAC,MACAC,GADA,CACAC,0CADA,EACA;UACAlB,eADA;UAEAmB;QAFA,CADA,EAKAZ,IALA,CAKA;UACAI;UACAS;QACA,CARA,EASAV,KATA,CASA;UACAC,mBADA,CAEA;QACA,CAZA;MAYA;IACA,CA/DA;;IAgEAU;MACA;MACA;IACA,CAnEA;;IAoEAC;MACA;QACA,SADA,CACA;MACA;;MACA,iBACA,gDADA;IAGA,CA3EA;;IA4EAC;MACA;MACA;MAGA;MACA;MACA;IAEA,CArFA;;IAuFAC;MACA;QACA;MACA;;MACA;IACA,CA5FA;;IA6FAC;MACA;QACA;MACA;;MACA;IACA,CAlGA;;IAmGAN;MACA;IACA,CArGA;;IAuGAO;MACA;MACA;IACA,CA1GA;;IA2GAC;MACA,IACA,kCADA,EAGA;QACAC;QACA;MAAA;;MACAZ,MACAC,GADA,CACAC,qDADA,EACA;QACAlB,0BADA;QAEAmB;MAFA,CADA,EAKAZ,IALA,CAKA;QACAI;QACAS;MACA,CARA,EASAb,IATA,CASAqB,qEATA,EAUAlB,KAVA,CAUA;QACAC,mBADA,CAEA;MACA,CAbA;IAcA,CAhIA;;IAkIAkB;MACA;MACA,kCAFA,CAGA;;MACA;MACA;MACAC;MACAC;MACAC,gCARA,CAUA;;MACA;QACA;QACA,sCAFA,CAEA;;QACAC;MACA,CAJA,EAXA,CAiBA;;MACA;QAAAC;MAAA,GAlBA,CAoBA;;MACA;MACAC;MACAA,oCAvBA,CAyBA;;MACAA;IACA,CA7JA;;IA8JAC;MACA;MACA,sBAFA,CAIA;;MACA,+CALA,CAMA;;MACAC;MACA;MACA;MACA;MACA;MACAA,uBAZA,CAaA;;MACA,+CAdA,CAgBA;;MACA;QACAC,qBADA;QAEAC,WAFA;QAEA;QACAC,cAHA;QAIAC,oBAJA;QAIA;QACAC,iBALA;QAMAC,mBANA;QAOAC,gBAPA;QAOA;QACAC,gBARA;QAQA;QACAC,cATA;QAUAC,kBAVA;QAWAC,cAXA;QAYAC,yBAZA;QAYA;QACAC,+BAbA;QAaA;QACAC,YAdA;QAeAC,iBAfA,CAeA;;MAfA,EAjBA,CAmCA;;MACA;;MACA;QACAC;MACA,CAvCA,CAyCA;;;MACAhB;QAAAiB;QAAAC;QAAAC;MAAA,GA1CA,CA4CA;;MACA;QACAH;MACA,CA/CA,CAiDA;;;MACAhB;IACA,CAjNA;;IAiNAoB;MACA;IACA;;EAnNA;AA3BA","names":["name","data","idAdmin","totalTipos","nombreTipo","tipos","elementosPorPagina","datosPaginados","paginaActual","tipoEditar","tipo","id","created","mounted","methods","consultarTipos","fetch","then","respuesta","datosRespuesta","catch","console","filtrarTipos","toUpperCase","includes","eliminar","axios","put","RUTA_SERVIDOR_LIBROS","activo","location","cambiarRegistrosPorPagina","totalPaginas","ObtenerDatosPag","paginaPrevia","paginaSiguiente","obtenerTipo","actualizar","alert","exportarAExcel","cabeceraCelda","cabeceraFila","tbody","nombreCell","type","link","imprimirTipos","doc","overflow","fontSize","lineWidth","lineColor","font","fontStyle","halign","valign","cellPadding","tableWidth","tableBorder","tableLineColor","tableFillColor","textColor","cellWidth","actionColumn","html","startY","styles","closeModal"],"sourceRoot":"src/components","sources":["ListarTipos.vue"],"sourcesContent":["<template class=\"fondo\">\n  <div class=\"row align-items-center\">\n    <div class=\"col\">\n      <div class=\" align-items-center\">\n        <div class=\"form-group text-center\">\n          <label for=\"\">Ingresa el nombre del administrador</label>\n          <input\n            v-on:keyup=\"filtrarTipos()\"\n            v-model=\"nombreTipo\"\n            type=\"text\"\n            class=\"form-control text-center\"\n            placeholder=\"Tipo de material\"\n          />\n        </div>\n        <label>Registros por página</label>\n    <select v-model=\"elementosPorPagina\" @change=\"cambiarRegistrosPorPagina\">\n      <option value=\"5\" selected>5</option>\n      <option value=\"10\">10</option>\n      <option value=\"20\">20</option>\n      <option value=\"999999\">Todos</option>\n    </select>\n    <button\n      type=\"button\"\n      class=\"btn\"\n      @click=\"imprimirTipos()\"\n    >\n    <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAChklEQVR4nO2Z22vTcBTH+08UrcpASE1SrQ1ug9i5sU1l4pQpE2XTubeBoOANxSdFUcELClNURGhZH0TFMh+com4Im+iDQ0HmEPVBENKbcfSS3tav/H5j6VYzy1zSVsmBz0M5/NJPT8/v5JfWYjGjROFkWafLzvXojcA4dugq6mK4g4KdhyEw3IV/Q9TOw8VwF3UXvSNUYaB6yYIY9t6G/8QhrF3B5WXt/HldRUdqbJBE64JIjY4gfvcWBqttcM+UZfhLFSkqiVZ9ZY0UlfSUNVpU0pAVGP5yRYpKmrLcybKLKk8fINzV9Bsvt9WhlnVMyw6VXfRPsblxQ2WIBltXIrR9zZy0OCqkolIRWljWFIVZ0fmE2aOiuZl4dTyFO9ZBedGvEvNdQ6i9Rt1UyjO/mks88mHi9H4E6peq+fDe5lnrCfLxbv3H0499bfQuQm6FRCTzdRy5eBSh9lqax2QWqbfDSPi9SL56jlxSQebTBwQ3sTQvH+mcWv/4Hl1PkA93GCcaahPoa1KtbOA7Yp4rqujEmQP5Cu5yY1KOQHlyf5ZocKPd2IFfKCq5FyH77QvivuuaopJoRbT3FHKpJP1Q06JkfaB5OYVcwzDRmPcqojfOIvV6EMikae/NJSof65qq4pZVqujMCHfWGyea+TyG9Md3dDNEelpVKWhV9OY55JQEpDqbKkquE+leTwk0LCvBV18ACkSJSC76Ewm/p8w9qiGaHhullU6/f0PbgpxDaS+WUjS0U6SjR+uNCImHHponxPp6IR/dA8m9OD8Fdjcg0d+HQGOVecyDeXAWzRO+1XxmEhY6nvT42XGgCE16zNESM/R/ijoN+rPBVYTVDLt1XqJmWP4ufgGVhSpkgRcCwgAAAABJRU5ErkJggg==\">  </button> \n     <button\n      type=\"button\"\n      class=\"btn\"\n      @click=\"exportarAExcel()\"\n    >\n    <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTUlEQVR4nO2ZW0sUYRjH5xvkRcieRnfNPZhtuTNBalgNaemaRUWQ6a5p2slq14Uyd6edGTpQKBFhRQXiTV0pXnQhEmLuTF/E+h7/eN+VocBK2Tks8v7hf/E+8w48v3kON8NxTExMu1/id61X1NWfoqGhUtc+Tc45DiDo2g8rkieukSXUFKTnjgKIFiVvAjgNIdoB4CSEaBeA7BCErQCyAxC2A8g2QzgCINsI4RiAbBOElQB7n3T/F2JPQVKrFqBpKbMtiNoXfXNVCbATcwxgU6wCBmuhyrRrW2jfs0vgJ07hwMIEPTd/Gqfn2MdRxBey4DOd2D9/8493Di7lUD/VC//YMfivH0d45op7APHFLDypVgQLfRB0FYG7J2liiVUZzZ/vwDN4BLH3I+Z9csc32kEdfTOE6OwQwi8H3F2jDdoFChGe6acJN83fKFdjC4CWr3ka4zNdENaK7rcQTWolD+9wO4Won0ya8a0AiEm1SNw31oHI6xTEkuIuwKEvD+BJt8Gbbit/2ZL6TwBxXaEx/60T9HlIPusigK6i7n4PfMNHEZlNlxN+e/XvAOtK2WQevhURuC3Bm2qls+EKQOzDNZpk5NWgOcQEJrEyZQLU5U4jpJ2nJpspMC6hcbofjdOXaeX4bJdLFSgpCBXPIZg/g8TaI3ONBieTiL4bQXwxR2fid5MVSoaerFf+XicaHl9Ey/JDd2fATnMMYFOsAgZrocrEWshgLVSZWAsZrIWq5xfTdi0Y6gZnlQ7rWo+TEIKhbiRKSrdlAExMTFzV6hfz8wpqDZBppQAAAABJRU5ErkJggg==\">\n    </button>\n<br>\n<nav aria-label=\"Page navigation example\" class=\"pagination-nav\">\n      <ul class=\"pagination\">\n        <li class=\"page-item\" v-on:click=\"paginaPrevia()\">\n          <a class=\"page-link\" href=\"#\">anterior</a>\n        </li>\n        <li\n          v-for=\"paginaE in totalPaginas()\"\n          :key=\"paginaE\"\n          class=\"page-item\"\n          v-bind:class=\"activo(paginaE)\"\n        >\n          <a class=\"page-link\" href=\"#\" v-on:click=\"ObtenerDatosPag(paginaE)\">{{\n            paginaE\n          }}</a>\n        </li>\n        <li class=\"page-item\" v-on:click=\"paginaSiguiente()\">\n          <a class=\"page-link\" href=\"#\">siguiente</a>\n        </li>\n      </ul>\n    </nav>\n        <div class=\" d-md-block table-responsive table-sm small \">\n          <table class=\"table table-striped border text-center tableMb\">\n            <thead>\n              <tr>\n                <!-- <th>ID</th> -->\n                <th>Tipo de material biblotecario</th>\n                <th>ACCIONES</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"tipo in datosPaginados\" :key=\"tipo.id\">\n                <td>{{ tipo.tipo }}</td>\n                <td>\n                  <div class=\"btn-group\" role=\"group\" aria-label=\"\">\n                  \n                   <button\n                      v-b-modal.modal-center\n                      @click=\"obtenerTipo(tipo)\"\n                      class=\"btn btn-info\"\n                    >\n                    <font-awesome-icon icon=\"fa-solid fa-pen-to-square\" />\n                    </button>\n          \n                    <button\n                      type=\"button\"\n                      @click=\"eliminar(tipo)\"\n                      class=\"btn btn-danger\"\n                    >\n                    <font-awesome-icon icon=\"fa-solid fa-trash-can\"  />\n                    </button>\n                    \n                    \n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n\n \n\n    <b-modal id=\"modal-center\" ref=\"modalCenter\" centered title=\"Modificar Tipo\" hide-footer hide-close-button> \n      <template #modal-title>\n    <button @click=\"closeModal\" class=\"btn btn-sm btn-danger close-button\">X</button>\n    <h5 class=\"modal-title\">Modificar Tipo</h5>\n      </template>\n    <div class=\"form-group d-flex flex-column \">\n        <label for=\"\">Tipo de material biblotecario</label>\n        <input\n          v-model=\"tipoEditar.tipo\"\n          type=\"text\"\n          name=\"\"\n          id=\"nombre\"\n          class=\"form-control\"\n          placeholder=\"Tipo\"\n          aria-describedby=\"helpId\"\n        />\n        <br>\n        <button class=\"btn align-items-center btn-info\" @click=\"actualizar()\">Actualizar datos</button>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport const RUTA_SERVIDOR_ALUMNOS = process.env.VUE_APP_RUTA_API_ALUMNOS;\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS;\nimport { jsPDF } from \"jspdf\";\nimport \"jspdf-autotable\";\nexport default {\n  name: \"ListarEmpleados\",\n  data() {\n    return {\n      idAdmin:localStorage.getItem('id'),\n      totalTipos: [],\n      nombreTipo: \"\",\n      tipos: [],\n      elementosPorPagina: 10,\n      datosPaginados: [],\n      paginaActual: 1,\n      \n      tipoEditar: {\n        tipo: \"\",\n        id: 0,\n        \n      },\n    \n    };\n  },\n\n  created: function () {\n    this.consultarTipos();\n  },\n  mounted() {\n    this.ObtenerDatosPag(1);\n  },\n  methods: {\n    consultarTipos() {\n      fetch(RUTA_SERVIDOR_LIBROS+\"/tipos\")\n        .then((respuesta) => respuesta.json())\n        .then((datosRespuesta) => {\n          this.libros = [];\n          if (typeof datosRespuesta[0].success === \"undefined\") {\n            datosRespuesta.sort((a, b) => {\n              if (a.tipo.toUpperCase() == b.tipo.toUpperCase()) {\n                return 0;\n              }\n              if (a.tipo.toUpperCase() > b.tipo.toUpperCase()) {\n                return 1;\n              }\n              if (a.tipo.toUpperCase() < b.tipo.toUpperCase()) {\n                return -1;\n              }\n            });\n            this.tipos = datosRespuesta;\n            this.filtrarTipos();\n          }\n        })\n        .catch(console.log);\n    },\n\n    filtrarTipos() {\n      this.totalTipos = [];\n      for (let index = 0; index < this.tipos.length; index++) {\n        if (\n          this.tipos[index].activo === 1 &&\n          this.tipos[index].tipo\n            .toUpperCase()\n            .includes(this.nombreTipo.toUpperCase())\n        ) {\n          this.totalTipos = this.totalTipos.concat(this.tipos[index]);\n          this.ObtenerDatosPag(1);\n        }\n      }\n      if (this.totalTipos.length === 0) {\n        this.paginaPrevia();\n        //this.paginaActual=0;\n      }\n    },\n\n    eliminar(tipo) {\n      const confirmacion = window.confirm(\n    '¿Estás seguro de que deseas eliminar este tipo de material?'\n  );\n\n  if (confirmacion) {\n      axios\n        .put(RUTA_SERVIDOR_LIBROS+\"/tipos/\" + tipo.id, {\n          tipo: tipo.tipo,\n          activo: 0,\n        })\n        .then(function (response) {\n          console.log(response);\n          location.reload();\n        })\n        .catch(function (error) {\n          console.log(error);\n          // console.log(this.libro);\n        });}\n    },\n    cambiarRegistrosPorPagina() {\n      this.paginaActual=1\n      this.ObtenerDatosPag(this.paginaActual);\n    },\n    totalPaginas() {\n      if (this.elementosPorPagina === -1) {\n        return 1; // Mostrar todo en una sola página\n      }\n      return Math.ceil(\n        this.totalTipos.length / this.elementosPorPagina\n      );\n    },\n    ObtenerDatosPag(noPag) {\n  this.paginaActual = noPag;\n  this.datosPaginados = [];\n\n \n    let ini = noPag * this.elementosPorPagina - this.elementosPorPagina;\n    let fin = noPag * this.elementosPorPagina;\n    this.datosPaginados = this.totalTipos.slice(ini, fin);\n  \n},\n\n    paginaPrevia() {\n      if (this.paginaActual > 1) {\n        this.paginaActual--;\n      }\n      this.ObtenerDatosPag(this.paginaActual);\n    },\n    paginaSiguiente() {\n      if (this.paginaActual < this.totalPaginas()) {\n        this.paginaActual++;\n      }\n      this.ObtenerDatosPag(this.paginaActual);\n    },\n    activo(noPoag) {\n      return noPoag === this.paginaActual ? \"active\" : \"\";\n    },\n\n    obtenerTipo(idTipo) {\n      this.tipoEditar.tipo = idTipo.tipo;\n      this.tipoEditar.id = idTipo.id;\n    },\n    actualizar() {\n       if (\n        this.tipoEditar.tipo.trim() === \"\" \n  \n  ) {\n    alert('Por favor, el campo de tipo no pueden estar vacio.');\n    return}\n      axios\n        .put(RUTA_SERVIDOR_LIBROS+\"/tipos/\" + this.tipoEditar.id, {\n          tipo: this.tipoEditar.tipo,\n          activo: 1,\n        })\n        .then(function (response) {\n          console.log(response);\n          location.reload();\n        })\n        .then(alert(\"El tipo de material bibliotecario se actualizo correctamente\"))\n        .catch(function (error) {\n          console.log(error);\n          // console.log(this.libro);\n        });\n    },\n\n    exportarAExcel() {\n      const tabla = document.createElement('table');\n  const tbody = tabla.createTBody();\n  // Crear una tabla HTML con los datos que deseas exportar\n  const cabeceraFila = document.createElement('tr');\n  const cabeceraCelda = document.createElement('th');\n  cabeceraCelda.innerText = 'Tipos de materiales biblotecarios';\n  cabeceraFila.appendChild(cabeceraCelda);\n  tbody.appendChild(cabeceraFila);\n\n  // Agregar filas de datos a la tabla\n  this.datosPaginados.forEach(tipo => {\n    const fila = tbody.insertRow();\n    const nombreCell = fila.insertCell(0); // 0 es la primera columna\n    nombreCell.innerText = tipo.tipo;\n  });\n\n  // Crear un archivo Blob para la tabla HTML\n  const blob = new Blob([tabla.outerHTML], { type: 'application/vnd.ms-excel' });\n\n  // Crear un enlace para descargar el archivo Excel\n  const link = document.createElement('a');\n  link.href = URL.createObjectURL(blob);\n  link.download = 'tiposMaterial.xls';\n\n  // Simular un clic en el enlace para iniciar la descarga\n  link.click();\n},\nimprimirTipos() {\n  // Crear un nuevo documento PDF\n  var doc = new jsPDF();\n\n  // Obtener la tabla visible\n  var table = document.querySelector('.tableMb');\n//titulo\ndoc.setFontSize(16);\n  var title = \"Tipos\";\n  var titleWidth = doc.getStringUnitWidth(title) * doc.internal.getFontSize() / doc.internal.scaleFactor;\n  var pageWidth = doc.internal.pageSize.getWidth();\n  var x = (pageWidth - titleWidth) / 2;\n  doc.text(title, x, 10);\n  // Obtener la tabla visible\n  var table = document.querySelector('.tableMb');\n\n  // Configurar los estilos de la tabla\n  var styles = {\n    overflow: 'linebreak',\n    fontSize: 8, // Tamaño de fuente reducido\n    lineWidth: 0.1,\n    lineColor: [0, 0, 0], // Color de las líneas\n    font: 'helvetica',\n    fontStyle: 'normal',\n    halign: 'center', // Alineación horizontal\n    valign: 'middle', // Alineación vertical\n    cellPadding: 2,\n    tableWidth: 'auto',\n    tableBorder: 1,\n    tableLineColor: [0, 0, 0], // Color del borde de la tabla\n    tableFillColor: [255, 255, 255], // Color de fondo de la tabla\n    textColor: 0,\n    cellWidth: 'auto', // Ajustar el ancho de la celda automáticamente\n  };\n\n  // Ocultar la última columna (Acción) antes de agregar la tabla al documento PDF\n  var actionColumn = table.querySelector('th:last-child, td:last-child');\n  if (actionColumn) {\n    actionColumn.style.display = 'none';\n  }\n\n  // Agregar la tabla al documento PDF\n  doc.autoTable({ html: table, startY: 20, styles });\n\n  // Mostrar la última columna nuevamente\n  if (actionColumn) {\n    actionColumn.style.display = 'table-cell';\n  }\n\n  // Guardar el PDF\n  doc.save('tiposMaterial.pdf');\n},closeModal() {\n      this.$refs.modalCenter.hide();\n    },\n\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}