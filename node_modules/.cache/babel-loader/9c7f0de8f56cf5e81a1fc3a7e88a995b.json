{"ast":null,"code":"import { defineComponent, ref, computed, onMounted, useCssVars, resolveComponent, openBlock, createElementBlock, Fragment, createVNode, createElementVNode, normalizeClass, toDisplayString, withCtx, createTextVNode } from \"vue\";\nimport { u as useBem } from \"../../../composables/useBem.js\";\nimport { u as useStrictInject } from \"../../../composables/useStrictInject.js\";\nimport { V as VaFileUploadKey } from \"../types.js\";\nimport { V as VaButton } from \"../../va-button/index.js\";\nimport { V as VaProgressBar } from \"../../va-progress-bar/index.js\";\nimport { _ as _export_sfc } from \"../../../../plugin-vue_export-helper.js\";\n\nvar VaFileUploadUndo_vue_vue_type_style_index_0_lang = /* @__PURE__ */(() => \":root{--va-file-upload-undo-button-line-height: 1.1428;--va-file-upload-undo-button-margin-top: 0;--va-file-upload-undo-button-margin-bottom: 0;--va-file-upload-undo-margin-left: .5rem}.va-file-upload-undo-progress-bar{position:absolute;top:0;left:0;--va-progress-bar-transition: width var(--35ceb3fe) linear}.va-file-upload-undo{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.va-file-upload-undo__button{line-height:var(--va-file-upload-undo-button-line-height);margin-left:var(--va-file-upload-undo-margin-left);margin-top:var(--va-file-upload-undo-button-margin-top);margin-bottom:var(--va-file-upload-undo-button-margin-bottom)}.va-file-upload-undo--vertical{justify-content:center;align-items:center;align-content:center;padding:var(--va-file-upload-undo-padding)}.va-file-upload-undo--vertical .va-file-upload-undo__text{margin:1rem 0 0;text-align:center}.va-file-upload-undo--vertical .va-file-upload-undo__button{margin:1rem 0 0}\\n\")();\n\nconst INJECTION_ERROR_MESSAGE = \"The VaFileUploadUndo component should be used in the context of VaFileUpload component\";\n\nconst __default__ = defineComponent({\n  name: \"VaFileUploadUndo\",\n  components: {\n    VaProgressBar,\n    VaButton\n  },\n  props: {\n    vertical: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"recover\"],\n  setup: props => {\n    const progress = ref(100);\n    const {\n      undoDuration,\n      undoButtonText,\n      deletedFileMessage\n    } = useStrictInject(VaFileUploadKey, INJECTION_ERROR_MESSAGE);\n    const computedClasses = useBem(\"va-file-upload-undo\", () => ({\n      vertical: props.vertical\n    }));\n    const undoDurationStyle = computed(() => {\n      var _a;\n\n      return `${(_a = undoDuration.value) != null ? _a : 0}ms`;\n    });\n    onMounted(() => {\n      const timer = setTimeout(() => {\n        progress.value = 0;\n        clearTimeout(timer);\n      }, 0);\n    });\n    return {\n      progress,\n      undoDuration,\n      undoButtonText,\n      computedClasses,\n      undoDurationStyle,\n      deletedFileMessage\n    };\n  }\n});\n\nconst __injectCSSVars__ = () => {\n  useCssVars(_ctx => ({\n    \"35ceb3fe\": _ctx.undoDurationStyle\n  }));\n};\n\nconst __setup__ = __default__.setup;\n__default__.setup = __setup__ ? (props, ctx) => {\n  __injectCSSVars__();\n\n  return __setup__(props, ctx);\n} : __injectCSSVars__;\nconst _sfc_main = __default__;\nconst _hoisted_1 = {\n  class: \"va-file-upload-undo__text\"\n};\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_progress_bar = resolveComponent(\"va-progress-bar\");\n\n  const _component_va_button = resolveComponent(\"va-button\");\n\n  return openBlock(), createElementBlock(Fragment, null, [createVNode(_component_va_progress_bar, {\n    \"model-value\": _ctx.progress,\n    rounded: false,\n    class: \"va-file-upload-undo-progress-bar\"\n  }, null, 8, [\"model-value\"]), createElementVNode(\"div\", {\n    class: normalizeClass([\"va-file-upload-undo\", _ctx.computedClasses])\n  }, [createElementVNode(\"span\", _hoisted_1, toDisplayString(_ctx.deletedFileMessage), 1), createVNode(_component_va_button, {\n    class: \"va-file-upload-undo__button\",\n    \"aria-label\": _ctx.undoButtonText,\n    size: \"small\",\n    outline: \"\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$emit(\"recover\"))\n  }, {\n    default: withCtx(() => [createTextVNode(toDisplayString(_ctx.undoButtonText), 1)]),\n    _: 1\n  }, 8, [\"aria-label\"])], 2)], 64);\n}\n\nvar _VaFileUploadUndo = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { _VaFileUploadUndo as _ };\nimport './VaFileUploadUndo.css';","map":{"version":3,"mappings":";;;;;;;;;;AA+BA,MAAMA,0BAA0B,wFAAhC;;AAEA,MAAKC,cAAeC,gBAAW;EAC7BC,MAAM,kBADuB;EAG7BC,YAAY;IACVC,aADU;IAEVC;EAFU,CAHiB;EAQ7BC,OAAO;IACLC,UAAU;MAAEC,MAAMC,OAAR;MAAiBC,SAAS;IAA1B;EADL,CARsB;EAY7BC,OAAO,CAAC,SAAD,CAZsB;EAc7BC,OAAQN,KAAD,IAAW;IACV,iBAAWO,IAAI,GAAJ,CAAX;IACA;MACJC,YADI;MAEJC,cAFI;MAGJC;IAHI,IAIFC,gBAAgBC,eAAhB,EAAiCnB,uBAAjC,CAJE;IAMA,wBAAkBoB,OAAO,qBAAP,EAA8B,OAAO;MAC3DZ,UAAUD,MAAMC;IAD2C,CAAP,CAA9B,CAAlB;IAIN,MAAMa,oBAAoBC,SAAS;;;MAAM,UAAG,mBAAaC,KAAb,iBAAsB,KAAzB;IAA8B,CAA7C,CAA1B;IAEAC,UAAU,MAAM;MACR,cAAQC,WAAW,MAAM;QAC7BC,SAASH,KAAT,GAAiB,CAAjB;QACAI,aAAaC,KAAb;MAAkB,CAFN,EAGX,CAHW,CAAR;IAIP,CALD;IAOO;MACLF,QADK;MAELX,YAFK;MAGLC,cAHK;MAILa,eAJK;MAKLR,iBALK;MAMLJ;IANK;EAQT;AA3C6B,CAAX,CAApB;;;;;;;;;;;;;;;AAvBU;EAAAa,OAAM;AAAN;;;;;;;0DATRC,YAIEC,0BAJFD,EAIE;IAHC,eAAaE,aAGd;IAFCC,SAAS,KAEV;IADAJ,OAAM;EACN,CAJFC,EAGQ,IAHRA,EAGQ,CAHRA,EAGQ,eAHRA,GAKAI,mBAcM,KAdNA,EAcM;IAbJL,OAAKM,eAAC,wBACEH,KAAeJ,eADjB,CAADO;EAaD,CAdND,EAEyB,CAEvBA,mBAAuE,MAAvEA,cAAuEE,gBAA5BJ,KAAkBhB,kBAAUoB,CAAvEF,EAA6D,CAA7DA,CAFuB,EAGvBJ,YAQYO,oBARZP,EAQY;IAPVD,OAAM,6BAOI;IANT,cAAYG,mBAMH;IALVM,MAAK,OAKK;IAJVC,WAIU;IAHTC,SAAKC,oCAAET,KAAKU,KAAL,CAAK,SAAL,CAAF;EAGI,CARZZ,EAKe;IAAApB,iBAEb,MAAoB,iCAAjBsB,KAAcjB,cAAGqB,GAAH,CAAGO,EAFP;IAEIC;EAFJ,CALfd,oBAHuB,CAFzBI","names":["INJECTION_ERROR_MESSAGE","__default__","defineComponent","name","components","VaProgressBar","VaButton","props","vertical","type","Boolean","default","emits","setup","ref","undoDuration","undoButtonText","deletedFileMessage","useStrictInject","VaFileUploadKey","useBem","undoDurationStyle","computed","value","onMounted","setTimeout","progress","clearTimeout","timer","computedClasses","class","_createVNode","_component_va_progress_bar","_ctx","rounded","_createElementVNode","_normalizeClass","_toDisplayString","_component_va_button","size","outline","onClick","_cache","$emit","_createTextVNode","_"],"sources":["../../../../../../src/components/va-file-upload/VaFileUploadUndo/VaFileUploadUndo.vue"],"sourcesContent":["<template>\n  <va-progress-bar\n    :model-value=\"progress\"\n    :rounded=\"false\"\n    class=\"va-file-upload-undo-progress-bar\"\n  />\n  <div\n    class=\"va-file-upload-undo\"\n    :class=\"computedClasses\"\n  >\n    <span class=\"va-file-upload-undo__text\">{{ deletedFileMessage }}</span>\n    <va-button\n      class=\"va-file-upload-undo__button\"\n      :aria-label=\"undoButtonText\"\n      size=\"small\"\n      outline\n      @click=\"$emit('recover')\"\n    >\n      {{ undoButtonText }}\n    </va-button>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, ref, onMounted } from 'vue'\n\nimport { useBem, useStrictInject } from '../../../composables'\nimport { VaFileUploadKey } from '../types'\n\nimport { VaButton, VaProgressBar } from '../../index'\n\nconst INJECTION_ERROR_MESSAGE = 'The VaFileUploadUndo component should be used in the context of VaFileUpload component'\n\nexport default defineComponent({\n  name: 'VaFileUploadUndo',\n\n  components: {\n    VaProgressBar,\n    VaButton,\n  },\n\n  props: {\n    vertical: { type: Boolean, default: false },\n  },\n\n  emits: ['recover'],\n\n  setup: (props) => {\n    const progress = ref(100)\n    const {\n      undoDuration,\n      undoButtonText,\n      deletedFileMessage,\n    } = useStrictInject(VaFileUploadKey, INJECTION_ERROR_MESSAGE)\n\n    const computedClasses = useBem('va-file-upload-undo', () => ({\n      vertical: props.vertical,\n    }))\n\n    const undoDurationStyle = computed(() => `${undoDuration.value ?? 0}ms`)\n\n    onMounted(() => {\n      const timer = setTimeout(() => {\n        progress.value = 0\n        clearTimeout(timer)\n      }, 0)\n    })\n\n    return {\n      progress,\n      undoDuration,\n      undoButtonText,\n      computedClasses,\n      undoDurationStyle,\n      deletedFileMessage,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import 'variables';\n\n.va-file-upload-undo-progress-bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  --va-progress-bar-transition: width v-bind(undoDurationStyle) linear;\n}\n\n.va-file-upload-undo {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n\n  &__button {\n    line-height: var(--va-file-upload-undo-button-line-height);\n    margin-left: var(--va-file-upload-undo-margin-left);\n    margin-top: var(--va-file-upload-undo-button-margin-top);\n    margin-bottom: var(--va-file-upload-undo-button-margin-bottom);\n  }\n\n  &--vertical {\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    padding: var(--va-file-upload-undo-padding);\n\n    .va-file-upload-undo__text {\n      margin: 1rem 0 0;\n      text-align: center;\n    }\n\n    .va-file-upload-undo__button {\n      margin: 1rem 0 0;\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}