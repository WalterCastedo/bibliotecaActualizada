{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineComponent, computed, ref, h, Fragment } from \"vue\";\nimport { u as useAlignProps, a as useAlign } from \"../../composables/useAlign.js\";\nimport { u as useColors } from \"../../composables/useColors.js\";\nimport { u as useComponentPresetProp } from \"../../composables/useComponentPreset.js\";\nimport { u as useTranslation } from \"../../composables/useTranslation.js\";\nimport { h as hasOwnProperty } from \"../../utils/has-own-property.js\";\n\nvar VaBreadcrumbs_vue_vue_type_style_index_0_lang = /* @__PURE__ */(() => \":root{--va-breadcrumbs-display: flex;--va-breadcrumbs-width: 100%;--va-breadcrumbs-justify-content: center;--va-breadcrumbs-item-display: inline-flex;--va-breadcrumbs-separator-padding: var(--va-breadcrumbs-separator-py) var(--va-breadcrumbs-separator-px);--va-breadcrumbs-separator-py: 0;--va-breadcrumbs-separator-px: .5rem;--va-breadcrumbs-separator-display: inline-flex}.va-breadcrumbs{display:var(--va-breadcrumbs-display);width:var(--va-breadcrumbs-width);justify-content:var(--va-breadcrumbs-justify-content);font-family:var(--va-font-family)}.va-breadcrumbs__item{display:var(--va-breadcrumbs-item-display)}.va-breadcrumbs__separator{padding:var(--va-breadcrumbs-separator-padding);display:var(--va-breadcrumbs-separator-display)}\\n\")();\n\nconst _sfc_main = defineComponent({\n  name: \"VaBreadcrumbs\",\n  props: { ...useAlignProps,\n    ...useComponentPresetProp,\n    separator: {\n      type: String,\n      default: \"/\"\n    },\n    color: {\n      type: String,\n      default: \"secondary\"\n    },\n    activeColor: {\n      type: String,\n      default: null\n    },\n    separatorColor: {\n      type: String,\n      default: null\n    }\n  },\n\n  setup(props, {\n    slots\n  }) {\n    const {\n      alignComputed\n    } = useAlign(props);\n    const {\n      getColor\n    } = useColors();\n    const computedThemesSeparatorColor = computed(() => {\n      return props.separatorColor ? getColor(props.separatorColor) : getColor(props.color);\n    });\n    const computedThemesActiveColor = computed(() => {\n      return props.activeColor ? getColor(props.activeColor) : getColor(props.color);\n    });\n\n    const childNodeFilter = (result, node) => {\n      const nodes = node && node.type === Fragment && node.children ? node.children : [node];\n      return [...result, ...nodes.filter(node2 => {\n        var _a, _b;\n\n        return !!((_b = (_a = node2 == null ? void 0 : node2.type) == null ? void 0 : _a.name) == null ? void 0 : _b.match(/VaBreadcrumbsItem$/));\n      })];\n    };\n\n    const createSeparatorComponent = () => {\n      const separatorNode = slots.separator ? slots.separator() : [props.separator];\n      return h(\"span\", {\n        ariaHidden: true,\n        class: [\"va-breadcrumbs__separator\"],\n        style: [{\n          color: computedThemesSeparatorColor.value\n        }]\n      }, separatorNode);\n    };\n\n    const isDisabledChild = child => {\n      const childPropData = child == null ? void 0 : child.props;\n\n      if (!childPropData || !hasOwnProperty(childPropData, \"disabled\")) {\n        return false;\n      }\n\n      if (childPropData.disabled === \"\") {\n        return true;\n      }\n\n      return Boolean(childPropData.disabled);\n    };\n\n    const isAllChildLinks = ref(true);\n\n    const getChildren = () => {\n      var _a;\n\n      const childNodes = ((_a = slots == null ? void 0 : slots.default()) == null ? void 0 : _a.reduce(childNodeFilter, [])) || [];\n      const childNodesLength = childNodes.length;\n\n      const isLastIndexChildNodes = index => index === childNodesLength - 1;\n\n      const isChildLink = child => {\n        const childPropData = child == null ? void 0 : child.props;\n\n        if (!childPropData || !hasOwnProperty(childPropData, \"to\")) {\n          return false;\n        }\n\n        return !!(childPropData.to && !childPropData.disabled);\n      };\n\n      const createChildComponent = (child, index) => h(\"span\", {\n        class: \"va-breadcrumbs__item\",\n        ariaCurrent: isLastIndexChildNodes(index) && isChildLink(child) ? \"location\" : false,\n        style: {\n          color: !isLastIndexChildNodes(index) && !isDisabledChild(child) ? computedThemesActiveColor.value : null\n        }\n      }, [child]);\n\n      const children = [];\n\n      if (childNodesLength) {\n        childNodes.forEach((child, index) => {\n          if (isAllChildLinks.value && !isChildLink(child)) {\n            isAllChildLinks.value = false;\n          }\n\n          children.push(createChildComponent(child, index));\n\n          if (!isLastIndexChildNodes(index)) {\n            children.push(createSeparatorComponent());\n          }\n        });\n      }\n\n      return children;\n    };\n\n    const {\n      t\n    } = useTranslation();\n    return () => h(\"div\", {\n      class: \"va-breadcrumbs\",\n      style: alignComputed.value,\n      role: isAllChildLinks.value ? \"navigation\" : void 0,\n      ariaLabel: isAllChildLinks.value ? t(\"breadcrumbs\") : void 0\n    }, getChildren());\n  }\n\n});\n\nexport { _sfc_main as _ };\nimport './VaBreadcrumbs.css';","map":{"version":3,"mappings":"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","names":["_sfc_main","defineComponent","name","props","useAlignProps","useComponentPresetProp","separator","type","String","default","color","activeColor","separatorColor","setup","slots","alignComputed","useAlign","getColor","useColors","computed","result","node","Fragment","children","nodes","filter","node2","match","createSeparatorComponent","h","ariaHidden","class","style","computedThemesSeparatorColor","value","separatorNode","child","childPropData","hasOwnProperty","disabled","ref","getChildren","reduce","childNodeFilter","childNodesLength","childNodes","length","isLastIndexChildNodes","index","createChildComponent","ariaCurrent","isChildLink","isDisabledChild","computedThemesActiveColor","isAllChildLinks","push","t","useTranslation","role","ariaLabel"],"sources":["../../../../../src/components/va-breadcrumbs/VaBreadcrumbs.vue"],"sourcesContent":["<script lang=\"ts\">\nimport { computed, defineComponent, Fragment, h, ref, VNode } from 'vue'\n\nimport { useComponentPresetProp, useAlign, useAlignProps, useColors, useTranslation } from '../../composables'\nimport { hasOwnProperty } from '../../utils/has-own-property'\n\nexport default defineComponent({\n  name: 'VaBreadcrumbs',\n  props: {\n    ...useAlignProps,\n    ...useComponentPresetProp,\n    separator: { type: String, default: '/' },\n    color: { type: String, default: 'secondary' },\n    activeColor: { type: String, default: null },\n    separatorColor: { type: String, default: null },\n  },\n  setup (props, { slots }) {\n    const { alignComputed } = useAlign(props)\n\n    const { getColor } = useColors()\n    const computedThemesSeparatorColor = computed(() => {\n      return props.separatorColor ? getColor(props.separatorColor) : getColor(props.color)\n    })\n    const computedThemesActiveColor = computed(() => {\n      return props.activeColor ? getColor(props.activeColor) : getColor(props.color)\n    })\n\n    const childNodeFilter = (result: VNode[], node?: VNode) => {\n      const nodes = node && node.type === Fragment && node.children ? node.children as VNode[] : [node]\n\n      return [\n        ...result,\n        ...nodes.filter((node?: VNode) => !!(node?.type as any)?.name?.match(/VaBreadcrumbsItem$/)),\n      ]\n    }\n\n    const createSeparatorComponent = () => {\n      // Temp fix for https://github.com/intlify/vue-i18n-next/issues/412\n      // `separatorNode` can be moved outside this method after update vuestic's minimal vue version to 3.1.0\n      // testing: have to monitor errors after leaving breadcrumbs page in doc\n      const separatorNode = slots.separator ? slots.separator() : [props.separator]\n\n      return h('span', {\n        ariaHidden: true,\n        class: ['va-breadcrumbs__separator'],\n        style: [{ color: computedThemesSeparatorColor.value }],\n      }, separatorNode)\n    }\n\n    const isDisabledChild = (child: VNode) => {\n      const childPropData = child?.props\n      if (!childPropData || !hasOwnProperty(childPropData, 'disabled')) {\n        return false\n      }\n\n      if (childPropData.disabled === '') { // NOTE: by default empty attribute is ''\n        return true\n      }\n\n      return Boolean(childPropData.disabled)\n    }\n\n    const isAllChildLinks = ref(true)\n    const getChildren = () => {\n      const childNodes = (slots as any)?.default()?.reduce(childNodeFilter, []) || []\n      const childNodesLength = childNodes.length\n      const isLastIndexChildNodes = (index: number) => index === childNodesLength - 1\n      const isChildLink = (child: VNode) => {\n        const childPropData = child?.props\n        if (!childPropData || !hasOwnProperty(childPropData, 'to')) {\n          return false\n        }\n\n        return !!(childPropData.to && !childPropData.disabled)\n      }\n\n      const createChildComponent = (child: VNode, index: number) => h(\n        'span', {\n          class: 'va-breadcrumbs__item',\n          ariaCurrent: (isLastIndexChildNodes(index) && isChildLink(child)) ? 'location' : false,\n          style: {\n            color: (!isLastIndexChildNodes(index) && !isDisabledChild(child)) ? computedThemesActiveColor.value : null,\n          },\n        },\n        [child],\n      )\n\n      const children = [] as VNode[]\n\n      if (childNodesLength) {\n        childNodes.forEach((child: VNode, index: number) => {\n          if (isAllChildLinks.value && !isChildLink(child)) {\n            isAllChildLinks.value = false\n          }\n\n          children.push(createChildComponent(child, index))\n\n          if (!isLastIndexChildNodes(index)) {\n            children.push(createSeparatorComponent())\n          }\n        })\n      }\n\n      return children\n    }\n\n    const { t } = useTranslation()\n\n    return () => h('div', {\n      class: 'va-breadcrumbs',\n      style: alignComputed.value,\n      role: isAllChildLinks.value ? 'navigation' : undefined,\n      ariaLabel: isAllChildLinks.value ? t('breadcrumbs') : undefined,\n    }, getChildren())\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n\n.va-breadcrumbs {\n  display: var(--va-breadcrumbs-display);\n  width: var(--va-breadcrumbs-width);\n  justify-content: var(--va-breadcrumbs-justify-content);\n  font-family: var(--va-font-family);\n\n  &__item {\n    display: var(--va-breadcrumbs-item-display);\n  }\n\n  &__separator {\n    padding: var(--va-breadcrumbs-separator-padding);\n    display: var(--va-breadcrumbs-separator-display);\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}