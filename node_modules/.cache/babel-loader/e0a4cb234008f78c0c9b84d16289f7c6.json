{"ast":null,"code":"import { defineComponent, computed, resolveComponent, openBlock, createElementBlock, normalizeClass, createElementVNode, withKeys, Fragment, renderList, createBlock, mergeProps, withCtx, renderSlot, normalizeProps, guardReactiveProps, createCommentVNode, normalizeStyle, toDisplayString } from \"vue\";\nimport { e as extractComponentProps } from \"../../utils/component-options/extract-component-options.js\";\nimport { f as filterComponentProps } from \"../../utils/component-options/filter-props.js\";\nimport { u as useComponentPresetProp } from \"../../composables/useComponentPreset.js\";\nimport { u as useFormProps, a as useForm } from \"../../composables/useForm.js\";\nimport { u as useTranslation } from \"../../composables/useTranslation.js\";\nimport { u as useRatingProps, a as useRating } from \"./hooks/useRating.js\";\nimport { u as useVaRatingColorsProps, a as useVaRatingColors } from \"./hooks/useVaRatingColors.js\";\nimport { R as RatingValue } from \"./types.js\";\nimport { _ as _VaRatingItem } from \"./components/VaRatingItem/VaRatingItem.js\";\nimport { V as VaRatingItemNumberButton } from \"./components/VaRatingItemNumberButton.js\";\nimport { _ as _export_sfc } from \"../../../plugin-vue_export-helper.js\";\n\nvar VaRating_vue_vue_type_style_index_0_lang = /* @__PURE__ */(() => \":root{--va-rating-display: flex;--va-rating-number-item-font-size: inherit;--va-rating-number-item-margin: .1em;--va-rating-number-item-font-weight: 700;--va-rating-number-item-cursor: pointer;--va-rating-item-wrapper-cursor: pointer}.va-rating{display:var(--va-rating-display);font-family:var(--va-font-family)}.va-rating__number-item{font-size:100%;overflow:visible;text-transform:none;padding:0;background-color:transparent;border-style:none;font-size:var(--va-rating-number-item-font-size);margin:var(--va-rating-number-item-margin);font-weight:var(--va-rating-number-item-font-weight);display:flex;justify-content:center;align-items:center;cursor:pointer}.va-rating--disabled .va-rating__number-item{cursor:default;opacity:.4;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.va-rating--readonly .va-rating__number-item{cursor:default}.va-rating__item-wrapper{display:flex;cursor:var(--va-rating-item-wrapper-cursor)}.va-rating--readonly .va-rating__item-wrapper,.va-rating--disabled .va-rating__item-wrapper{cursor:default}.va-rating-item{display:flex;justify-content:center;align-items:center}.va-rating--disabled .va-rating-item{cursor:default;opacity:.4;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.va-rating--disabled .va-rating-item__wrapper,.va-rating--readonly .va-rating-item .va-rating-item__wrapper{cursor:initial!important}.va-rating__text-wrapper{padding-left:10px}\\n\")();\n\nconst VaRatingItemProps = extractComponentProps(_VaRatingItem);\nconst VaRatingItemNumberButtonProps = extractComponentProps(VaRatingItemNumberButton, [\"modelValue\", \"itemNumber\"]);\n\nconst _sfc_main = defineComponent({\n  name: \"VaRating\",\n  props: { ...useRatingProps,\n    ...useVaRatingColorsProps,\n    ...useFormProps,\n    ...VaRatingItemProps,\n    ...VaRatingItemNumberButtonProps,\n    ...useComponentPresetProp,\n    numbers: {\n      type: Boolean,\n      default: false\n    },\n    halves: {\n      type: Boolean,\n      default: false\n    },\n    max: {\n      type: Number,\n      default: 5\n    },\n    texts: {\n      type: Array,\n      default: () => []\n    }\n  },\n  emits: [\"update:modelValue\"],\n  components: {\n    VaRatingItem: _VaRatingItem,\n    VaRatingItemNumberButton\n  },\n\n  setup(props) {\n    const {\n      computedClasses: rootClass\n    } = useForm(\"va-rating\", props);\n    const rating = useRating(props);\n    const isInteractionsEnabled = computed(() => !props.disabled && !props.readonly);\n    return { ...useTranslation(),\n      ...useVaRatingColors(props),\n      ...rating,\n      rootClass,\n      VaRatingItemProps: filterComponentProps(VaRatingItemProps),\n      VaRatingItemNumberButtonProps: filterComponentProps(VaRatingItemNumberButtonProps),\n      isInteractionsEnabled,\n      tabIndexComputed: computed(() => isInteractionsEnabled.value ? 0 : void 0),\n      onArrowKeyPress: direction => {\n        const step = props.halves ? RatingValue.HALF : RatingValue.FULL;\n        rating.onItemValueUpdate(rating.visibleValue.value, step * direction);\n      }\n    };\n  }\n\n});\n\nconst _hoisted_1 = [\"aria-label\"];\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_VaRatingItemNumberButton = resolveComponent(\"VaRatingItemNumberButton\");\n\n  const _component_va_rating_item = resolveComponent(\"va-rating-item\");\n\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([\"va-rating\", _ctx.rootClass]),\n    \"aria-label\": _ctx.t(\"currentRating\", {\n      max: _ctx.$props.max,\n      value: _ctx.$props.modelValue\n    })\n  }, [createElementVNode(\"div\", {\n    class: \"va-rating__item-wrapper\",\n    onKeyup: [_cache[0] || (_cache[0] = withKeys($event => _ctx.onArrowKeyPress(-1), [\"left\"])), _cache[1] || (_cache[1] = withKeys($event => _ctx.onArrowKeyPress(1), [\"right\"]))],\n    onMouseenter: _cache[2] || (_cache[2] = (...args) => _ctx.onMouseEnter && _ctx.onMouseEnter(...args)),\n    onMouseleave: _cache[3] || (_cache[3] = (...args) => _ctx.onMouseLeave && _ctx.onMouseLeave(...args))\n  }, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.$props.max, itemNumber => {\n    return openBlock(), createBlock(_component_va_rating_item, mergeProps({\n      key: itemNumber,\n      class: \"va-rating__item\"\n    }, _ctx.VaRatingItemProps, {\n      \"aria-label\": _ctx.t(\"voteRating\", {\n        max: _ctx.$props.max,\n        value: _ctx.$props.modelValue\n      }),\n      \"model-value\": _ctx.getItemValue(itemNumber - 1),\n      tabindex: _ctx.tabIndexComputed,\n      disabled: _ctx.$props.disabled,\n      readonly: _ctx.$props.readonly,\n      onHover: $event => _ctx.isInteractionsEnabled && _ctx.onItemHoveredValueUpdate(itemNumber - 1, $event),\n      \"onUpdate:modelValue\": $event => _ctx.isInteractionsEnabled && _ctx.onItemValueUpdate(itemNumber - 1, $event)\n    }), {\n      default: withCtx(({\n        value,\n        onClick\n      }) => [renderSlot(_ctx.$slots, \"item\", normalizeProps(guardReactiveProps({\n        value,\n        onClick,\n        index: itemNumber\n      })), () => [_ctx.$props.numbers ? (openBlock(), createBlock(_component_VaRatingItemNumberButton, mergeProps({\n        key: 0\n      }, _ctx.VaRatingItemNumberButtonProps, {\n        \"model-value\": value,\n        \"item-number\": itemNumber\n      }), null, 16, [\"model-value\", \"item-number\"])) : createCommentVNode(\"\", true)])]),\n      _: 2\n    }, 1040, [\"aria-label\", \"model-value\", \"tabindex\", \"disabled\", \"readonly\", \"onHover\", \"onUpdate:modelValue\"]);\n  }), 128))], 32), _ctx.$props.texts && _ctx.$props.texts.length === _ctx.$props.max ? (openBlock(), createElementBlock(\"span\", {\n    key: 0,\n    class: \"va-rating__text-wrapper\",\n    style: normalizeStyle({\n      color: _ctx.computedColor\n    })\n  }, toDisplayString(_ctx.$props.texts[Math.round(_ctx.visibleValue) - 1]), 5)) : createCommentVNode(\"\", true)], 10, _hoisted_1);\n}\n\nvar _VaRating = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { _VaRating as _ };\nimport './VaRating.css';","map":{"version":3,"mappings":";;;;;;;;;;;;;;;AA8DA,MAAMA,oBAAoBC,sBAAsBC,aAAtB,CAA1B;AACA,MAAMC,gCAAgCF,sBAAsBG,wBAAtB,EAAgD,CAAC,YAAD,EAAe,YAAf,CAAhD,CAAtC;;AAEA,MAAKC,YAAaC,gBAAa;EAC7BC,MAAM,UADuB;EAE7BC,OAAO,EACL,GAAGC,cADE;IAEL,GAAGC,sBAFE;IAGL,GAAGC,YAHE;IAIL,GAAGX,iBAJE;IAKL,GAAGG,6BALE;IAML,GAAGS,sBANE;IAOLC,SAAS;MAAEC,MAAMC,OAAR;MAAiBC,SAAS;IAA1B,CAPJ;IAQLC,QAAQ;MAAEH,MAAMC,OAAR;MAAiBC,SAAS;IAA1B,CARH;IASLE,KAAK;MAAEJ,MAAMK,MAAR;MAAgBH,SAAS;IAAzB,CATA;IAULI,OAAO;MAAEN,MAAMO,KAAR;MAAqCL,SAAS,MAAM;IAApD;EAVF,CAFsB;EAc7BM,OAAO,CAAC,mBAAD,CAdsB;EAe7BC,YAAY;IAAArB,cAAEA,aAAF;IAAgBE;EAAhB,CAfiB;;EAgB7BoB,MAAOhB,KAAP,EAAc;IACZ,MAAM;MAAEiB,iBAAiBC;IAAnB,IAAiCC,QAAQ,WAAR,EAAqBnB,KAArB,CAAvC;IACM,eAASoB,UAAUpB,KAAV,CAAT;IACA,8BAAwBqB,SAAS,MAAM,CAACrB,MAAMsB,QAAP,IAAmB,CAACtB,MAAMuB,QAAzC,CAAxB;IAEC,SACL,GAAGC,gBADE;MAEL,GAAGC,kBAAkBzB,KAAlB,CAFE;MAGL,GAAG0B,MAHE;MAILR,SAJK;MAKL1B,mBAAmBmC,qBAAqBnC,iBAArB,CALd;MAMLG,+BAA+BgC,qBAAqBhC,6BAArB,CAN1B;MAOLiC,qBAPK;MAQLC,kBAAkBR,SAAS,MAAMO,sBAAsBE,KAAtB,GAA8B,CAA9B,GAAkC,MAAjD,CARb;MASLC,iBAAkBC,SAAD,IAAuB;QACtC,MAAMC,OAAOjC,MAAMS,MAAN,GAAeyB,YAAYC,IAA3B,GAAkCD,YAAYE,IAA3D;QACAV,OAAOW,iBAAP,CAAyBX,OAAOY,YAAP,CAAoBR,KAA7C,EAAoDG,OAAOD,SAA3D;MACF;IAZK;EAcT;;AAnC6B,CAAb,CAAlB;;;;;;;;;sBAhEEO,mBA4CM,KA5CNA,EA4CM;IA3CJC,OAAKC,eAAC,cACEC,KAASxB,SADX,CAADuB,CA2CD;IAzCH,cAAYC,KAACC,CAAD,CAAC,eAAD,EAAC;MAAAjC,KAAyBgC,YAAOhC,GAAhC;MAAmCoB,OAASY,YAAOE;IAAnD,CAAD;EAyCT,CA5CNL,EAG6E,CAE3EM,mBA+BM,KA/BNA,EA+BM;IA9BJL,OAAM,yBA8BF;IA7BHM,SAAK,8CAAOJ,KAAeX,eAAf,CAAe,EAAf,CAAPgB,EAAsB,QAAtBA,IAAsBC,6CACdN,KAAeX,eAAf,CAAe,CAAf,CADcgB,EACC,SADDA,EAAtB,CA6BF;IA3BHE,cAAUD,OAAE,CAAF,MAAEA,wEAAF,CA2BP;IA1BHE,cAAUF,OAAE,CAAF,MAAEA,wEAAF;EA0BP,CA/BNH,EAKe,EAEbM,oCAuBiBC,QAvBjBb,EACuB,IADvBA,EACuBc,uBAAO3C,GAAP2C,EAAdC,UAAwB,IAAd;IADnB,gCAuBiBC,yBAvBjBC,aAuBiB;MArBdC,KAAKH,UAqBS;MApBfd,OAAM;IAoBS,CAvBjBkB,EAIUhB,KAAiBlD,iBAJ3BkE,EAI2B;MACxB,cAAYhB,KAACC,CAAD,CAAC,YAAD,EAAC;QAAAjC,KAAsBgC,YAAOhC,GAA7B;QAAgCoB,OAASY,YAAOE;MAAhD,CAAD,CADY;MAExB,eAAaF,kBAAaY,aAAU,CAAvB,CAFW;MAGxBK,UAAUjB,qBAHc;MAIxBpB,UAAUoB,KAAOkB,MAAP,CAAOtC,QAJO;MAKxBC,UAAUmB,KAAOkB,MAAP,CAAOrC,QALO;MAMxBsC,SAAOC,MAAF,IAAEpB,8BAAyBA,KAAyBqB,wBAAzB,CAAyBT,aAAU,CAAnC,EAAyCQ,MAAzC,CANR;MAOxB,uBAAoBA,MAAF,IAAEpB,8BAAyBA,KAAkBL,iBAAlB,CAAkBiB,aAAU,CAA5B,EAAkCQ,MAAlC;IAPrB,CAJ3BJ,GAWwF;MAAAlD,iBAGtF,CAQO;QAVGsB,KAUH;QAVUkC;MAUV,CARP,KAFwB,CAExBC,WAQOvB,KARiCwB,MAAxCD,EAAwC,MAAxCA,EAAwCE;QAAArC;QAAAkC;QAAkBI,OAASd;MAA3B,GAAxCW,QAQO,CAPWvB,YAAOrC,OAAP,IACd8C,yBAIEkB,mCAJFb,aAIE;QAAAC;MAAA,CAJFC,EACUhB,KAA6B/C,6BADvC+D,EACuC;QACpC,eAAa5B,KADuB;QAEpC,eAAawB;MAFuB,CADvCI,GAGgB,IAHhBF,EAGgB,EAHhBA,EAGgB,8BAHhBA,CADc,IAIEc,4BAGb,CARPL,CAFwB,CAD8D;;IAAA,CAXxFT;GACuBH,CADvBd,MAFa,EALfM,KAF2E,EAmCnEH,YAAO9B,KAAP,IAAgB8B,KAAOkB,MAAP,CAAOhD,KAAP,CAAa2D,MAAb,KAAwB7B,YAAOhC,GAA/C,IAA+C8D,aADvDjC,mBAMO,MANPA,EAMO;IAAAkB;IAJLjB,OAAM,yBAID;IAHJiC,OAAKC;MAAAA,OAAWhC,KAAaiC;IAAxBD;EAGD,CANPnC,EAGgCqC,gBAE3BlC,KAAOkB,MAAP,CAAOhD,KAAP,CAAaiE,KAAKC,KAAL,CAAWpC,KAAYJ,YAAvB,IAAuB,CAApC,CAF2BsC,CAHhCrC,EAKyC,CALzCA,CACQ,IAIiC+B,4BAvCkC,CAH7E/B,EA0C2C,EA1C3CA,EA0C2CwC,UA1C3CxC","names":["VaRatingItemProps","extractComponentProps","VaRatingItem","VaRatingItemNumberButtonProps","VaRatingItemNumberButton","_sfc_main","defineComponent","name","props","useRatingProps","useVaRatingColorsProps","useFormProps","useComponentPresetProp","numbers","type","Boolean","default","halves","max","Number","texts","Array","emits","components","setup","computedClasses","rootClass","useForm","useRating","computed","disabled","readonly","useTranslation","useVaRatingColors","rating","filterComponentProps","isInteractionsEnabled","tabIndexComputed","value","onArrowKeyPress","direction","step","RatingValue","HALF","FULL","onItemValueUpdate","visibleValue","_createElementBlock","class","_normalizeClass","_ctx","t","modelValue","_createElementVNode","onKeyup","_withKeys","_cache","onMouseenter","onMouseleave","_openBlock","_Fragment","_renderList","itemNumber","_component_va_rating_item","_createBlock","key","_mergeProps","tabindex","$props","onHover","$event","onItemHoveredValueUpdate","onClick","_renderSlot","$slots","_normalizeProps","index","_component_VaRatingItemNumberButton","_createCommentVNode","length","openBlock","style","_normalizeStyle","computedColor","_toDisplayString","Math","round","_hoisted_1"],"sources":["../../../../../src/components/va-rating/VaRating.vue"],"sourcesContent":["<template>\n  <div\n    class=\"va-rating\"\n    :class=\"rootClass\"\n    :aria-label=\"t('currentRating', { max: $props.max, value: $props.modelValue })\"\n  >\n    <div\n      class=\"va-rating__item-wrapper\"\n      @keyup.left=\"onArrowKeyPress(-1)\"\n      @keyup.right=\"onArrowKeyPress(1)\"\n      @mouseenter=\"onMouseEnter\"\n      @mouseleave=\"onMouseLeave\"\n    >\n      <va-rating-item\n        v-for=\"itemNumber in $props.max\"\n        :key=\"itemNumber\"\n        class=\"va-rating__item\"\n        v-bind=\"VaRatingItemProps\"\n        :aria-label=\"t('voteRating', { max: $props.max, value: $props.modelValue })\"\n        :model-value=\"getItemValue(itemNumber - 1)\"\n        :tabindex=\"tabIndexComputed\"\n        :disabled=\"$props.disabled\"\n        :readonly=\"$props.readonly\"\n        @hover=\"isInteractionsEnabled && onItemHoveredValueUpdate(itemNumber - 1, $event)\"\n        @update:model-value=\"isInteractionsEnabled && onItemValueUpdate(itemNumber - 1, $event)\"\n        v-slot=\"{ value, onClick }\"\n      >\n        <slot name=\"item\" v-bind=\"{ value: value, onClick: onClick, index: itemNumber }\">\n          <template v-if=\"$props.numbers\">\n            <VaRatingItemNumberButton\n              v-bind=\"VaRatingItemNumberButtonProps\"\n              :model-value=\"value\"\n              :item-number=\"itemNumber\"\n            />\n          </template>\n        </slot>\n      </va-rating-item>\n    </div>\n    <span\n      v-if=\"$props.texts && $props.texts.length === $props.max\"\n      class=\"va-rating__text-wrapper\"\n      :style=\"{ color: computedColor }\"\n    >\n      {{ $props.texts[Math.round(visibleValue) - 1] }}\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, PropType } from 'vue'\n\nimport { extractComponentProps, filterComponentProps } from '../../utils/component-options'\nimport { useForm, useFormProps, useTranslation } from '../../composables'\nimport { useRating, useRatingProps } from './hooks/useRating'\nimport { useVaRatingColors, useVaRatingColorsProps } from './hooks/useVaRatingColors'\n\nimport { RatingValue } from './types'\nimport { useComponentPresetProp } from '../../composables/useComponentPreset'\n\nimport VaRatingItem from './components/VaRatingItem/VaRatingItem.vue'\nimport VaRatingItemNumberButton from './components/VaRatingItemNumberButton.vue'\n\nconst VaRatingItemProps = extractComponentProps(VaRatingItem)\nconst VaRatingItemNumberButtonProps = extractComponentProps(VaRatingItemNumberButton, ['modelValue', 'itemNumber'])\n\nexport default defineComponent({\n  name: 'VaRating',\n  props: {\n    ...useRatingProps,\n    ...useVaRatingColorsProps,\n    ...useFormProps,\n    ...VaRatingItemProps,\n    ...VaRatingItemNumberButtonProps,\n    ...useComponentPresetProp,\n    numbers: { type: Boolean, default: false },\n    halves: { type: Boolean, default: false },\n    max: { type: Number, default: 5 },\n    texts: { type: Array as PropType<string[]>, default: () => [] },\n  },\n  emits: ['update:modelValue'],\n  components: { VaRatingItem, VaRatingItemNumberButton },\n  setup (props) {\n    const { computedClasses: rootClass } = useForm('va-rating', props)\n    const rating = useRating(props)\n    const isInteractionsEnabled = computed(() => !props.disabled && !props.readonly)\n\n    return {\n      ...useTranslation(),\n      ...useVaRatingColors(props),\n      ...rating,\n      rootClass,\n      VaRatingItemProps: filterComponentProps(VaRatingItemProps),\n      VaRatingItemNumberButtonProps: filterComponentProps(VaRatingItemNumberButtonProps),\n      isInteractionsEnabled,\n      tabIndexComputed: computed(() => isInteractionsEnabled.value ? 0 : undefined),\n      onArrowKeyPress: (direction: 1 | -1) => {\n        const step = props.halves ? RatingValue.HALF : RatingValue.FULL\n        rating.onItemValueUpdate(rating.visibleValue.value, step * direction)\n      },\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import 'variables';\n\n.va-rating {\n  display: var(--va-rating-display);\n  font-family: var(--va-font-family);\n\n  &__number-item {\n    @include normalize-button();\n\n    font-size: var(--va-rating-number-item-font-size);\n    margin: var(--va-rating-number-item-margin);\n    font-weight: var(--va-rating-number-item-font-weight);\n\n    @include flex-center();\n\n    cursor: pointer;\n\n    @at-root {\n      .va-rating--disabled & {\n        @include va-disabled();\n      }\n\n      .va-rating--readonly & {\n        cursor: default;\n      }\n    }\n  }\n\n  &__item-wrapper {\n    display: flex;\n    cursor: var(--va-rating-item-wrapper-cursor);\n\n    @at-root {\n      .va-rating--readonly &,\n      .va-rating--disabled & {\n        cursor: default;\n      }\n    }\n  }\n\n  &-item {\n    display: flex;\n\n    @include flex-center();\n\n    .va-rating--disabled & {\n      @include va-disabled();\n\n      &__wrapper {\n        cursor: initial !important;\n      }\n    }\n\n    .va-rating--readonly & &__wrapper {\n      cursor: initial !important;\n    }\n  }\n\n  &__text-wrapper {\n    padding-left: 10px;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}