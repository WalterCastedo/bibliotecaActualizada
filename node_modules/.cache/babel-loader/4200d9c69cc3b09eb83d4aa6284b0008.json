{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// @ is an alias to /src\nimport ListarMaterial from \"@/components/ListarMaterial.vue\";\nimport ListarEstadisticas from \"@/components/ListarEstadisticas.vue\";\nimport CrearMaterial from \"@/components/CrearMaterial.vue\";\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS; // import Redes from \"@/components/footeraComponent.vue\";\n//import Vue from 'vue';\n\nexport default {\n  name: \"MaterialesView\",\n\n  data() {\n    return {\n      deudor: false,\n      valor: 0,\n      acceso: localStorage.getItem(\"acceso\"),\n      obtenerLibros: []\n    };\n  },\n\n  components: {\n    ListarMaterial,\n    CrearMaterial,\n    ListarEstadisticas // Redes,\n\n  },\n  mounted: function () {\n    if (localStorage.getItem(\"acceso\") == 0) {\n      this.$router.push({\n        name: \"home\"\n      });\n    }\n\n    this.deudasPanel();\n  },\n  methods: {\n    encryptData(data) {\n      const encrypted = CryptoJS.AES.encrypt(data, RUTA_KEY_CRYPTO);\n      return encrypted.toString();\n    },\n\n    decryptData(encryptedData) {\n      const bytes = CryptoJS.AES.decrypt(encryptedData, RUTA_KEY_CRYPTO);\n      return bytes.toString(CryptoJS.enc.Utf8);\n    },\n\n    deudasPanel() {\n      fetch(RUTA_SERVIDOR_LIBROS + \"/prestamos/deuda/\" + localStorage.getItem(\"cod_alum\")).then(respuesta => respuesta.json()).then(datosRespuesta => {\n        if (datosRespuesta != \"\") {\n          console.log(1);\n          this.deudor = true;\n        } else {\n          this.deudor = false;\n        }\n      }).catch(function (error) {});\n    },\n\n    variableLibro(value) {\n      this.valor = value;\n    },\n\n    listar() {\n      return this.valor === 0 ? \"active\" : \"\";\n    },\n\n    crear() {\n      return this.valor === -1 ? \"active\" : \"\";\n    },\n\n    editar() {\n      return this.valor === 1 ? \"active\" : \"\";\n    },\n\n    datos() {\n      return this.valor === 3 ? \"active\" : \"\";\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAgHA;AACA;AACA;AACA;AACA,wE,CAEA;AACA;;AAEA;EACAA,sBADA;;EAGAC;IACA;MACAC,aADA;MAEAC,QAFA;MAGAC,sCAHA;MAIAC;IAJA;EAMA,CAVA;;EAWAC;IACAC,cADA;IAEAC,aAFA;IAGAC,kBAHA,CAMA;;EANA,CAXA;EAoBAC;IAEA;MACA;QAAAV;MAAA;IACA;;IACA;EACA,CA1BA;EA6BAW;IACAC;MACA;MACA;IACA,CAJA;;IAKAC;MACA;MACA;IACA,CARA;;IASAC;MACAC,qFACAC,IADA,CACAC,6BADA,EAEAD,IAFA,CAEAE;QACA;UACAC;UACA;QACA,CAHA,MAIA;UACA;QAEA;MACA,CAXA,EAaAC,KAbA,CAaA,kBACA,CAdA;IAeA,CAzBA;;IA4BAC;MACA;IACA,CA9BA;;IAgCAC;MACA;IACA,CAlCA;;IAmCAC;MACA;IACA,CArCA;;IAsCAC;MACA;IACA,CAxCA;;IAyCAC;MACA;IACA;;EA3CA;AA7BA","names":["name","data","deudor","valor","acceso","obtenerLibros","components","ListarMaterial","CrearMaterial","ListarEstadisticas","mounted","methods","encryptData","decryptData","deudasPanel","fetch","then","respuesta","datosRespuesta","console","catch","variableLibro","listar","crear","editar","datos"],"sourceRoot":"src/views","sources":["MaterialesView.vue"],"sourcesContent":["<template>\n<div class=\"container mx-auto mt-5\">\n\n    <h2 class=\"align-items-center text-center\" style=\"background-color: rgb(255, 142, 142);\"  v-if=\"deudor\" >\n      Tienes material pendiente por devolver\n    </h2>\n    <div class=\"card text-cente\">\n      <div class=\"card-header\">\n        <ul class=\"nav nav-tabs card-header-tabs\">\n          <div v-if=\"acceso==2\">\n            <li class=\"nav-item\">\n            <a\n              v-on:click=\"valor= 3\"\n              class=\"nav-link\"\n              v-bind:class=\"datos()\"\n              href=\"#/Materiales\"\n              name=\"3\"\n              >Datos</a\n            >\n          </li>\n        </div>\n          <li class=\"nav-item\">\n            <a\n              v-on:click=\"valor = 0\"\n              class=\"nav-link\"\n              v-bind:class=\"listar()\"\n              aria-current=\"true\"\n              href=\"#/Materiales\"\n              >Listado</a\n            >\n          </li>\n          <div v-if=\"acceso==2\">\n            <li class=\"nav-item\">\n            <a\n              v-on:click=\"valor = -1\"\n              class=\"nav-link\"\n              v-bind:class=\"crear()\"\n              href=\"#/Materiales\"\n              name=\"1\"\n              >Nuevo</a\n            >\n          </li>\n        </div>\n        <div v-if=\"acceso==2\">\n          <li class=\"nav-item\">\n            <a v-if=\"valor>0 && valor!=3\"\n             \n              class=\"nav-link active\"\n             \n              href=\"#/Materiales\"\n              >Editar</a\n            >\n            <a v-else\n           \n              class=\"nav-link disabled\"\n              \n              href=\"#\"\n              >Editar</a\n            >\n          </li>\n        </div>\n          \n        </ul>\n      </div>\n      <div class=\"card-body bg-white\">\n        <!-- <CrearLibro v-show=\"valor==1\" variable=1></CrearLibro>\n       <CrearLibro v-show=\"valor==2\" variable=2></CrearLibro> -->\n\n        \n    <CrearMaterial\n      @recibiendo=\"variableLibro\"\n      v-show=\"valor == -1\"\n      v-bind:variable=\"valor\"\n    ></CrearMaterial>\n    <CrearMaterial\n      @recibiendo=\"variableLibro\"\n      v-if=\"valor > 0 && valor!=3\"\n      v-bind:variable=\"valor\"\n    ></CrearMaterial>\n    <ListarMaterial v-show=\"valor == 0\"\n      @recibiendo=\"variableLibro\"\n      v-if=\"valor == 0\"\n      v-bind:variable=\"valor\"\n      class=\"mx-2 mx-sm-5\"\n    >\n    </ListarMaterial>\n   \n    <ListarEstadisticas\n    @recibiendo=\"variableLibro\"\n      v-if=\"valor == 3 \"\n      v-bind:variable=\"valor\"\n    >\n    </ListarEstadisticas>\n\n\n\n\n      </div>\n    </div>\n  </div>\n\n\n\n\n\n\n\n</template>\n\n<style></style>\n\n<script>\n// @ is an alias to /src\nimport ListarMaterial from \"@/components/ListarMaterial.vue\";\nimport ListarEstadisticas from \"@/components/ListarEstadisticas.vue\";\nimport CrearMaterial from \"@/components/CrearMaterial.vue\";\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS;\n\n// import Redes from \"@/components/footeraComponent.vue\";\n//import Vue from 'vue';\n\nexport default {\n  name: \"MaterialesView\",\n\n  data() {\n    return {\n      deudor:false,\n      valor: 0,\n      acceso: localStorage.getItem(\"acceso\"),\n      obtenerLibros: [],\n    };\n  },\n  components: {\n    ListarMaterial,\n    CrearMaterial,\n    ListarEstadisticas,\n\n\n    // Redes,\n  },\n\n  mounted: function () {\n   \n    if (localStorage.getItem(\"acceso\") ==0) {\n      this.$router.push({ name: \"home\" });\n    }\n    this.deudasPanel()\n  },\n  \n\n  methods: {\n    encryptData(data) {\n  const encrypted = CryptoJS.AES.encrypt(data, RUTA_KEY_CRYPTO);\n  return encrypted.toString();\n},\ndecryptData(encryptedData) {\n  const bytes = CryptoJS.AES.decrypt(encryptedData, RUTA_KEY_CRYPTO);\n  return bytes.toString(CryptoJS.enc.Utf8);\n},\n    deudasPanel(){\n      fetch(RUTA_SERVIDOR_LIBROS + \"/prestamos/deuda/\"+ localStorage.getItem(\"cod_alum\")) \n        .then((respuesta) => respuesta.json())\n        .then((datosRespuesta) => {\n          if(datosRespuesta != \"\"){\n            console.log(1)\n           this.deudor=true\n          }\n          else{\n           this.deudor=false\n            \n          }\n        })\n\n              .catch(function (error) {\n                      });\n    },\n\n    \n    variableLibro(value) {\n      this.valor = value;\n    },\n   \n    listar() {\n      return this.valor === 0 ? \"active\" : \"\";\n    },\n    crear() {\n      return this.valor === -1 ? \"active\" : \"\";\n    },\n    editar() {\n      return this.valor === 1 ? \"active\" : \"\";\n    },\n    datos() {\n      return this.valor === 3 ? \"active\" : \"\";\n    },\n  \n  },\n};\n</script>\n\n"]},"metadata":{},"sourceType":"module"}