{"ast":null,"code":"import axios from \"axios\";\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS;\nexport default {\n  name: \"Derechos\",\n\n  data() {\n    return {\n      acceso: localStorage.getItem(\"acceso\"),\n      datos: {\n        derechos: \"\",\n        deberes: \"\"\n      }\n    };\n  },\n\n  mounted() {\n    this.obtenerDatos();\n  },\n\n  methods: {\n    obtenerDatos() {\n      fetch(RUTA_SERVIDOR_LIBROS + \"/acerca\").then(respuesta => respuesta.json()).then(datosRespuesta => {\n        console.log(datosRespuesta);\n        this.datos = datosRespuesta[0];\n      }).catch(console.log);\n    },\n\n    actualizar() {\n      if (this.datos.derechos.trim() === \"\" || this.datos.deberes.trim() === \"\") {\n        alert('Por favor, los campos no pueden estar vacios.');\n        return;\n      }\n\n      const confirmacion = window.confirm('¿Estás seguro de que deseas actualizar estos datos?');\n\n      if (confirmacion) {\n        axios.put(RUTA_SERVIDOR_LIBROS + \"/acerca/\" + 1, {\n          derechos: this.datos.derechos,\n          deberes: this.datos.deberes\n        }).then(function (response) {\n          console.log(response);\n          location.reload();\n        }).then(alert(\"El tipo de material bibliotecario se actualizo correctamente\")).catch(function (error) {\n          console.log(error); // console.log(this.libro);\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAsDA;AACA;AACA;EACAA,gBADA;;EAGAC;IACA;MACAC,sCADA;MAEAC;QACAC,YADA;QAEAC;MAFA;IAFA;EAQA,CAZA;;EAaAC;IACA;EACA,CAfA;;EAiBAC;IAEAC;MACAC,wCACAC,IADA,CACAC,6BADA,EAEAD,IAFA,CAEAE;QACAC;QACA;MACA,CALA,EAOAC,KAPA,CAOAD,WAPA;IAQA,CAXA;;IAeAE;MAEA,IACA,qCACA,gCAFA,EAIA;QACAC;QACA;MACA;;MAEA,oCACA,qDADA;;MAIA;QACAC,MACAC,GADA,CACAC,qCADA,EACA;UACAf,6BADA;UAEAC;QAFA,CADA,EAKAK,IALA,CAKA;UACAG;UACAO;QACA,CARA,EASAV,IATA,CASAM,qEATA,EAUAF,KAVA,CAUA;UACAD,mBADA,CAEA;QACA,CAbA;MAaA;IACA;;EA7CA;AAjBA","names":["name","data","acceso","datos","derechos","deberes","mounted","methods","obtenerDatos","fetch","then","respuesta","datosRespuesta","console","catch","actualizar","alert","axios","put","RUTA_SERVIDOR_LIBROS","location"],"sourceRoot":"src/components","sources":["Derecho.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"px-5\">\n      <h1>Derechos</h1>\n      <div v-if=\"acceso == 2\">\n\n        <textarea\n        name=\"\n        \"\n        id=\"\"\n        cols=\"30\"\n        rows=\"10\"\n        style=\"width: 100%\"\n        v-model=\"datos.derechos\"\n        >\n     \n      </textarea>\n    \n      </div>\n      <div v-else>\n        <pre style=\"overflow: auto; white-space: pre-wrap; text-indent: 0;\">\n\n       {{datos.derechos}}\n        </pre>\n      </div>\n    </div>\n    <br>\n    <div class=\"px-5\">\n      <h1>Deberes</h1>\n      <div v-if=\"acceso == 2\">\n\n        <textarea\n        name=\"\n        \"\n        id=\"\"\n        cols=\"30\"\n        rows=\"10\"\n        style=\"width: 100%\"\n        v-model=\"datos.deberes\"\n        ></textarea>\n        <br>\n        <br>\n        <div @click=\"actualizar()\" class=\"btn btn-info\">Guardar Cambios</div>\n      </div>\n      <div v-else>\n        <pre style=\"overflow: auto; white-space: pre-wrap; text-indent: 0;\">\n\n         {{datos.deberes }}\n        </pre>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS\nexport default {\n  name: \"Derechos\",\n\n  data() {\n    return {\n      acceso: localStorage.getItem(\"acceso\"),\n      datos:{\n            derechos:\"\",\n            deberes:\"\",\n      }\n     \n    }\n  },\n  mounted() {\n    this.obtenerDatos();\n  },\n\n  methods: {\n\n      obtenerDatos(){\n        fetch(RUTA_SERVIDOR_LIBROS+\"/acerca\")\n        .then((respuesta) => respuesta.json())\n        .then((datosRespuesta) => {\n          console.log(datosRespuesta)\n          this.datos=datosRespuesta[0]\n            })\n          \n        .catch(console.log);\n      },\n\n\n\n      actualizar(){\n\n        if (\n          this.datos.derechos.trim() === \"\" ||\n          this.datos.deberes.trim() === \"\"\n  \n  ) {\n    alert('Por favor, los campos no pueden estar vacios.');\n    return;\n  }\n\n        const confirmacion = window.confirm(\n    '¿Estás seguro de que deseas actualizar estos datos?'\n  );\n\n  if (confirmacion) {\n        axios\n        .put(RUTA_SERVIDOR_LIBROS+\"/acerca/\" + 1, {\n          derechos:this.datos.derechos,\n          deberes:this.datos.deberes\n        })\n        .then(function (response) {\n          console.log(response);\n          location.reload();\n        })\n        .then(alert(\"El tipo de material bibliotecario se actualizo correctamente\"))\n        .catch(function (error) {\n          console.log(error);\n          // console.log(this.libro);\n        });}\n      },\n     \n  }\n  \n}\n</script>"]},"metadata":{},"sourceType":"module"}