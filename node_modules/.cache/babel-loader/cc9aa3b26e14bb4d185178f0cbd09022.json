{"ast":null,"code":"import { w as withConfigTransport } from \"../../services/config-transport/withConfigTransport.js\";\nimport { defineComponent, h, Transition, shallowRef, toRef, computed, watchEffect, watch, onMounted, nextTick, resolveComponent, openBlock, createElementBlock, normalizeClass, renderSlot, normalizeProps, guardReactiveProps, createCommentVNode, createBlock, Teleport, createVNode, mergeProps, withCtx, normalizeStyle, createElementVNode, withKeys, Fragment, toDisplayString, createTextVNode } from \"vue\";\nimport { u as useClickOutside } from \"../../composables/useClickOutside.js\";\nimport { u as useColors } from \"../../composables/useColors.js\";\nimport { u as useComponentPresetProp } from \"../../composables/useComponentPreset.js\";\nimport { u as useDocument } from \"../../composables/useDocument.js\";\nimport { u as useWindow } from \"../../composables/useWindow.js\";\nimport { u as useModalLevel } from \"../../composables/useModalLevel.js\";\nimport { u as useStatefulEmits, a as useStatefulProps, b as useStateful } from \"../../composables/useStateful.js\";\nimport { u as useTextColor } from \"../../composables/useTextColor.js\";\nimport { u as useTranslation } from \"../../composables/useTranslation.js\";\nimport { u as useTrapFocus } from \"../../composables/useTrapFocus.js\";\nimport { V as VaButton } from \"../va-button/index.js\";\nimport { V as VaIcon } from \"../va-icon/index.js\";\nimport { _ as _export_sfc } from \"../../../plugin-vue_export-helper.js\";\n\nvar VaModal_vue_vue_type_style_index_0_lang = /* @__PURE__ */(() => \":root{--va-modal-title-margin-bottom: 1.5rem;--va-modal-position: fixed;--va-modal-top: 0;--va-modal-left: 0;--va-modal-display: flex;--va-modal-width: 100%;--va-modal-height: 100%;--va-modal-align-items: center;--va-modal-justify-content: center;--va-modal-overflow: hidden;--va-modal-outline: 0;--va-modal-z-index: var(--va-z-index-teleport-overlay);--va-modal-container-z-index: 100;--va-modal-basic-duration: .3s;--va-modal-opacity-transition: opacity calc(var(--va-modal-basic-duration) * .5) cubic-bezier(1, .5, .8, 1);--va-modal-transform-transition: transform var(--va-modal-basic-duration) ease;--va-modal-overlay-background-blur-radius: 4px;--va-modal-padding: var(--va-modal-padding-top) var(--va-modal-padding-right) var(--va-modal-padding-bottom) var(--va-modal-padding-left);--va-modal-padding-top: 1.25rem;--va-modal-padding-right: 1.5rem;--va-modal-padding-bottom: 1.5rem;--va-modal-padding-left: 1.5rem;--va-modal-dialog-min-height: 3.125rem;--va-modal-dialog-height: fit-content;--va-modal-dialog-border-radius: .375rem;--va-modal-dialog-margin: 1rem;--va-modal-dialog-box-shadow: 0 4px 70px -18px var(--va-shadow);--va-modal-dialog-max-width: 768px;--va-modal-dialog-max-height:calc(100vh - 2rem);--va-modal-dialog-position: relative;--va-modal-overlay-position: fixed;--va-modal-overlay-top: 0;--va-modal-overlay-left: 0;--va-modal-overlay-z-index: calc(var(--va-modal-container-z-index) - 1);--va-modal-overlay-width: 100vw;--va-modal-overlay-height: 100vh;--va-modal-overlay-opacity-transition: opacity math.div(2 * var(--va-modal-basic-duration), 3) cubic-bezier(1, .5, .8, 1)}.va-modal-overlay-background--blurred>:not(div[class*=va-]){filter:blur(var(--va-modal-overlay-background-blur-radius));position:absolute;height:100%;width:100%}.va-modal{position:var(--va-modal-position);display:var(--va-modal-display);align-items:var(--va-modal-align-items);justify-content:var(--va-modal-justify-content);width:var(--va-modal-width);height:var(--va-modal-height);top:var(--va-modal-top);left:var(--va-modal-left);overflow:var(--va-modal-overflow);outline:var(--va-modal-outline);z-index:var(--va-modal-z-index);font-family:var(--va-font-family)}.va-modal__title{margin-bottom:1.5rem;font-size:.625rem;letter-spacing:.6px;line-height:1.2;font-weight:700;text-transform:uppercase}.va-modal__container{z-index:var(--va-modal-container-z-index);max-width:100%}.va-modal-enter-from .va-modal__container,.va-modal-leave-to .va-modal__container{opacity:0;transform:translateY(-30%)}.va-modal-enter-active .va-modal__container,.va-modal-leave-active .va-modal__container{transition:var(--va-modal-opacity-transition),var(--va-modal-transform-transition)}.va-modal__dialog{min-height:var(--va-modal-dialog-min-height);height:var(--va-modal-dialog-height);border-radius:var(--va-modal-dialog-border-radius, var(--va-block-border-radius));margin:var(--va-modal-dialog-margin);box-shadow:var(--va-modal-dialog-box-shadow, var(--va-block-box-shadow));max-width:var(--va-modal-dialog-max-width);max-height:var(--va-modal-dialog-max-height);position:var(--va-modal-dialog-position);overflow:auto}.va-modal__overlay{position:var(--va-modal-overlay-position);top:var(--va-modal-overlay-top);left:var(--va-modal-overlay-left);z-index:var(--va-modal-overlay-z-index);width:var(--va-modal-overlay-width);height:var(--va-modal-overlay-height)}.va-modal-enter-from .va-modal__overlay,.va-modal-leave-to .va-modal__overlay{opacity:0}.va-modal-enter-active .va-modal__overlay,.va-modal-leave-active .va-modal_overlay{transition:var(--va-modal-overlay-opacity-transition)}.va-modal--fullscreen{min-width:100vw!important;min-height:100vh!important;border-radius:0;margin:0}@media all and (max-width: 576px){.va-modal--mobile-fullscreen{margin:0!important;min-width:100vw!important;min-height:100vh!important;border-radius:0}}.va-modal--size-small{max-width:576px}@media all and (max-width: 576px){.va-modal--size-small{max-width:100vw!important}}.va-modal--size-small .va-modal__inner{max-width:576px}@media all and (max-width: 576px){.va-modal--size-small .va-modal__inner{max-width:100vw!important}}.va-modal--size-large,.va-modal--size-large .va-modal__inner{max-width:992px}.va-modal--fixed-layout .va-modal__inner{overflow:hidden;padding:var(--va-modal-padding-top) 0 var(--va-modal-padding-bottom);max-height:calc(100vh - 2rem)}.va-modal--fixed-layout .va-modal__inner .va-modal__header,.va-modal--fixed-layout .va-modal__inner .va-modal__footer,.va-modal--fixed-layout .va-modal__inner .va-modal__title{padding:0 var(--va-modal-padding-right) 0 var(--va-modal-padding-left)}.va-modal--fixed-layout .va-modal__inner .va-modal__message{padding:0 var(--va-modal-padding-right) 0 var(--va-modal-padding-left);overflow:auto}.va-modal--fixed-layout .va-modal__dialog{overflow:hidden}.va-modal--no-padding .va-modal__inner{padding:0}.va-modal__message{margin-bottom:1.5rem}.va-modal__inner{overflow:visible;display:flex;position:relative;flex-flow:column;padding:var(--va-modal-padding);max-width:768px;margin:auto}.va-modal__inner>div:last-of-type{margin-bottom:0}.va-modal__close{position:absolute;top:1rem;right:1rem;cursor:pointer;font-size:1.5rem;font-style:normal;color:var(--va-secondary);z-index:1}.va-modal__default-cancel-button{margin-right:.75rem}.va-modal__footer{margin-top:auto;min-height:-webkit-fit-content;min-height:-moz-fit-content;min-height:fit-content;display:flex;flex-wrap:wrap;justify-content:center}.va-modal__footer:last-of-type{margin-bottom:0}\\n\")();\n\nconst ModalElement = defineComponent({\n  name: \"ModalElement\",\n  inheritAttrs: false,\n  props: { ...useComponentPresetProp,\n    isTransition: {\n      type: Boolean,\n      default: true\n    }\n  },\n  setup: (props, {\n    slots,\n    attrs\n  }) => () => {\n    var _a;\n\n    return props.isTransition ? h(Transition, { ...attrs\n    }, slots) : (_a = slots.default) == null ? void 0 : _a.call(slots, attrs);\n  }\n});\n\nconst _sfc_main = defineComponent({\n  name: \"VaModal\",\n  inheritAttrs: false,\n  components: {\n    VaButton,\n    VaIcon,\n    ModalElement\n  },\n  emits: [...useStatefulEmits, \"cancel\", \"ok\", \"before-open\", \"open\", \"before-close\", \"close\", \"click-outside\"],\n  props: { ...useStatefulProps,\n    modelValue: {\n      type: Boolean,\n      default: false\n    },\n    attachElement: {\n      type: String,\n      default: \"body\"\n    },\n    disableAttachment: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: \"\"\n    },\n    message: {\n      type: String,\n      default: \"\"\n    },\n    okText: {\n      type: String,\n      default: \"$t:ok\"\n    },\n    cancelText: {\n      type: String,\n      default: \"$t:cancel\"\n    },\n    hideDefaultActions: {\n      type: Boolean,\n      default: false\n    },\n    fullscreen: {\n      type: Boolean,\n      default: false\n    },\n    mobileFullscreen: {\n      type: Boolean,\n      default: true\n    },\n    noDismiss: {\n      type: Boolean,\n      default: false\n    },\n    noOutsideDismiss: {\n      type: Boolean,\n      default: false\n    },\n    noEscDismiss: {\n      type: Boolean,\n      default: false\n    },\n    maxWidth: {\n      type: String,\n      default: \"\"\n    },\n    maxHeight: {\n      type: String,\n      default: \"\"\n    },\n    anchorClass: {\n      type: String\n    },\n    size: {\n      type: String,\n      default: \"medium\",\n      validator: value => [\"medium\", \"small\", \"large\"].includes(value)\n    },\n    fixedLayout: {\n      type: Boolean,\n      default: false\n    },\n    withoutTransitions: {\n      type: Boolean,\n      default: false\n    },\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    overlayOpacity: {\n      type: [Number, String],\n      default: 0.6\n    },\n    blur: {\n      type: Boolean,\n      default: false\n    },\n    zIndex: {\n      type: [Number, String],\n      default: void 0\n    },\n    backgroundColor: {\n      type: String,\n      default: \"background-secondary\"\n    },\n    noPadding: {\n      type: Boolean,\n      default: false\n    },\n    beforeClose: {\n      type: Function\n    }\n  },\n\n  setup(props, {\n    emit\n  }) {\n    const rootElement = shallowRef();\n    const modalDialog = shallowRef();\n    const {\n      trapFocusIn,\n      freeFocus\n    } = useTrapFocus();\n    const {\n      registerModal,\n      unregisterModal,\n      isTopLevelModal,\n      isLowestLevelModal\n    } = useModalLevel();\n    const {\n      getColor\n    } = useColors();\n    const {\n      textColorComputed\n    } = useTextColor(toRef(props, \"backgroundColor\"));\n    const {\n      valueComputed\n    } = useStateful(props, emit);\n    const computedClass = computed(() => ({\n      \"va-modal--fullscreen\": props.fullscreen,\n      \"va-modal--mobile-fullscreen\": props.mobileFullscreen,\n      \"va-modal--fixed-layout\": props.fixedLayout,\n      \"va-modal--no-padding\": props.noPadding,\n      [`va-modal--size-${props.size}`]: props.size !== \"medium\"\n    }));\n    const computedModalContainerStyle = computed(() => ({\n      \"z-index\": props.zIndex\n    }));\n    const computedDialogStyle = computed(() => ({\n      maxWidth: props.maxWidth,\n      maxHeight: props.maxHeight,\n      color: textColorComputed.value,\n      background: getColor(props.backgroundColor)\n    }));\n    const computedOverlayStyles = computed(() => {\n      if (!props.overlay || !isLowestLevelModal.value) {\n        return;\n      }\n\n      return {\n        \"background-color\": `rgba(0, 0, 0, ${props.overlayOpacity})`,\n        \"z-index\": props.zIndex && Number(props.zIndex) - 1\n      };\n    });\n\n    const show = () => {\n      valueComputed.value = true;\n    };\n\n    const hide = cb => {\n      const _hide = () => {\n        valueComputed.value = false;\n        cb == null ? void 0 : cb();\n      };\n\n      props.beforeClose ? props.beforeClose(_hide) : _hide();\n    };\n\n    const toggle = () => {\n      valueComputed.value = !valueComputed.value;\n    };\n\n    const cancel = () => {\n      hide(() => emit(\"cancel\"));\n    };\n\n    const ok = () => {\n      hide(() => emit(\"ok\"));\n    };\n\n    const trapFocusInModal = () => {\n      nextTick(() => {\n        if (modalDialog.value) {\n          trapFocusIn(modalDialog.value);\n        }\n      });\n    };\n\n    const onBeforeEnterTransition = el => emit(\"before-open\", el);\n\n    const onAfterEnterTransition = el => emit(\"open\", el);\n\n    const onBeforeLeaveTransition = el => emit(\"before-close\", el);\n\n    const onAfterLeaveTransition = el => emit(\"close\", el);\n\n    const listenKeyUp = e => {\n      const hideModal = () => {\n        if (e.code === \"Escape\" && !props.noEscDismiss && !props.noDismiss && isTopLevelModal.value) {\n          cancel();\n        }\n      };\n\n      setTimeout(hideModal);\n    };\n\n    useClickOutside([modalDialog], () => {\n      if (!valueComputed.value || props.noOutsideDismiss || props.noDismiss || !isTopLevelModal.value) {\n        return;\n      }\n\n      emit(\"click-outside\");\n      cancel();\n    });\n    const window = useWindow();\n    const document = useDocument();\n    watchEffect(() => {\n      var _a, _b;\n\n      if (valueComputed.value) {\n        (_a = window.value) == null ? void 0 : _a.addEventListener(\"keyup\", listenKeyUp);\n      } else {\n        (_b = window.value) == null ? void 0 : _b.removeEventListener(\"keyup\", listenKeyUp);\n      }\n    });\n    watchEffect(() => {\n      var _a, _b;\n\n      if (props.blur) {\n        if (valueComputed.value) {\n          (_a = document.value) == null ? void 0 : _a.body.classList.add(\"va-modal-overlay-background--blurred\");\n        } else {\n          (_b = document.value) == null ? void 0 : _b.body.classList.remove(\"va-modal-overlay-background--blurred\");\n        }\n      }\n    });\n    watch(valueComputed, newValueComputed => {\n      if (newValueComputed) {\n        registerModal();\n        return;\n      }\n\n      if (isLowestLevelModal.value) {\n        freeFocus();\n      }\n\n      unregisterModal();\n    });\n    watch(isTopLevelModal, newIsTopLevelModal => {\n      if (newIsTopLevelModal) {\n        trapFocusInModal();\n      }\n    });\n    onMounted(() => {\n      if (valueComputed.value) {\n        registerModal();\n      }\n    });\n    const publicMethods = { ...useTranslation(),\n      show,\n      hide,\n      toggle,\n      cancel,\n      ok,\n      onBeforeEnterTransition,\n      onAfterEnterTransition,\n      onBeforeLeaveTransition,\n      onAfterLeaveTransition,\n      listenKeyUp\n    };\n    return {\n      getColor,\n      rootElement,\n      modalDialog,\n      valueComputed,\n      computedClass,\n      computedDialogStyle,\n      computedModalContainerStyle,\n      computedOverlayStyles,\n      ...publicMethods\n    };\n  }\n\n});\n\nconst _hoisted_1 = [\"aria-labelledby\"];\nconst _hoisted_2 = {\n  key: 0,\n  class: \"va-modal__anchor\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"va-modal\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"va-modal__header\"\n};\nconst _hoisted_6 = {\n  key: 2,\n  class: \"va-modal__message\"\n};\nconst _hoisted_7 = {\n  key: 3,\n  class: \"va-modal__message\"\n};\nconst _hoisted_8 = {\n  key: 4,\n  class: \"va-modal__footer\"\n};\nconst _hoisted_9 = {\n  key: 5,\n  class: \"va-modal__footer\"\n};\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_va_icon = resolveComponent(\"va-icon\");\n\n  const _component_va_button = resolveComponent(\"va-button\");\n\n  const _component_modal_element = resolveComponent(\"modal-element\");\n\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"rootElement\",\n    class: normalizeClass([\"va-modal-entry\", _ctx.$props.anchorClass]),\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    \"aria-labelledby\": _ctx.title\n  }, [_ctx.$slots.anchor ? (openBlock(), createElementBlock(\"div\", _hoisted_2, [renderSlot(_ctx.$slots, \"anchor\", normalizeProps(guardReactiveProps({\n    show: _ctx.show,\n    hide: _ctx.hide,\n    toggle: _ctx.toggle\n  })))])) : createCommentVNode(\"\", true), (openBlock(), createBlock(Teleport, {\n    to: _ctx.attachElement,\n    disabled: _ctx.$props.disableAttachment\n  }, [createVNode(_component_modal_element, mergeProps({\n    name: \"va-modal\",\n    isTransition: !_ctx.$props.withoutTransitions,\n    appear: \"\",\n    duration: 300\n  }, _ctx.$attrs, {\n    onBeforeEnter: _ctx.onBeforeEnterTransition,\n    onAfterEnter: _ctx.onAfterEnterTransition,\n    onBeforeLeave: _ctx.onBeforeLeaveTransition,\n    onAfterLeave: _ctx.onAfterLeaveTransition\n  }), {\n    default: withCtx(() => [_ctx.valueComputed ? (openBlock(), createElementBlock(\"div\", _hoisted_3, [_ctx.$props.overlay ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      class: \"va-modal__overlay\",\n      style: normalizeStyle(_ctx.computedOverlayStyles)\n    }, null, 4)) : createCommentVNode(\"\", true), createElementVNode(\"div\", {\n      class: \"va-modal__container\",\n      style: normalizeStyle(_ctx.computedModalContainerStyle)\n    }, [createElementVNode(\"div\", {\n      ref: \"modalDialog\",\n      class: normalizeClass([\"va-modal__dialog\", _ctx.computedClass]),\n      style: normalizeStyle(_ctx.computedDialogStyle)\n    }, [_ctx.$props.fullscreen ? (openBlock(), createBlock(_component_va_icon, {\n      key: 0,\n      name: \"va-close\",\n      class: \"va-modal__close\",\n      role: \"button\",\n      \"aria-label\": _ctx.t(\"close\"),\n      tabindex: \"0\",\n      onClick: _ctx.cancel,\n      onKeydown: [withKeys(_ctx.cancel, [\"space\"]), withKeys(_ctx.cancel, [\"enter\"])]\n    }, null, 8, [\"aria-label\", \"onClick\", \"onKeydown\"])) : createCommentVNode(\"\", true), createElementVNode(\"div\", {\n      class: \"va-modal__inner\",\n      style: normalizeStyle({\n        maxWidth: _ctx.$props.maxWidth,\n        maxHeight: _ctx.$props.maxHeight\n      })\n    }, [_ctx.$slots.content ? (openBlock(), createElementBlock(\"div\", _hoisted_4, [renderSlot(_ctx.$slots, \"content\", normalizeProps(guardReactiveProps({\n      cancel: _ctx.cancel,\n      ok: _ctx.ok\n    })))])) : createCommentVNode(\"\", true), !_ctx.$slots.content ? (openBlock(), createElementBlock(Fragment, {\n      key: 1\n    }, [_ctx.title ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      class: \"va-modal__title\",\n      style: normalizeStyle({\n        color: _ctx.getColor(\"primary\")\n      })\n    }, toDisplayString(_ctx.$props.title), 5)) : createCommentVNode(\"\", true), _ctx.$slots.header ? (openBlock(), createElementBlock(\"div\", _hoisted_5, [renderSlot(_ctx.$slots, \"header\")])) : createCommentVNode(\"\", true), _ctx.$props.message ? (openBlock(), createElementBlock(\"div\", _hoisted_6, toDisplayString(_ctx.$props.message), 1)) : createCommentVNode(\"\", true), _ctx.$slots.default ? (openBlock(), createElementBlock(\"div\", _hoisted_7, [renderSlot(_ctx.$slots, \"default\")])) : createCommentVNode(\"\", true), (_ctx.$props.cancelText || _ctx.$props.okText) && !_ctx.$props.hideDefaultActions ? (openBlock(), createElementBlock(\"div\", _hoisted_8, [_ctx.$props.cancelText ? (openBlock(), createBlock(_component_va_button, {\n      key: 0,\n      preset: \"secondary\",\n      color: \"secondary\",\n      class: \"va-modal__default-cancel-button\",\n      onClick: _ctx.cancel\n    }, {\n      default: withCtx(() => [createTextVNode(toDisplayString(_ctx.tp(_ctx.$props.cancelText)), 1)]),\n      _: 1\n    }, 8, [\"onClick\"])) : createCommentVNode(\"\", true), createVNode(_component_va_button, {\n      onClick: _ctx.ok\n    }, {\n      default: withCtx(() => [createTextVNode(toDisplayString(_ctx.tp(_ctx.$props.okText)), 1)]),\n      _: 1\n    }, 8, [\"onClick\"])])) : createCommentVNode(\"\", true), _ctx.$slots.footer ? (openBlock(), createElementBlock(\"div\", _hoisted_9, [renderSlot(_ctx.$slots, \"footer\")])) : createCommentVNode(\"\", true)], 64)) : createCommentVNode(\"\", true)], 4)], 6)], 4)])) : createCommentVNode(\"\", true)]),\n    _: 3\n  }, 16, [\"isTransition\", \"onBeforeEnter\", \"onAfterEnter\", \"onBeforeLeave\", \"onAfterLeave\"])], 8, [\"to\", \"disabled\"]))], 10, _hoisted_1);\n}\n\nvar _VaModal = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nconst VaModal = withConfigTransport(_VaModal);\nexport { VaModal as V };\nimport './VaModal.css';","map":{"version":3,"mappings":"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","names":["ModalElement","defineComponent","name","inheritAttrs","props","useComponentPresetProp","isTransition","type","Boolean","default","setup","slots","attrs","h","Transition","_sfc_main","components","VaButton","VaIcon","emits","useStatefulEmits","useStatefulProps","modelValue","attachElement","String","disableAttachment","title","message","okText","cancelText","hideDefaultActions","fullscreen","mobileFullscreen","noDismiss","noOutsideDismiss","noEscDismiss","maxWidth","maxHeight","anchorClass","size","validator","value","includes","fixedLayout","withoutTransitions","overlay","overlayOpacity","Number","blur","zIndex","backgroundColor","noPadding","beforeClose","Function","emit","rootElement","shallowRef","modalDialog","trapFocusIn","freeFocus","useTrapFocus","registerModal","unregisterModal","isTopLevelModal","isLowestLevelModal","useModalLevel","getColor","useColors","textColorComputed","useTextColor","toRef","valueComputed","useStateful","computed","computedModalContainerStyle","color","background","show","cb","_hide","toggle","cancel","hide","ok","trapFocusInModal","nextTick","onBeforeEnterTransition","el","onAfterEnterTransition","onBeforeLeaveTransition","onAfterLeaveTransition","e","hideModal","code","setTimeout","useClickOutside","window","useWindow","document","useDocument","watchEffect","addEventListener","listenKeyUp","removeEventListener","body","classList","add","remove","watch","newValueComputed","newIsTopLevelModal","onMounted","publicMethods","useTranslation","computedClass","computedDialogStyle","computedOverlayStyles","class","_createElementBlock","ref","_normalizeClass","_ctx","role","$slots","anchor","_openBlock","_renderSlot","_normalizeProps","_createCommentVNode","openBlock","_createBlock","_Teleport","to","disabled","$props","_createVNode","_component_modal_element","appear","duration","_mergeProps","$attrs","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave","key","style","_normalizeStyle","_createElementVNode","_component_va_icon","t","tabindex","onClick","onKeydown","_withKeys","createCommentVNode","content","_hoisted_4","_Fragment","_toDisplayString","header","_component_va_button","preset","_createTextVNode","_","_withCtx","footer","withConfigTransport","_VaModal"],"sources":["../../../../../src/components/va-modal/VaModal.vue","../../../../../src/components/va-modal/VaModal.ts"],"sourcesContent":["<template>\n  <div\n    ref=\"rootElement\"\n    class=\"va-modal-entry\"\n    role=\"dialog\"\n    aria-modal=\"true\"\n    :aria-labelledby=\"title\"\n    :class=\"$props.anchorClass\"\n  >\n    <div v-if=\"$slots.anchor\" class=\"va-modal__anchor\">\n      <slot name=\"anchor\" v-bind=\"{ show, hide, toggle }\" />\n    </div>\n\n    <teleport :to=\"attachElement\" :disabled=\"$props.disableAttachment\">\n      <modal-element\n        name=\"va-modal\"\n        :isTransition=\"!$props.withoutTransitions\"\n        appear\n        :duration=\"300\"\n        v-bind=\"$attrs\"\n        @beforeEnter=\"onBeforeEnterTransition\"\n        @afterEnter=\"onAfterEnterTransition\"\n        @beforeLeave=\"onBeforeLeaveTransition\"\n        @afterLeave=\"onAfterLeaveTransition\"\n      >\n        <div class=\"va-modal\" v-if=\"valueComputed\">\n          <div\n            v-if=\"$props.overlay\"\n            class=\"va-modal__overlay\"\n            :style=\"computedOverlayStyles\"\n          />\n          <div\n            class=\"va-modal__container\"\n            :style=\"computedModalContainerStyle\"\n          >\n            <div\n              ref=\"modalDialog\"\n              class=\"va-modal__dialog\"\n              :class=\"computedClass\"\n              :style=\"computedDialogStyle\"\n            >\n              <va-icon\n                v-if=\"$props.fullscreen\"\n                name=\"va-close\"\n                class=\"va-modal__close\"\n                role=\"button\"\n                :aria-label=\"t('close')\"\n                tabindex=\"0\"\n                @click=\"cancel\"\n                @keydown.space=\"cancel\"\n                @keydown.enter=\"cancel\"\n              />\n              <div\n                class=\"va-modal__inner\"\n                :style=\"{ maxWidth: $props.maxWidth, maxHeight: $props.maxHeight }\"\n              >\n                <div v-if=\"$slots.content\">\n                  <slot name=\"content\" v-bind=\"{ cancel, ok }\" />\n                </div>\n                <template v-if=\"!$slots.content\">\n                  <div\n                    v-if=\"title\"\n                    class=\"va-modal__title\"\n                    :style=\"{ color: getColor('primary') }\"\n                  >\n                    {{ $props.title }}\n                  </div>\n                  <div\n                    v-if=\"$slots.header\"\n                    class=\"va-modal__header\"\n                  >\n                    <slot name=\"header\" />\n                  </div>\n                  <div\n                    v-if=\"$props.message\"\n                    class=\"va-modal__message\"\n                  >\n                    {{ $props.message }}\n                  </div>\n                  <div\n                    v-if=\"$slots.default\"\n                    class=\"va-modal__message\"\n                  >\n                    <slot />\n                  </div>\n                  <div\n                    v-if=\"($props.cancelText || $props.okText) && !$props.hideDefaultActions\"\n                    class=\"va-modal__footer\"\n                  >\n                    <va-button\n                      v-if=\"$props.cancelText\"\n                      preset=\"secondary\"\n                      color=\"secondary\"\n                      class=\"va-modal__default-cancel-button\"\n                      @click=\"cancel\"\n                    >\n                      {{ tp($props.cancelText) }}\n                    </va-button>\n                    <va-button @click=\"ok\">\n                      {{ tp($props.okText) }}\n                    </va-button>\n                  </div>\n                  <div\n                    v-if=\"$slots.footer\"\n                    class=\"va-modal__footer\"\n                  >\n                    <slot name=\"footer\" />\n                  </div>\n                </template>\n              </div>\n            </div>\n          </div>\n        </div>\n      </modal-element>\n    </teleport>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport type { PropType, StyleValue } from 'vue'\nimport {\n  Transition,\n  h,\n  defineComponent,\n  computed,\n  shallowRef,\n  toRef,\n  watchEffect,\n  onMounted,\n  nextTick, watch,\n} from 'vue'\n\nimport {\n  useStateful, useStatefulProps, useStatefulEmits,\n  useColors, useTextColor,\n  useWindow, useDocument,\n  useComponentPresetProp,\n  useTrapFocus,\n  useModalLevel,\n  useTranslation,\n  useClickOutside,\n} from '../../composables'\n\nimport { VaButton } from '../va-button'\nimport { VaIcon } from '../va-icon'\n\nconst ModalElement = defineComponent({\n  name: 'ModalElement',\n  inheritAttrs: false,\n  props: {\n    ...useComponentPresetProp,\n    isTransition: { type: Boolean, default: true },\n  },\n  setup: (props, { slots, attrs }) => () => props.isTransition\n    ? h(Transition, { ...attrs }, slots)\n    : slots.default?.(attrs),\n})\n\nexport default defineComponent({\n  name: 'VaModal',\n  inheritAttrs: false,\n  components: { VaButton, VaIcon, ModalElement },\n  emits: [\n    ...useStatefulEmits,\n    'cancel', 'ok', 'before-open', 'open', 'before-close', 'close', 'click-outside',\n  ],\n  props: {\n    ...useStatefulProps,\n    modelValue: { type: Boolean, default: false },\n    attachElement: { type: String, default: 'body' },\n    disableAttachment: { type: Boolean, default: false },\n    title: { type: String, default: '' },\n    message: { type: String, default: '' },\n    okText: { type: String, default: '$t:ok' },\n    cancelText: { type: String, default: '$t:cancel' },\n    hideDefaultActions: { type: Boolean, default: false },\n    fullscreen: { type: Boolean, default: false },\n    mobileFullscreen: { type: Boolean, default: true },\n    noDismiss: { type: Boolean, default: false },\n    noOutsideDismiss: { type: Boolean, default: false },\n    noEscDismiss: { type: Boolean, default: false },\n    maxWidth: { type: String, default: '' },\n    maxHeight: { type: String, default: '' },\n    anchorClass: { type: String },\n    size: {\n      type: String as PropType<'medium' | 'small' | 'large'>,\n      default: 'medium',\n      validator: (value: string) => ['medium', 'small', 'large'].includes(value),\n    },\n    fixedLayout: { type: Boolean, default: false },\n    withoutTransitions: { type: Boolean, default: false },\n    overlay: { type: Boolean, default: true },\n    overlayOpacity: { type: [Number, String], default: 0.6 },\n    blur: { type: Boolean, default: false },\n    zIndex: { type: [Number, String], default: undefined },\n    backgroundColor: { type: String, default: 'background-secondary' },\n    noPadding: { type: Boolean, default: false },\n    beforeClose: { type: Function as PropType<(hide: () => void) => any> },\n  },\n  setup (props, { emit }) {\n    const rootElement = shallowRef<HTMLElement>()\n    const modalDialog = shallowRef<HTMLElement>()\n    const { trapFocusIn, freeFocus } = useTrapFocus()\n\n    const {\n      registerModal,\n      unregisterModal,\n      isTopLevelModal,\n      isLowestLevelModal,\n    } = useModalLevel()\n\n    const { getColor } = useColors()\n    const { textColorComputed } = useTextColor(toRef(props, 'backgroundColor'))\n    const { valueComputed } = useStateful(props, emit)\n\n    const computedClass = computed(() => ({\n      'va-modal--fullscreen': props.fullscreen,\n      'va-modal--mobile-fullscreen': props.mobileFullscreen,\n      'va-modal--fixed-layout': props.fixedLayout,\n      'va-modal--no-padding': props.noPadding,\n      [`va-modal--size-${props.size}`]: props.size !== 'medium',\n    }))\n    const computedModalContainerStyle = computed(() => ({ 'z-index': props.zIndex } as StyleValue))\n    const computedDialogStyle = computed(() => ({\n      maxWidth: props.maxWidth,\n      maxHeight: props.maxHeight,\n      color: textColorComputed.value,\n      background: getColor(props.backgroundColor),\n    }))\n    const computedOverlayStyles = computed(() => {\n      // NOTE Not sure exactly what that does.\n      // Supposedly solves some case when background wasn't shown.\n      // As a side effect removes background from nested modals.\n\n      if (!props.overlay || !isLowestLevelModal.value) { return }\n\n      return {\n        'background-color': `rgba(0, 0, 0, ${props.overlayOpacity})`,\n        'z-index': props.zIndex && Number(props.zIndex) - 1,\n      } as StyleValue\n    })\n\n    const show = () => { valueComputed.value = true }\n    const hide = (cb?: () => void) => {\n      const _hide = () => {\n        valueComputed.value = false\n        cb?.()\n      }\n      props.beforeClose ? props.beforeClose(_hide) : _hide()\n    }\n    const toggle = () => { valueComputed.value = !valueComputed.value }\n    const cancel = () => { hide(() => emit('cancel')) }\n    const ok = () => { hide(() => emit('ok')) }\n    const trapFocusInModal = () => {\n      nextTick(() => { // trapFocusIn use querySelector, so need nextTick, to be sure, that DOM has been updated after modal has been opened\n        if (modalDialog.value) {\n          trapFocusIn(modalDialog.value)\n        }\n      })\n    }\n\n    const onBeforeEnterTransition = (el: HTMLElement) => emit('before-open', el)\n    const onAfterEnterTransition = (el: HTMLElement) => emit('open', el)\n    const onBeforeLeaveTransition = (el: HTMLElement) => emit('before-close', el)\n    const onAfterLeaveTransition = (el: HTMLElement) => emit('close', el)\n\n    const listenKeyUp = (e: KeyboardEvent) => {\n      const hideModal = () => {\n        if (e.code === 'Escape' && !props.noEscDismiss && !props.noDismiss && isTopLevelModal.value) {\n          cancel()\n        }\n      }\n\n      setTimeout(hideModal)\n    }\n\n    useClickOutside([modalDialog], () => {\n      if (!valueComputed.value || props.noOutsideDismiss || props.noDismiss || !isTopLevelModal.value) { return }\n\n      emit('click-outside')\n      cancel()\n    })\n\n    const window = useWindow()\n    const document = useDocument()\n\n    watchEffect(() => {\n      if (valueComputed.value) {\n        window.value?.addEventListener('keyup', listenKeyUp)\n      } else {\n        window.value?.removeEventListener('keyup', listenKeyUp)\n      }\n    })\n\n    watchEffect(() => {\n      if (props.blur) {\n        if (valueComputed.value) {\n          document.value?.body.classList.add('va-modal-overlay-background--blurred')\n        } else {\n          document.value?.body.classList.remove('va-modal-overlay-background--blurred')\n        }\n      }\n    })\n\n    watch(valueComputed, newValueComputed => { // watch for open/close modal\n      if (newValueComputed) {\n        registerModal()\n        return\n      }\n\n      if (isLowestLevelModal.value) {\n        freeFocus()\n      }\n      unregisterModal()\n    })\n\n    watch(isTopLevelModal, newIsTopLevelModal => {\n      if (newIsTopLevelModal) {\n        trapFocusInModal()\n      }\n    })\n\n    onMounted(() => {\n      if (valueComputed.value) { // case when open modal with this.$vaModal.init\n        registerModal()\n      }\n    })\n\n    const publicMethods = {\n      ...useTranslation(),\n      show,\n      hide,\n      toggle,\n      cancel,\n      ok,\n      onBeforeEnterTransition,\n      onAfterEnterTransition,\n      onBeforeLeaveTransition,\n      onAfterLeaveTransition,\n      listenKeyUp,\n    }\n\n    return {\n      getColor,\n      rootElement,\n      modalDialog,\n      valueComputed,\n      computedClass,\n      computedDialogStyle,\n      computedModalContainerStyle,\n      computedOverlayStyles,\n      ...publicMethods,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-modal-overlay-background--blurred > :not(div[class*=\"va-\"]) {\n  filter: blur(var(--va-modal-overlay-background-blur-radius));\n  position: absolute;\n  height: 100%;\n  width: 100%;\n}\n\n.va-modal {\n  position: var(--va-modal-position);\n  display: var(--va-modal-display);\n  align-items: var(--va-modal-align-items);\n  justify-content: var(--va-modal-justify-content);\n  width: var(--va-modal-width);\n  height: var(--va-modal-height);\n  top: var(--va-modal-top);\n  left: var(--va-modal-left);\n  overflow: var(--va-modal-overflow);\n  outline: var(--va-modal-outline);\n  z-index: var(--va-modal-z-index);\n  font-family: var(--va-font-family);\n\n  &__title {\n    margin-bottom: 1.5rem;\n\n    @include va-title();\n  }\n\n  &__container {\n    z-index: var(--va-modal-container-z-index);\n    max-width: 100%;\n  }\n\n  &-enter-from &__container,\n  &-leave-to &__container {\n    opacity: 0;\n    transform: translateY(-30%);\n  }\n\n  &-enter-active &__container,\n  &-leave-active &__container {\n    transition: var(--va-modal-opacity-transition), var(--va-modal-transform-transition);\n  }\n\n  &__dialog {\n    min-height: var(--va-modal-dialog-min-height);\n    height: var(--va-modal-dialog-height);\n    border-radius: var(--va-modal-dialog-border-radius, var(--va-block-border-radius));\n    margin: var(--va-modal-dialog-margin);\n    box-shadow: var(--va-modal-dialog-box-shadow, var(--va-block-box-shadow));\n    max-width: var(--va-modal-dialog-max-width);\n    max-height: var(--va-modal-dialog-max-height);\n    position: var(--va-modal-dialog-position);\n    overflow: auto;\n  }\n\n  &__overlay {\n    position: var(--va-modal-overlay-position);\n    top: var(--va-modal-overlay-top);\n    left: var(--va-modal-overlay-left);\n    z-index: var(--va-modal-overlay-z-index);\n    width: var(--va-modal-overlay-width);\n    height: var(--va-modal-overlay-height);\n  }\n\n  &-enter-from &__overlay,\n  &-leave-to &__overlay {\n    opacity: 0;\n  }\n\n  &-enter-active &__overlay,\n  &-leave-active &_overlay {\n    transition: var(--va-modal-overlay-opacity-transition);\n  }\n\n  &--fullscreen {\n    min-width: 100vw !important;\n    min-height: 100vh !important;\n    border-radius: 0;\n    margin: 0;\n  }\n\n  &--mobile-fullscreen {\n    @media all and (max-width: map-get($grid-breakpoints, sm)) {\n      margin: 0 !important;\n      min-width: 100vw !important;\n      min-height: 100vh !important;\n      border-radius: 0;\n    }\n  }\n\n  &--size {\n    &-small {\n      max-width: map_get($grid-breakpoints, sm);\n\n      @media all and (max-width: map-get($grid-breakpoints, sm)) {\n        max-width: 100vw !important;\n      }\n\n      .va-modal__inner {\n        max-width: map_get($grid-breakpoints, sm);\n\n        @media all and (max-width: map-get($grid-breakpoints, sm)) {\n          max-width: 100vw !important;\n        }\n      }\n    }\n\n    &-large {\n      max-width: map-get($grid-breakpoints, lg);\n\n      .va-modal__inner {\n        max-width: map-get($grid-breakpoints, lg);\n      }\n    }\n  }\n\n  &--fixed-layout {\n    .va-modal__inner {\n      overflow: hidden;\n      padding: var(--va-modal-padding-top) 0 var(--va-modal-padding-bottom);\n      max-height: calc(100vh - 2rem);\n\n      .va-modal__header,\n      .va-modal__footer,\n      .va-modal__title {\n        padding: 0 var(--va-modal-padding-right) 0 var(--va-modal-padding-left);\n      }\n\n      .va-modal__message {\n        padding: 0 var(--va-modal-padding-right) 0 var(--va-modal-padding-left);\n        overflow: auto;\n      }\n    }\n\n    .va-modal__dialog {\n      overflow: hidden;\n    }\n  }\n\n  &--no-padding {\n    .va-modal__inner {\n      padding: 0;\n    }\n  }\n\n  &__message {\n    margin-bottom: 1.5rem;\n  }\n\n  &__inner {\n    overflow: visible;\n    display: flex;\n    position: relative;\n    flex-flow: column;\n    padding: var(--va-modal-padding);\n    max-width: map_get($grid-breakpoints, md);\n    margin: auto;\n\n    > div:last-of-type {\n      margin-bottom: 0;\n    }\n  }\n\n  &__close {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    cursor: pointer;\n    font-size: 1.5rem;\n    font-style: normal;\n    color: var(--va-secondary);\n    z-index: 1;\n  }\n\n  &__default-cancel-button {\n    margin-right: 0.75rem;\n  }\n\n  &__footer {\n    margin-top: auto;\n    min-height: fit-content;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n  }\n}\n</style>\n","import withConfigTransport from '../../services/config-transport/withConfigTransport'\nimport _VaModal from './VaModal.vue'\n\nexport const VaModal = withConfigTransport(_VaModal)\n"]},"metadata":{},"sourceType":"module"}