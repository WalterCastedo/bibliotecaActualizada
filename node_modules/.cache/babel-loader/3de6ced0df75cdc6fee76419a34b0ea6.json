{"ast":null,"code":"import axios from \"axios\";\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS;\nexport default {\n  name: \"Mision\",\n\n  data() {\n    return {\n      acceso: localStorage.getItem(\"acceso\"),\n      datos: {\n        mision: \"\",\n        vision: \"\"\n      }\n    };\n  },\n\n  mounted() {\n    this.obtenerDatos();\n  },\n\n  methods: {\n    obtenerDatos() {\n      fetch(RUTA_SERVIDOR_LIBROS + \"/acerca\").then(respuesta => respuesta.json()).then(datosRespuesta => {\n        console.log(datosRespuesta);\n        this.datos = datosRespuesta[0];\n      }).catch(console.log);\n    },\n\n    actualizar() {\n      if (this.datos.mision.trim() === \"\" || this.datos.vision.trim() === \"\") {\n        alert('Por favor, los campos no pueden estar vacios.');\n        return;\n      }\n\n      const confirmacion = window.confirm('¿Estás seguro de que deseas actualizar estos datos?');\n\n      if (confirmacion) {\n        axios.put(RUTA_SERVIDOR_LIBROS + \"/acerca/\" + 1, {\n          mision: this.datos.mision,\n          vision: this.datos.vision\n        }).then(function (response) {\n          console.log(response);\n          location.reload();\n        }).then(alert(\"El tipo de material bibliotecario se actualizo correctamente\")).catch(function (error) {\n          console.log(error); // console.log(this.libro);\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAsDA;AACA;AACA;EACAA,cADA;;EAGAC;IACA;MACAC,sCADA;MAEAC;QACAC,UADA;QAEAC;MAFA;IAFA;EAQA,CAZA;;EAaAC;IACA;EACA,CAfA;;EAiBAC;IAEAC;MACAC,wCACAC,IADA,CACAC,6BADA,EAEAD,IAFA,CAEAE;QACAC;QACA;MACA,CALA,EAOAC,KAPA,CAOAD,WAPA;IAQA,CAXA;;IAeAE;MACA,IACA,mCACA,+BAFA,EAIA;QACAC;QACA;MACA;;MACA,oCACA,qDADA;;MAIA;QACAC,MACAC,GADA,CACAC,qCADA,EACA;UACAf,yBADA;UAEAC;QAFA,CADA,EAKAK,IALA,CAKA;UACAG;UACAO;QACA,CARA,EASAV,IATA,CASAM,qEATA,EAUAF,KAVA,CAUA;UACAD,mBADA,CAEA;QACA,CAbA;MAaA;IACA;;EA3CA;AAjBA","names":["name","data","acceso","datos","mision","vision","mounted","methods","obtenerDatos","fetch","then","respuesta","datosRespuesta","console","catch","actualizar","alert","axios","put","RUTA_SERVIDOR_LIBROS","location"],"sourceRoot":"src/components","sources":["Mision.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"px-5\">\n      <h1>Misión</h1>\n      <div v-if=\"acceso == 2\">\n\n        <textarea\n        name=\"\n        \"\n        id=\"\"\n        cols=\"30\"\n        rows=\"10\"\n        style=\"width: 100%\"\n        v-model=\"datos.mision\"\n        >\n     \n      </textarea>\n    \n      </div>\n      <div v-else>\n        <pre style=\"overflow: auto; white-space: pre-wrap; text-indent: 0;\">\n\n       {{datos.mision}}\n        </pre>\n      </div>\n    </div>\n    <br>\n    <div class=\"px-5\">\n      <h1>Visión</h1>\n      <div v-if=\"acceso == 2\">\n\n        <textarea\n        name=\"\n        \"\n        id=\"\"\n        cols=\"30\"\n        rows=\"10\"\n        style=\"width: 100%\"\n        v-model=\"datos.vision\"\n        ></textarea>\n        <br>\n        <br>\n        <div @click=\"actualizar()\" class=\"btn btn-info\">Guardar Cambios</div>\n      </div>\n      <div v-else>\n        <pre style=\"overflow: auto; white-space: pre-wrap; text-indent: 0;\">\n\n         {{datos.vision }}\n        </pre>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nexport const RUTA_SERVIDOR_LIBROS = process.env.VUE_APP_RUTA_API_LIBROS\nexport default {\n  name: \"Mision\",\n\n  data() {\n    return {\n      acceso: localStorage.getItem(\"acceso\"),\n      datos:{\n            mision:\"\",\n            vision:\"\",\n      }\n     \n    }\n  },\n  mounted() {\n    this.obtenerDatos();\n  },\n\n  methods: {\n\n      obtenerDatos(){\n        fetch(RUTA_SERVIDOR_LIBROS+\"/acerca\")\n        .then((respuesta) => respuesta.json())\n        .then((datosRespuesta) => {\n          console.log(datosRespuesta)\n          this.datos=datosRespuesta[0]\n            })\n          \n        .catch(console.log);\n      },\n\n\n\n      actualizar(){\n        if (\n          this.datos.mision.trim() === \"\" ||\n          this.datos.vision.trim() === \"\"\n  \n  ) {\n    alert('Por favor, los campos no pueden estar vacios.');\n    return;\n  }\n        const confirmacion = window.confirm(\n    '¿Estás seguro de que deseas actualizar estos datos?'\n  );\n\n  if (confirmacion) {\n        axios\n        .put(RUTA_SERVIDOR_LIBROS+\"/acerca/\" + 1, {\n          mision:this.datos.mision,\n          vision:this.datos.vision\n        })\n        .then(function (response) {\n          console.log(response);\n          location.reload();\n        })\n        .then(alert(\"El tipo de material bibliotecario se actualizo correctamente\"))\n        .catch(function (error) {\n          console.log(error);\n          // console.log(this.libro);\n        });}\n      },\n     \n  }\n  \n}\n</script>"]},"metadata":{},"sourceType":"module"}