{"ast":null,"code":"import { d as defineVuesticPlugin } from \"../utils/define-vuestic-plugin.js\";\nimport { u as usePlugin } from \"../utils/use-plugin.js\";\nimport { s as setCurrentApp } from \"../../current-app.js\";\nimport { G as GlobalConfigPlugin } from \"../../global-config/plugin/index.js\";\nimport { C as ColorConfigPlugin } from \"../../color/plugin/index.js\";\nimport { C as CachePlugin } from \"../../cache/plugin/index.js\";\nconst ESSENTIAL_PLUGIN_NAMES = [\"GlobalConfigPlugin\", \"ColorConfigPlugin\"];\nconst createVuesticEssential = defineVuesticPlugin((options = {}) => ({\n  install(app) {\n    const {\n      config,\n      components,\n      plugins\n    } = options;\n    setCurrentApp(app);\n    usePlugin(app, (plugins == null ? void 0 : plugins.GlobalConfigPlugin) || GlobalConfigPlugin, config);\n    usePlugin(app, (plugins == null ? void 0 : plugins.CachePlugin) || CachePlugin);\n    usePlugin(app, (plugins == null ? void 0 : plugins.ColorConfigPlugin) || ColorConfigPlugin, config);\n\n    if (plugins) {\n      Object.entries(plugins).forEach(([name, plugin]) => {\n        if (ESSENTIAL_PLUGIN_NAMES.includes(name)) {\n          return;\n        }\n\n        usePlugin(app, plugin);\n      });\n    }\n\n    if (components) {\n      Object.entries(components).forEach(([name, component]) => {\n        app.component(name, component);\n      });\n    }\n\n    setCurrentApp(null);\n  }\n\n}));\nexport { createVuesticEssential as c };","map":{"version":3,"mappings":";;;;;;AAQA,MAAMA,yBAAyB,CAAC,oBAAD,EAAuB,mBAAvB,CAA/B;AAiBO,MAAMC,yBAAyBC,oBAAoB,CAACC,UAItD,EAJqD,MAI7C;EACXC,QAASC,GAAT,EAAc;IACN;MAAEC,MAAF;MAAUC,UAAV;MAAsBC;IAAtB,IAAkCL,OAAlC;IAENM,cAAcJ,GAAd;IAGAK,UAAUL,GAAV,EAAe,oCAASM,kBAAT,KAA+BA,kBAA9C,EAAkEL,MAAlE;IACUI,eAAK,oCAASE,WAAT,KAAwBA,WAA7B;IACVF,UAAUL,GAAV,EAAe,oCAASQ,iBAAT,KAA8BA,iBAA7C,EAAgEP,MAAhE;;IAEA,IAAIE,OAAJ,EAAa;MACXM,OAAOC,OAAP,CAAeP,OAAf,EAAwBQ,OAAxB,CAAgC,CAAC,CAACC,IAAD,EAAOC,MAAP,CAAD,KAAoB;QAC9C,2BAAuBC,QAAvB,CAAgCF,IAAhC,GAAuC;UAAE;QAAO;;QACpDP,UAAUL,GAAV,EAAea,MAAf;MACD,CAHD;IAIF;;IAEA,IAAIX,UAAJ,EAAgB;MACdO,OAAOC,OAAP,CAAeR,UAAf,EAA2BS,OAA3B,CAAmC,CAAC,CAACC,IAAD,EAAOG,SAAP,CAAD,KAAuB;QACpDf,cAAUY,IAAV,EAAgBG,SAAhB;MACL,CAFD;IAGF;;IAEAX,cAAc,IAAd;EACF;;AAzBW,CAJ6C,CAApB,CAA/B","names":["ESSENTIAL_PLUGIN_NAMES","createVuesticEssential","defineVuesticPlugin","options","install","app","config","components","plugins","setCurrentApp","usePlugin","GlobalConfigPlugin","CachePlugin","ColorConfigPlugin","Object","entries","forEach","name","plugin","includes","component"],"sources":["../../../../../../src/services/vue-plugin/create-vuestic/create-vuestic-essential.ts"],"sourcesContent":["import type { VuesticComponent, VuesticPlugin, VuesticPluginFabric } from '../types'\nimport { defineVuesticPlugin } from '../utils/define-vuestic-plugin'\nimport type { PartialGlobalConfig } from '../../global-config/global-config'\nimport { usePlugin } from '../utils'\nimport { setCurrentApp } from '../../current-app'\n\nimport { GlobalConfigPlugin, ColorConfigPlugin, CachePlugin } from '../plugins'\n\nconst ESSENTIAL_PLUGIN_NAMES = ['GlobalConfigPlugin', 'ColorConfigPlugin']\n\n/**\n * Register only essential Vuestic Plugins.\n *\n * This plugin will register globally only provided component and plugins in options.\n * @notice this plugin will not bundle all vuestic conponents and plugins\n *\n * @example\n * ```ts\n * createVuesticEssential({\n *   plugins: [VaToastPlugin],  // or [VaToastPlugin({ makeLifeEasier: true })],\n *   components: { VaButton, VaInput },\n *   config: { VaButton: { color: '#f0f' } }\n * })\n * ```\n */\nexport const createVuesticEssential = defineVuesticPlugin((options: {\n  config?: PartialGlobalConfig,\n  components?: Record<string, VuesticComponent>,\n  plugins?: Record<string, VuesticPlugin | VuesticPluginFabric>\n } = {}) => ({\n  install (app) {\n    const { config, components, plugins } = options\n\n    setCurrentApp(app)\n\n    // These plugins have dependant plugins, so have to be registered first.\n    usePlugin(app, plugins?.GlobalConfigPlugin || GlobalConfigPlugin, config)\n    usePlugin(app, plugins?.CachePlugin || CachePlugin)\n    usePlugin(app, plugins?.ColorConfigPlugin || ColorConfigPlugin, config)\n\n    if (plugins) {\n      Object.entries(plugins).forEach(([name, plugin]) => {\n        if (ESSENTIAL_PLUGIN_NAMES.includes(name)) { return }\n        usePlugin(app, plugin)\n      })\n    }\n\n    if (components) {\n      Object.entries(components).forEach(([name, component]) => {\n        app.component(name, component)\n      })\n    }\n\n    setCurrentApp(null)\n  },\n}))\n"]},"metadata":{},"sourceType":"module"}