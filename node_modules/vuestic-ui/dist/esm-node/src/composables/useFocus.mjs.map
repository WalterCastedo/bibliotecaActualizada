{"version":3,"file":"useFocus.mjs","sources":["../../../../src/composables/useFocus.ts"],"sourcesContent":["import { ref, onMounted, onBeforeUnmount, Ref } from 'vue'\n\nexport const useFocusEmits = ['focus', 'blur']\n\nexport function useFocus (\n  el?: Ref<HTMLElement | null | undefined>,\n  emit?: (event: 'focus' | 'blur', e?: Event) => void,\n) {\n  const isFocused = ref(false)\n\n  const onFocus = (e?: Event) => {\n    isFocused.value = true\n    emit?.('focus', e)\n  }\n\n  const onBlur = (e?: Event) => {\n    isFocused.value = false\n    emit?.('blur', e)\n  }\n\n  const focus = (): void => {\n    el?.value?.focus()\n  }\n\n  const blur = (): void => {\n    el?.value?.blur()\n  }\n\n  let element: any\n  onMounted(() => {\n    element = (el?.value as any)?.$el ?? el?.value\n    if (element) {\n      element.addEventListener('focus', onFocus)\n      element.addEventListener('blur', onBlur)\n    }\n  })\n  onBeforeUnmount(() => {\n    if (element) {\n      element.removeEventListener('focus', onFocus)\n      element.removeEventListener('blur', onBlur)\n    }\n  })\n\n  return {\n    isFocused,\n    onFocus,\n    onBlur,\n    focus,\n    blur,\n  }\n}\n"],"names":[],"mappings":";AAEa,MAAA,gBAAgB,CAAC,SAAS,MAAM;AAEtC,kBACL,IACA,MACA;AACM,QAAA,YAAY,IAAI,KAAK;AAErB,QAAA,UAAU,CAAC,MAAc;AAC7B,cAAU,QAAQ;AAClB,iCAAO,SAAS;AAAA,EAAC;AAGb,QAAA,SAAS,CAAC,MAAc;AAC5B,cAAU,QAAQ;AAClB,iCAAO,QAAQ;AAAA,EAAC;AAGlB,QAAM,QAAQ,MAAY;;AACxB,mCAAI,UAAJ,mBAAW;AAAA,EAAM;AAGnB,QAAM,OAAO,MAAY;;AACvB,mCAAI,UAAJ,mBAAW;AAAA,EAAK;AAGd,MAAA;AACJ,YAAU,MAAM;;AACH,cAAA,qCAAI,UAAJ,mBAAmB,QAAnB,YAA0B,yBAAI;AACzC,QAAI,SAAS;AACH,cAAA,iBAAiB,SAAS,OAAO;AACjC,cAAA,iBAAiB,QAAQ,MAAM;AAAA,IACzC;AAAA,EAAA,CACD;AACD,kBAAgB,MAAM;AACpB,QAAI,SAAS;AACH,cAAA,oBAAoB,SAAS,OAAO;AACpC,cAAA,oBAAoB,QAAQ,MAAM;AAAA,IAC5C;AAAA,EAAA,CACD;AAEM,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;;"}