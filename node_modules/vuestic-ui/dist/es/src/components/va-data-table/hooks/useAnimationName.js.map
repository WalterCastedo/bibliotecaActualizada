{"version":3,"file":"useAnimationName.js","sources":["../../../../../../src/components/va-data-table/hooks/useAnimationName.ts"],"sourcesContent":["import { computed, Ref, ref, watch } from 'vue'\n\nimport type { DataTableRow } from '../types'\n\ntype AnimationName = 'shuffle' | 'fade'\n\ninterface useAnimationNameProps {\n  currentPage: number | undefined\n  animated: boolean\n}\n\nexport default function useAnimationName (\n  props: useAnimationNameProps,\n  rows: Ref<DataTableRow[]>,\n) {\n  const animationType = ref<AnimationName>('shuffle')\n\n  const animationName = computed(() => props.animated ? `table-transition-${animationType.value}` : '')\n\n  const oldRowsLength = ref(rows.value.length)\n  const isDifferentRowLength = computed(() => rows.value.length !== oldRowsLength.value)\n\n  watch(rows, (newRows, oldRows) => {\n    const hasRows = !!(newRows.length && oldRows.length)\n\n    animationType.value = newRows.length > 50 || (isDifferentRowLength.value && hasRows)\n      ? 'fade'\n      : 'shuffle'\n\n    oldRowsLength.value = newRows.length\n  })\n\n  watch(() => props.currentPage, () => {\n    if (!isDifferentRowLength.value) {\n      animationType.value = 'shuffle'\n    }\n  })\n\n  return animationName\n}\n"],"names":[],"mappings":";AAWA,0BACE,OACA,MACA;AACM,QAAA,gBAAgB,IAAmB,SAAS;AAE5C,QAAA,gBAAgB,SAAS,MAAM,MAAM,WAAW,oBAAoB,cAAc,UAAU,EAAE;AAEpG,QAAM,gBAAgB,IAAI,KAAK,MAAM,MAAM;AAC3C,QAAM,uBAAuB,SAAS,MAAM,KAAK,MAAM,WAAW,cAAc,KAAK;AAE/E,QAAA,MAAM,CAAC,SAAS,YAAY;AAChC,UAAM,UAAU,CAAC,CAAE,SAAQ,UAAU,QAAQ;AAE7C,kBAAc,QAAQ,QAAQ,SAAS,MAAO,qBAAqB,SAAS,UACxE,SACA;AAEJ,kBAAc,QAAQ,QAAQ;AAAA,EAAA,CAC/B;AAEK,QAAA,MAAM,MAAM,aAAa,MAAM;AAC/B,QAAA,CAAC,qBAAqB,OAAO;AAC/B,oBAAc,QAAQ;AAAA,IACxB;AAAA,EAAA,CACD;AAEM,SAAA;AACT;;"}