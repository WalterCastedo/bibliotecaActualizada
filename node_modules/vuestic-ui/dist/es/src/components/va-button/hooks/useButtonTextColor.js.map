{"version":3,"file":"useButtonTextColor.js","sources":["../../../../../../src/components/va-button/hooks/useButtonTextColor.ts"],"sourcesContent":["import { computed, Ref, ComputedRef, getCurrentInstance } from 'vue'\n\nimport { useColors } from '../../../composables'\n\nimport { ButtonPropsTypes } from '../types'\n\ntype UseButtonTextColor = (\n  textColorComputed: Ref<string>,\n  colorComputed: Ref<string>,\n  isPressed: Ref<boolean>,\n  isHovered: Ref<boolean>,\n) => ComputedRef<{\n  color: string\n  background?: string\n  opacity?: number\n  'background-clip'?: 'text',\n  '-webkit-background-clip'?: 'text',\n}>\n\nexport const useButtonTextColor: UseButtonTextColor = (\n  textColorComputed,\n  colorComputed,\n  isPressed,\n  isHovered,\n) => {\n  const instance = getCurrentInstance()\n  if (!instance) { throw new Error('`useButtonTextColor` hook must be used only inside of setup function!') }\n\n  const props = instance.props as Required<ButtonPropsTypes>\n\n  const { getColor, colorToRgba, getStateMaskGradientBackground } = useColors()\n\n  const plainColorStyles = computed(() => ({\n    background: 'transparent',\n    color: 'transparent',\n    '-webkit-background-clip': 'text',\n    'background-clip': 'text',\n    opacity: getPlainTextOpacity.value,\n  }))\n\n  const getStateColor = (maskColor: string, stateOpacity: number, stateBehavior: string) => {\n    const maskStateColor = getColor(maskColor)\n\n    const res = stateBehavior === 'opacity'\n      ? { color: colorToRgba(textColorComputed.value, stateOpacity) }\n      : { background: getStateMaskGradientBackground(colorComputed.value, maskStateColor, stateOpacity) }\n    return { ...plainColorStyles.value, ...res }\n  }\n\n  const hoverTextColorComputed = computed(() => {\n    return getStateColor(props.hoverMaskColor, props.hoverOpacity, props.hoverBehavior)\n  })\n\n  const pressedTextColorComputed = computed(() => {\n    return getStateColor(props.pressedMaskColor, props.pressedOpacity, props.pressedBehavior)\n  })\n\n  const getPlainTextOpacity = computed(() => {\n    if (props.disabled) { return undefined }\n    if (props.textOpacity === 1 || (isHovered.value && !isPressed.value)) { return 1 }\n    return isPressed.value ? 0.9 : props.textOpacity\n  })\n\n  return computed(() => {\n    const defaultColorStyles = {\n      color: textColorComputed.value,\n      background: 'transparent',\n    }\n\n    props.plain && Object.assign(defaultColorStyles, plainColorStyles.value, { background: textColorComputed.value })\n\n    if (!props.plain) { return defaultColorStyles }\n    if (isPressed.value) { return pressedTextColorComputed.value }\n    if (isHovered.value) { return hoverTextColorComputed.value }\n    return defaultColorStyles\n  })\n}\n"],"names":[],"mappings":";;;;;;;;AAmBO,MAAM,qBAAyC,CACpD,mBACA,eACA,WACA,cACG;AACH,QAAM,WAAW;AACjB,MAAI,CAAC,UAAU;AAAQ,UAAA,IAAI,MAAM,uEAAuE;AAAA,EAAE;AAE1G,QAAM,QAAQ,SAAS;AAEvB,QAAM,EAAE,UAAU,aAAa,mCAAmC,UAAU;AAEtE,QAAA,mBAAmB,SAAS,MAAO;AAAA,IACvC,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,2BAA2B;AAAA,IAC3B,mBAAmB;AAAA,IACnB,SAAS,oBAAoB;AAAA,EAC7B,EAAA;AAEF,QAAM,gBAAgB,CAAC,WAAmB,cAAsB,kBAA0B;AAClF,UAAA,iBAAiB,SAAS,SAAS;AAEzC,UAAM,MAAM,kBAAkB,YAC1B,EAAE,OAAO,YAAY,kBAAkB,OAAO,YAAY,EAAE,IAC5D,EAAE,YAAY,+BAA+B,cAAc,OAAO,gBAAgB,YAAY;AAClG,WAAO,EAAE,GAAG,iBAAiB,OAAO,GAAG,IAAI;AAAA,EAAA;AAGvC,QAAA,yBAAyB,SAAS,MAAM;AAC5C,WAAO,cAAc,MAAM,gBAAgB,MAAM,cAAc,MAAM,aAAa;AAAA,EAAA,CACnF;AAEK,QAAA,2BAA2B,SAAS,MAAM;AAC9C,WAAO,cAAc,MAAM,kBAAkB,MAAM,gBAAgB,MAAM,eAAe;AAAA,EAAA,CACzF;AAEK,QAAA,sBAAsB,SAAS,MAAM;AACzC,QAAI,MAAM,UAAU;AAAS,aAAA;AAAA,IAAU;AACvC,QAAI,MAAM,gBAAgB,KAAM,UAAU,SAAS,CAAC,UAAU,OAAQ;AAAS,aAAA;AAAA,IAAE;AAC1E,WAAA,UAAU,QAAQ,MAAM,MAAM;AAAA,EAAA,CACtC;AAED,SAAO,SAAS,MAAM;AACpB,UAAM,qBAAqB;AAAA,MACzB,OAAO,kBAAkB;AAAA,MACzB,YAAY;AAAA,IAAA;AAGR,UAAA,SAAS,OAAO,OAAO,oBAAoB,iBAAiB,OAAO,EAAE,YAAY,kBAAkB,MAAO,CAAA;AAE5G,QAAA,CAAC,MAAM,OAAO;AAAS,aAAA;AAAA,IAAmB;AAC9C,QAAI,UAAU,OAAO;AAAE,aAAO,yBAAyB;AAAA,IAAM;AAC7D,QAAI,UAAU,OAAO;AAAE,aAAO,uBAAuB;AAAA,IAAM;AACpD,WAAA;AAAA,EAAA,CACR;AACH;;"}